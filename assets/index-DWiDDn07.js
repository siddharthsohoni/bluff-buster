(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var qf={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function BT(){if(Vy)return Hl;Vy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Hl.Fragment=e,Hl.jsx=r,Hl.jsxs=r,Hl}var Oy;function zT(){return Oy||(Oy=1,qf.exports=BT()),qf.exports}var w=zT(),Hf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function qT(){if(My)return Ct;My=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function F(N,et,lt){this.props=N,this.context=et,this.refs=K,this.updater=lt||P}F.prototype.isReactComponent={},F.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=F.prototype;function J(N,et,lt){this.props=N,this.context=et,this.refs=K,this.updater=lt||P}var rt=J.prototype=new $;rt.constructor=J,k(rt,F.prototype),rt.isPureReactComponent=!0;var mt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function O(N,et,lt,it,dt,xt){return lt=xt.ref,{$$typeof:i,type:N,key:et,ref:lt!==void 0?lt:null,props:xt}}function x(N,et){return O(N.type,et,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function I(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(lt){return et[lt]})}var M=/\/+/g;function L(N,et){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):et.toString(36)}function C(){}function bt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function wt(N,et,lt,it,dt){var xt=typeof N;(xt==="undefined"||xt==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(xt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case i:case e:_t=!0;break;case E:return _t=N._init,wt(_t(N._payload),et,lt,it,dt)}}if(_t)return dt=dt(N),_t=it===""?"."+L(N,0):it,mt(dt)?(lt="",_t!=null&&(lt=_t.replace(M,"$&/")+"/"),wt(dt,et,lt,"",function(jn){return jn})):dt!=null&&(R(dt)&&(dt=x(dt,lt+(dt.key==null||N&&N.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+_t)),et.push(dt)),1;_t=0;var le=it===""?".":it+":";if(mt(N))for(var Wt=0;Wt<N.length;Wt++)it=N[Wt],xt=le+L(it,Wt),_t+=wt(it,et,lt,xt,dt);else if(Wt=A(N),typeof Wt=="function")for(N=Wt.call(N),Wt=0;!(it=N.next()).done;)it=it.value,xt=le+L(it,Wt++),_t+=wt(it,et,lt,xt,dt);else if(xt==="object"){if(typeof N.then=="function")return wt(bt(N),et,lt,it,dt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(N,et,lt){if(N==null)return N;var it=[],dt=0;return wt(N,it,"","",function(xt){return et.call(lt,xt,dt++)}),it}function at(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(lt){(N._status===0||N._status===-1)&&(N._status=1,N._result=lt)},function(lt){(N._status===0||N._status===-1)&&(N._status=2,N._result=lt)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var ft=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Dt(){}return Ct.Children={map:Y,forEach:function(N,et,lt){Y(N,function(){et.apply(this,arguments)},lt)},count:function(N){var et=0;return Y(N,function(){et++}),et},toArray:function(N){return Y(N,function(et){return et})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ct.Component=F,Ct.Fragment=r,Ct.Profiler=o,Ct.PureComponent=J,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ht.H.useMemoCache(N)}},Ct.cache=function(N){return function(){return N.apply(null,arguments)}},Ct.cloneElement=function(N,et,lt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var it=k({},N.props),dt=N.key,xt=void 0;if(et!=null)for(_t in et.ref!==void 0&&(xt=void 0),et.key!==void 0&&(dt=""+et.key),et)!Rt.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(it[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)it.children=lt;else if(1<_t){for(var le=Array(_t),Wt=0;Wt<_t;Wt++)le[Wt]=arguments[Wt+2];it.children=le}return O(N.type,dt,void 0,void 0,xt,it)},Ct.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},Ct.createElement=function(N,et,lt){var it,dt={},xt=null;if(et!=null)for(it in et.key!==void 0&&(xt=""+et.key),et)Rt.call(et,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=et[it]);var _t=arguments.length-2;if(_t===1)dt.children=lt;else if(1<_t){for(var le=Array(_t),Wt=0;Wt<_t;Wt++)le[Wt]=arguments[Wt+2];dt.children=le}if(N&&N.defaultProps)for(it in _t=N.defaultProps,_t)dt[it]===void 0&&(dt[it]=_t[it]);return O(N,xt,void 0,void 0,null,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(N){return{$$typeof:g,render:N}},Ct.isValidElement=R,Ct.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:at}},Ct.memo=function(N,et){return{$$typeof:y,type:N,compare:et===void 0?null:et}},Ct.startTransition=function(N){var et=ht.T,lt={};ht.T=lt;try{var it=N(),dt=ht.S;dt!==null&&dt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Dt,ft)}catch(xt){ft(xt)}finally{ht.T=et}},Ct.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Ct.use=function(N){return ht.H.use(N)},Ct.useActionState=function(N,et,lt){return ht.H.useActionState(N,et,lt)},Ct.useCallback=function(N,et){return ht.H.useCallback(N,et)},Ct.useContext=function(N){return ht.H.useContext(N)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(N,et){return ht.H.useDeferredValue(N,et)},Ct.useEffect=function(N,et,lt){var it=ht.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(N,et)},Ct.useId=function(){return ht.H.useId()},Ct.useImperativeHandle=function(N,et,lt){return ht.H.useImperativeHandle(N,et,lt)},Ct.useInsertionEffect=function(N,et){return ht.H.useInsertionEffect(N,et)},Ct.useLayoutEffect=function(N,et){return ht.H.useLayoutEffect(N,et)},Ct.useMemo=function(N,et){return ht.H.useMemo(N,et)},Ct.useOptimistic=function(N,et){return ht.H.useOptimistic(N,et)},Ct.useReducer=function(N,et,lt){return ht.H.useReducer(N,et,lt)},Ct.useRef=function(N){return ht.H.useRef(N)},Ct.useState=function(N){return ht.H.useState(N)},Ct.useSyncExternalStore=function(N,et,lt){return ht.H.useSyncExternalStore(N,et,lt)},Ct.useTransition=function(){return ht.H.useTransition()},Ct.version="19.1.0",Ct}var ky;function Nd(){return ky||(ky=1,Hf.exports=qT()),Hf.exports}var G=Nd(),Gf={exports:{}},Gl={},Ff={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function HT(){return Ly||(Ly=1,function(i){function e(Y,at){var ft=Y.length;Y.push(at);t:for(;0<ft;){var Dt=ft-1>>>1,N=Y[Dt];if(0<o(N,at))Y[Dt]=at,Y[ft]=N,ft=Dt;else break t}}function r(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var at=Y[0],ft=Y.pop();if(ft!==at){Y[0]=ft;t:for(var Dt=0,N=Y.length,et=N>>>1;Dt<et;){var lt=2*(Dt+1)-1,it=Y[lt],dt=lt+1,xt=Y[dt];if(0>o(it,ft))dt<N&&0>o(xt,it)?(Y[Dt]=xt,Y[dt]=ft,Dt=dt):(Y[Dt]=it,Y[lt]=ft,Dt=lt);else if(dt<N&&0>o(xt,ft))Y[Dt]=xt,Y[dt]=ft,Dt=dt;else break t}}return at}function o(Y,at){var ft=Y.sortIndex-at.sortIndex;return ft!==0?ft:Y.id-at.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,A=3,P=!1,k=!1,K=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function mt(Y){for(var at=r(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=Y)s(y),at.sortIndex=at.expirationTime,e(p,at);else break;at=r(y)}}function ht(Y){if(K=!1,mt(Y),!k)if(r(p)!==null)k=!0,Rt||(Rt=!0,L());else{var at=r(y);at!==null&&wt(ht,at.startTime-Y)}}var Rt=!1,O=-1,x=5,R=-1;function I(){return F?!0:!(i.unstable_now()-R<x)}function M(){if(F=!1,Rt){var Y=i.unstable_now();R=Y;var at=!0;try{t:{k=!1,K&&(K=!1,J(O),O=-1),P=!0;var ft=A;try{e:{for(mt(Y),S=r(p);S!==null&&!(S.expirationTime>Y&&I());){var Dt=S.callback;if(typeof Dt=="function"){S.callback=null,A=S.priorityLevel;var N=Dt(S.expirationTime<=Y);if(Y=i.unstable_now(),typeof N=="function"){S.callback=N,mt(Y),at=!0;break e}S===r(p)&&s(p),mt(Y)}else s(p);S=r(p)}if(S!==null)at=!0;else{var et=r(y);et!==null&&wt(ht,et.startTime-Y),at=!1}}break t}finally{S=null,A=ft,P=!1}at=void 0}}finally{at?L():Rt=!1}}}var L;if(typeof rt=="function")L=function(){rt(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,bt=C.port2;C.port1.onmessage=M,L=function(){bt.postMessage(null)}}else L=function(){$(M,0)};function wt(Y,at){O=$(function(){Y(i.unstable_now())},at)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var at=3;break;default:at=A}var ft=A;A=at;try{return Y()}finally{A=ft}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(Y,at){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ft=A;A=Y;try{return at()}finally{A=ft}},i.unstable_scheduleCallback=function(Y,at,ft){var Dt=i.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Dt+ft:Dt):ft=Dt,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ft+N,Y={id:E++,callback:at,priorityLevel:Y,startTime:ft,expirationTime:N,sortIndex:-1},ft>Dt?(Y.sortIndex=ft,e(y,Y),r(p)===null&&Y===r(y)&&(K?(J(O),O=-1):K=!0,wt(ht,ft-Dt))):(Y.sortIndex=N,e(p,Y),k||P||(k=!0,Rt||(Rt=!0,L()))),Y},i.unstable_shouldYield=I,i.unstable_wrapCallback=function(Y){var at=A;return function(){var ft=A;A=at;try{return Y.apply(this,arguments)}finally{A=ft}}}}(Qf)),Qf}var Uy;function GT(){return Uy||(Uy=1,Ff.exports=HT()),Ff.exports}var Yf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function FT(){if(Py)return Ge;Py=1;var i=Nd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Ge.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:A,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var jy;function QT(){if(jy)return Yf.exports;jy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Yf.exports=FT(),Yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function YT(){if(By)return Gl;By=1;var i=GT(),e=Nd(),r=QT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case F:return"Profiler";case K:return"StrictMode";case ht:return"Suspense";case Rt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:bt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return bt(t(n))}catch{}}return null}var wt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Dt=[],N=-1;function et(t){return{current:t}}function lt(t){0>N||(t.current=Dt[N],Dt[N]=null,N--)}function it(t,n){N++,Dt[N]=t.current,t.current=n}var dt=et(null),xt=et(null),_t=et(null),le=et(null);function Wt(t,n){switch(it(_t,n),it(xt,t),it(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?sy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=sy(n),t=ly(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(dt),it(dt,t)}function jn(){lt(dt),lt(xt),lt(_t)}function qr(t){t.memoizedState!==null&&it(le,t);var n=dt.current,a=ly(n,t.type);n!==a&&(it(xt,t),it(dt,a))}function ur(t){xt.current===t&&(lt(dt),lt(xt)),le.current===t&&(lt(le),Pl._currentValue=ft)}var Ni=Object.prototype.hasOwnProperty,Ii=i.unstable_scheduleCallback,Vi=i.unstable_cancelCallback,ks=i.unstable_shouldYield,Eo=i.unstable_requestPaint,mn=i.unstable_now,zc=i.unstable_getCurrentPriorityLevel,Ls=i.unstable_ImmediatePriority,ba=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,qc=i.unstable_LowPriority,Aa=i.unstable_IdlePriority,Us=i.log,To=i.unstable_setDisableYieldValue,oe=null,Ft=null;function rn(t){if(typeof Us=="function"&&To(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,t)}catch{}}var qe=Math.clz32?Math.clz32:Mi,bo=Math.log,Hc=Math.LN2;function Mi(t){return t>>>=0,t===0?32:31-(bo(t)/Hc|0)|0}var ki=256,Li=4194304;function Nn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Nn(l):(_&=T,_!==0?h=Nn(_):a||(a=T&~t,a!==0&&(h=Nn(a))))):(T=l&~f,T!==0?h=Nn(T):_!==0?h=Nn(_):a||(a=l&~t,a!==0&&(h=Nn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Ui(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ps(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function js(){var t=ki;return ki<<=1,(ki&4194048)===0&&(ki=256),t}function Bs(){var t=Li;return Li<<=1,(Li&62914560)===0&&(Li=4194304),t}function cr(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zs(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-qe(a),W=1<<X;T[X]=0,D[X]=-1;var q=z[X];if(q!==null)for(z[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&Bn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Bn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function qs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gr(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:xy(t.type))}function Ao(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var ne=Math.random().toString(36).slice(2),Te="__reactFiber$"+ne,ge="__reactProps$"+ne,gn="__reactContainer$"+ne,Hs="__reactEvents$"+ne,Gc="__reactListeners$"+ne,Fr="__reactHandles$"+ne,So="__reactResources$"+ne,Pi="__reactMarker$"+ne;function Qr(t){delete t[Te],delete t[ge],delete t[Hs],delete t[Gc],delete t[Fr]}function fr(t){var n=t[Te];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gn]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=hy(t);t!==null;){if(a=t[Te])return a;t=hy(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Te]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Pi]=!0}var Gs=new Set,xa={};function In(t,n){dr(t,n),dr(t+"Capture",n)}function dr(t,n){for(xa[t]=n,t=0;t<n.length;t++)Gs.add(n[t])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},ji={};function Ro(t){return Ni.call(ji,t)?!0:Ni.call(xo,t)?!1:wo.test(t)?ji[t]=!0:(xo[t]=!0,!1)}function Yr(t,n,a){if(Ro(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Me(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Bi,Co;function mr(t){if(Bi===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Bi=n&&n[1]||"",Co=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bi+t+Co}var Ra=!1;function Ca(t,n){if(!t||Ra)return"";Ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var q=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){q=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){q=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var D=_.split(`
`),z=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mr(a):""}function Fs(t){switch(t.tag){case 26:case 27:case 5:return mr(t.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return Ca(t.type,!1);case 11:return Ca(t.type.render,!1);case 1:return Ca(t.type,!0);case 31:return mr("Activity");default:return""}}function Da(t){try{var n="";do n+=Fs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fc(t){var n=Qs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Na(t){t._valueTracker||(t._valueTracker=Fc(t))}function Ys(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qc=/[\n"\\]/g;function pe(t){return t.replace(Qc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,a,l,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,_,Xe(n)):a!=null?Kr(t,_,Xe(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xe(T):t.removeAttribute("name")}function qi(t,n,a,l,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Kr(t,n,a){n==="number"&&zi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Kt(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function Hi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Gi.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ks(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Do(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Do(t,f,n[f])}function Xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Kc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pr=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yr=null,vr=null;function $s(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ge]||null;if(!h)throw Error(s(90));an(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ys(l)}break t;case"textarea":Kt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&gr(t,!!a.multiple,n,!1)}}}var Gn=!1;function No(t,n,a){if(Gn)return t(n,a);Gn=!0;try{var l=t(n);return l}finally{if(Gn=!1,(yr!==null||vr!==null)&&(Au(),yr&&(n=yr,t=vr,vr=yr=null,$s(n),t)))for(n=0;n<t.length;n++)$s(t[n])}}function Fi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ge]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{vn=!1}var Fn=null,Xr=null,_r=null;function Zs(){if(_r)return _r;var t,n=Xr,a=n.length,l,h="value"in Fn?Fn.value:Fn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return _r=h.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Yn(){return!0}function Js(){return!1}function Ce(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:Js,this.isPropagationStopped=Js,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Ce(Ht),Yi=E({},Ht,{view:0,detail:0}),Io=Ce(Yi),Oa,Ma,Kn,Ki=E({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Oa=t.screenX-Kn.screenX,Ma=t.screenY-Kn.screenY):Ma=Oa=0,Kn=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:Ma}}),_n=Ce(Ki),Vo=E({},Ki,{dataTransfer:0}),Xc=Ce(Vo),Xi=E({},Yi,{relatedTarget:0}),ka=Ce(Xi),Ws=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ce(Ws),Oo=E({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=Ce(Oo),$c=E({},Ht,{data:0}),tl=Ce($c),$i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ko[t])?!!n[t]:!1}function Zi(){return el}var Lo=E({},Yi,{key:function(t){if(t.key){var n=$i[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pa=Ce(Lo),Uo=E({},Ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ce(Uo),Er=E({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),Po=Ce(Er),jo=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=Ce(jo),zo=E({},Ki,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=Ce(zo),$e=E({},Ht,{newState:0,oldState:0}),qo=Ce($e),Ho=[9,13,27,32],Xn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,v=Vn&&(!Xn||u&&8<u&&11>=u),b=" ",j=!1;function Q(t,n){switch(t){case"keyup":return Ho.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lt=!1;function be(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(j=!0,b);case"textInput":return t=n.data,t===b&&j?null:t;default:return null}}function Ut(t,n){if(Lt)return t==="compositionend"||!Xn&&Q(t,n)?(t=Zs(),_r=Xr=Fn=null,Lt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function Tr(t,n,a,l){yr?vr?vr.push(l):vr=[l]:yr=l,n=Du(n,"onChange"),0<n.length&&(a=new Va("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ke=null,$n=null;function rl(t){ey(t,0)}function Go(t){var n=qn(t);if(Ys(n))return t}function bm(t,n){if(t==="change")return n}var Am=!1;if(Vn){var Zc;if(Vn){var Jc="oninput"in document;if(!Jc){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Jc=typeof Sm.oninput=="function"}Zc=Jc}else Zc=!1;Am=Zc&&(!document.documentMode||9<document.documentMode)}function wm(){ke&&(ke.detachEvent("onpropertychange",xm),$n=ke=null)}function xm(t){if(t.propertyName==="value"&&Go($n)){var n=[];Tr(n,$n,t,yn(t)),No(rl,n)}}function pE(t,n,a){t==="focusin"?(wm(),ke=n,$n=a,ke.attachEvent("onpropertychange",xm)):t==="focusout"&&wm()}function yE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Go($n)}function vE(t,n){if(t==="click")return Go(n)}function _E(t,n){if(t==="input"||t==="change")return Go(n)}function EE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:EE;function il(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ni.call(n,h)||!sn(t[h],n[h]))return!1}return!0}function Rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cm(t,n){var a=Rm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Rm(a)}}function Dm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Dm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Nm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=zi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=zi(t.document)}return n}function Wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var TE=Vn&&"documentMode"in document&&11>=document.documentMode,Ba=null,th=null,al=null,eh=!1;function Im(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;eh||Ba==null||Ba!==zi(l)||(l=Ba,"selectionStart"in l&&Wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Du(th,"onSelect"),0<l.length&&(n=new Va("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ba)))}function Ji(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var za={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},nh={},Vm={};Vn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Wi(t){if(nh[t])return nh[t];if(!za[t])return t;var n=za[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Vm)return nh[t]=n[a];return t}var Om=Wi("animationend"),Mm=Wi("animationiteration"),km=Wi("animationstart"),bE=Wi("transitionrun"),AE=Wi("transitionstart"),SE=Wi("transitioncancel"),Lm=Wi("transitionend"),Um=new Map,rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rh.push("scrollEnd");function On(t,n){Um.set(t,n),In(n,[t])}var Pm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Pm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Da(n)},Pm.set(t,n),n)}return{value:t,source:n,stack:Da(n)}}var Tn=[],qa=0,ih=0;function Fo(){for(var t=qa,n=ih=qa=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var h=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&jm(a,h,f)}}function Qo(t,n,a,l){Tn[qa++]=t,Tn[qa++]=n,Tn[qa++]=a,Tn[qa++]=l,ih|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ah(t,n,a,l){return Qo(t,n,a,l),Yo(t)}function Ha(t,n){return Qo(t,null,null,n),Yo(t)}function jm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-qe(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Yo(t){if(50<Nl)throw Nl=0,ff=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function wE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,a,l){return new wE(t,n,a,l)}function sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function br(t,n){var a=t.alternate;return a===null?(a=ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")sh(t)&&(_=1);else if(typeof t=="string")_=RT(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=ln(31,a,n,h),t.elementType=R,t.lanes=f,t;case k:return ta(a.children,h,f,n);case K:_=8,h|=24;break;case F:return t=ln(12,a,n,h|2),t.elementType=F,t.lanes=f,t;case ht:return t=ln(13,a,n,h),t.elementType=ht,t.lanes=f,t;case Rt:return t=ln(19,a,n,h),t.elementType=Rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case rt:_=10;break t;case J:_=9;break t;case mt:_=11;break t;case O:_=14;break t;case x:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ta(t,n,a,l){return t=ln(7,t,l,n),t.lanes=a,t}function lh(t,n,a){return t=ln(6,t,null,n),t.lanes=a,t}function oh(t,n,a){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fa=[],Qa=0,Xo=null,$o=0,bn=[],An=0,ea=null,Ar=1,Sr="";function na(t,n){Fa[Qa++]=$o,Fa[Qa++]=Xo,Xo=t,$o=n}function zm(t,n,a){bn[An++]=Ar,bn[An++]=Sr,bn[An++]=ea,ea=t;var l=Ar;t=Sr;var h=32-qe(l)-1;l&=~(1<<h),a+=1;var f=32-qe(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ar=1<<32-qe(n)+h|a<<h|l,Sr=f+t}else Ar=1<<f|a<<h|l,Sr=t}function uh(t){t.return!==null&&(na(t,1),zm(t,1,0))}function ch(t){for(;t===Xo;)Xo=Fa[--Qa],Fa[Qa]=null,$o=Fa[--Qa],Fa[Qa]=null;for(;t===ea;)ea=bn[--An],bn[An]=null,Sr=bn[--An],bn[An]=null,Ar=bn[--An],bn[An]=null}var Ze=null,ue=null,qt=!1,ra=null,Zn=!1,hh=Error(s(519));function ia(t){var n=Error(s(418,""));throw ol(En(n,t)),hh}function qm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Te]=t,n[ge]=l,a){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Mt(Vl[a],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),qi(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Na(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),Hi(n,l.value,l.defaultValue,l.children),Na(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ay(n.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Nu),n=!0):n=!1,n||ia(t)}function Hm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ze=Ze.return}}function sl(t){if(t!==Ze)return!1;if(!qt)return Hm(t),qt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cf(t.type,t.memoizedProps)),a=!a),a&&ue&&ia(t),Hm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){ue=kn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,hi(t.type)?(t=Vf,Vf=null,ue=t):ue=n):ue=Ze?kn(t.stateNode.nextSibling):null;return!0}function ll(){ue=Ze=null,qt=!1}function Gm(){var t=ra;return t!==null&&(en===null?en=t:en.push.apply(en,t),ra=null),t}function ol(t){ra===null?ra=[t]:ra.push(t)}var fh=et(null),aa=null,wr=null;function $r(t,n,a){it(fh,n._currentValue),n._currentValue=a}function xr(t){t._currentValue=fh.current,lt(fh)}function dh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function mh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),dh(f.return,a,t),l||(_=null);break t}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),dh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ul(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;sn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&mh(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){aa=t,wr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Fm(aa,t)}function Jo(t,n){return aa===null&&sa(t),Fm(t,n)}function Fm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wr===null){if(t===null)throw Error(s(308));wr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wr=wr.next=n;return a}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},RE=i.unstable_scheduleCallback,CE=i.unstable_NormalPriority,Se={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new xE,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&RE(CE,function(){t.controller.abort()})}var hl=null,ph=0,Ya=0,Ka=null;function DE(t,n){if(hl===null){var a=hl=[];ph=0,Ya=_f(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ph++,n.then(Qm,Qm),n}function Qm(){if(--ph===0&&hl!==null){Ka!==null&&(Ka.status="fulfilled");var t=hl;hl=null,Ya=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ym=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&DE(t,n),Ym!==null&&Ym(t,n)};var la=et(null);function yh(){var t=la.current;return t!==null?t:te.pooledCache}function Wo(t,n){n===null?it(la,la.current):it(la,n.pool)}function Km(){var t=yh();return t===null?null:{parent:Se._currentValue,pool:t}}var fl=Error(s(460)),Xm=Error(s(474)),tu=Error(s(542)),vh={then:function(){}};function $m(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eu(){}function Zm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(eu,eu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wm(t),t;default:if(typeof n.status=="string")n.then(eu,eu);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Wm(t),t}throw dl=n,fl}}var dl=null;function Jm(){if(dl===null)throw Error(s(459));var t=dl;return dl=null,t}function Wm(t){if(t===fl||t===tu)throw Error(s(483))}var Zr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Yo(t),jm(t,null,a),n}return Qo(t,l,n,a),Yo(t)}function ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qs(t,a)}}function Th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var bh=!1;function gl(){if(bh){var t=Ka;if(t!==null)throw t}}function pl(t,n,a,l){bh=!1;var h=t.updateQueue;Zr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,z=D.next;D.next=null,_===null?f=z:_.next=z,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=z:T.next=z,X.lastBaseUpdate=D))}if(f!==null){var W=h.baseState;_=0,X=z=D=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Pt&q)===q:(l&q)===q){q!==0&&q===Ya&&(bh=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=t,yt=T;q=n;var Zt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){W=Tt.call(Zt,W,q);break t}W=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,q=typeof Tt=="function"?Tt.call(Zt,W,q):Tt,q==null)break t;W=E({},W,q);break t;case 2:Zr=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(z=X=H,D=W):X=X.next=H,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(D=W),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),li|=_,t.lanes=_,t.memoizedState=W}}function tg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function eg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)tg(a[t],n)}var Xa=et(null),nu=et(0);function ng(t,n){t=Or,it(nu,t),it(Xa,n),Or=t|n.baseLanes}function Ah(){it(nu,Or),it(Xa,Xa.current)}function Sh(){Or=nu.current,lt(Xa),lt(nu)}var ti=0,Nt=null,Xt=null,ye=null,ru=!1,$a=!1,oa=!1,iu=0,yl=0,Za=null,IE=0;function fe(){throw Error(s(321))}function wh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function xh(t,n,a,l,h,f){return ti=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?jg:Bg,oa=!1,f=a(l,h),oa=!1,$a&&(f=ig(n,a,l,h)),rg(t),f}function rg(t){Y.H=cu;var n=Xt!==null&&Xt.next!==null;if(ti=0,ye=Xt=Nt=null,ru=!1,yl=0,Za=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&Zo(t)&&(Ne=!0))}function ig(t,n,a,l){Nt=t;var h=0;do{if($a&&(Za=null),yl=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,ye=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=PE,f=n(a,l)}while($a);return f}function VE(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Rh(){var t=iu!==0;return iu=0,t}function Ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Dh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}ti=0,ye=Xt=Nt=null,$a=!1,yl=iu=0,Za=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Nt.memoizedState=ye=t:ye=ye.next=t,ye}function ve(){if(Xt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=ye===null?Nt.memoizedState:ye.next;if(n!==null)ye=n,Xt=t;else{if(t===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ye===null?Nt.memoizedState=ye=t:ye=ye.next=t}return ye}function Nh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=yl;return yl+=1,Za===null&&(Za=[]),t=Zm(Za,t,n),n=Nt,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?jg:Bg),t}function au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===rt)return He(t)}throw Error(s(438,String(t)))}function Ih(t){var n=null,a=Nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Nh(),Nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Rr(t,n){return typeof n=="function"?n(t):n}function su(t){var n=ve();return Vh(n,Xt,t)}function Vh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,D=null,z=n,X=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Pt&W)===W:(ti&W)===W){var q=z.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Ya&&(X=!0);else if((ti&q)===q){z=z.next,q===Ya&&(X=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=W,_=f):D=D.next=W,Nt.lanes|=q,li|=q;W=z.action,oa&&a(f,W),f=z.hasEagerState?z.eagerState:a(f,W)}else q={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=q,_=f):D=D.next=q,Nt.lanes|=W,li|=W;z=z.next}while(z!==null&&z!==n);if(D===null?_=f:D.next=T,!sn(f,t.memoizedState)&&(Ne=!0,X&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Oh(t){var n=ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);sn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function ag(t,n,a){var l=Nt,h=ve(),f=qt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!sn((Xt||h).memoizedState,a);_&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=og.bind(null,l,h,t);if(_l(2048,8,T,[t]),h.getSnapshot!==n||_||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Ja(9,lu(),lg.bind(null,l,h,a,n),null),te===null)throw Error(s(349));f||(ti&124)!==0||sg(l,n,a)}return a}function sg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Nt.updateQueue,n===null?(n=Nh(),Nt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lg(t,n,a,l){n.value=a,n.getSnapshot=l,ug(n)&&cg(t)}function og(t,n,a){return a(function(){ug(n)&&cg(t)})}function ug(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function cg(t){var n=Ha(t,2);n!==null&&fn(n,t,2)}function Mh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),oa){rn(!0);try{a()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},n}function hg(t,n,a,l){return t.baseState=a,Vh(t,Xt,typeof l=="function"?l:Rr)}function OE(t,n,a,l,h){if(uu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,fg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function fg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,_={};Y.T=_;try{var T=a(h,l),D=Y.S;D!==null&&D(_,T),dg(t,n,T)}catch(z){kh(t,n,z)}finally{Y.T=f}}else try{f=a(h,l),dg(t,n,f)}catch(z){kh(t,n,z)}}function dg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){mg(t,n,l)},function(l){return kh(t,n,l)}):mg(t,n,a)}function mg(t,n,a){n.status="fulfilled",n.value=a,gg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,fg(t,a)))}function kh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,gg(n),n=n.next;while(n!==l)}t.action=null}function gg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function pg(t,n){return n}function yg(t,n){if(qt){var a=te.formState;if(a!==null){t:{var l=Nt;if(qt){if(ue){e:{for(var h=ue,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ue=kn(h.nextSibling),l=h.data==="F!";break t}}ia(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=l,a=Lg.bind(null,Nt,l),l.dispatch=a,l=Mh(!1),f=Bh.bind(null,Nt,!1,l.queue),l=We(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=OE.bind(null,Nt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function vg(t){var n=ve();return _g(n,Xt,t)}function _g(t,n,a){if(n=Vh(t,n,pg)[0],t=su(Rr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(_){throw _===fl?tu:_}else l=n;n=ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Nt.flags|=2048,Ja(9,lu(),ME.bind(null,h,a),null)),[l,f,t]}function ME(t,n){t.action=n}function Eg(t){var n=ve(),a=Xt;if(a!==null)return _g(n,a,t);ve(),n=n.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ja(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Nh(),Nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function lu(){return{destroy:void 0,resource:void 0}}function Tg(){return ve().memoizedState}function ou(t,n,a,l){var h=We();l=l===void 0?null:l,Nt.flags|=t,h.memoizedState=Ja(1|n,lu(),a,l)}function _l(t,n,a,l){var h=ve();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&wh(l,Xt.memoizedState.deps)?h.memoizedState=Ja(n,f,a,l):(Nt.flags|=t,h.memoizedState=Ja(1|n,f,a,l))}function bg(t,n){ou(8390656,8,t,n)}function Ag(t,n){_l(2048,8,t,n)}function Sg(t,n){return _l(4,2,t,n)}function wg(t,n){return _l(4,4,t,n)}function xg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rg(t,n,a){a=a!=null?a.concat([t]):null,_l(4,4,xg.bind(null,n,t),a)}function Lh(){}function Cg(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&wh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Dg(t,n){var a=ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&wh(n,l[1]))return l[0];if(l=t(),oa){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l}function Uh(t,n,a){return a===void 0||(ti&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Vp(),Nt.lanes|=t,li|=t,a)}function Ng(t,n,a,l){return sn(a,n)?a:Xa.current!==null?(t=Uh(t,a,l),sn(t,n)||(Ne=!0),t):(ti&42)===0?(Ne=!0,t.memoizedState=a):(t=Vp(),Nt.lanes|=t,li|=t,n)}function Ig(t,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var _=Y.T,T={};Y.T=T,Bh(t,!1,n,a);try{var D=h(),z=Y.S;if(z!==null&&z(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=NE(D,l);El(t,n,X,hn(t))}else El(t,n,l,hn(t))}catch(W){El(t,n,{then:function(){},status:"rejected",reason:W},hn())}finally{at.p=f,Y.T=_}}function kE(){}function Ph(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Vg(t).queue;Ig(t,h,n,ft,a===null?kE:function(){return Og(t),a(l)})}function Vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Og(t){var n=Vg(t).next.queue;El(t,n,{},hn())}function jh(){return He(Pl)}function Mg(){return ve().memoizedState}function kg(){return ve().memoizedState}function LE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Jr(a);var l=Wr(n,t,a);l!==null&&(fn(l,n,a),ml(l,n,a)),n={cache:gh()},t.payload=n;return}n=n.return}}function UE(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uu(t)?Ug(n,a):(a=ah(t,n,a,l),a!==null&&(fn(a,t,l),Pg(a,n,l)))}function Lg(t,n,a){var l=hn();El(t,n,a,l)}function El(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uu(t))Ug(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,sn(T,_))return Qo(t,n,h,0),te===null&&Fo(),!1}catch{}finally{}if(a=ah(t,n,h,l),a!==null)return fn(a,t,l),Pg(a,n,l),!0}return!1}function Bh(t,n,a,l){if(l={lane:2,revertLane:_f(),action:l,hasEagerState:!1,eagerState:null,next:null},uu(t)){if(n)throw Error(s(479))}else n=ah(t,a,l,2),n!==null&&fn(n,t,2)}function uu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Ug(t,n){$a=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qs(t,a)}}var cu={readContext:He,use:au,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},jg={readContext:He,use:au,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:bg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ou(4194308,4,xg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(oa){rn(!0);try{t()}finally{rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var h=a(n);if(oa){rn(!0);try{a(n)}finally{rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=UE.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Mh(t);var n=t.queue,a=Lg.bind(null,Nt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Lh,useDeferredValue:function(t,n){var a=We();return Uh(a,t,n)},useTransition:function(){var t=Mh(!1);return t=Ig.bind(null,Nt,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Nt,h=We();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(Pt&124)!==0||sg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,bg(og.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,lu(),lg.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=te.identifierPrefix;if(qt){var a=Sr,l=Ar;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=iu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=IE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:jh,useFormState:yg,useActionState:yg,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Bh.bind(null,Nt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Ih,useCacheRefresh:function(){return We().memoizedState=LE.bind(null,Nt)}},Bg={readContext:He,use:au,useCallback:Cg,useContext:He,useEffect:Ag,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Dg,useReducer:su,useRef:Tg,useState:function(){return su(Rr)},useDebugValue:Lh,useDeferredValue:function(t,n){var a=ve();return Ng(a,Xt.memoizedState,t,n)},useTransition:function(){var t=su(Rr)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:ag,useId:Mg,useHostTransitionStatus:jh,useFormState:vg,useActionState:vg,useOptimistic:function(t,n){var a=ve();return hg(a,Xt,t,n)},useMemoCache:Ih,useCacheRefresh:kg},PE={readContext:He,use:au,useCallback:Cg,useContext:He,useEffect:Ag,useImperativeHandle:Rg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Dg,useReducer:Oh,useRef:Tg,useState:function(){return Oh(Rr)},useDebugValue:Lh,useDeferredValue:function(t,n){var a=ve();return Xt===null?Uh(a,t,n):Ng(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Oh(Rr)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:ag,useId:Mg,useHostTransitionStatus:jh,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var a=ve();return Xt!==null?hg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ih,useCacheRefresh:kg},Wa=null,Tl=0;function hu(t){var n=Tl;return Tl+=1,Wa===null&&(Wa=[]),Zm(Wa,t,n)}function bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function fu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zg(t){var n=t._init;return n(t._payload)}function qg(t){function n(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=br(U,V),U.index=0,U.sibling=null,U}function f(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=67108866,V):B):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,B,Z){return V===null||V.tag!==6?(V=lh(B,U.mode,Z),V.return=U,V):(V=h(V,B),V.return=U,V)}function D(U,V,B,Z){var ct=B.type;return ct===k?X(U,V,B.props.children,Z,B.key):V!==null&&(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===x&&zg(ct)===V.type)?(V=h(V,B.props),bl(V,B),V.return=U,V):(V=Ko(B.type,B.key,B.props,null,U.mode,Z),bl(V,B),V.return=U,V)}function z(U,V,B,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=oh(B,U.mode,Z),V.return=U,V):(V=h(V,B.children||[]),V.return=U,V)}function X(U,V,B,Z,ct){return V===null||V.tag!==7?(V=ta(B,U.mode,Z,ct),V.return=U,V):(V=h(V,B),V.return=U,V)}function W(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=lh(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return B=Ko(V.type,V.key,V.props,null,U.mode,B),bl(B,V),B.return=U,B;case P:return V=oh(V,U.mode,B),V.return=U,V;case x:var Z=V._init;return V=Z(V._payload),W(U,V,B)}if(wt(V)||L(V))return V=ta(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return W(U,hu(V),B);if(V.$$typeof===rt)return W(U,Jo(U,V),B);fu(U,V)}return null}function q(U,V,B,Z){var ct=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ct!==null?null:T(U,V,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===ct?D(U,V,B,Z):null;case P:return B.key===ct?z(U,V,B,Z):null;case x:return ct=B._init,B=ct(B._payload),q(U,V,B,Z)}if(wt(B)||L(B))return ct!==null?null:X(U,V,B,Z,null);if(typeof B.then=="function")return q(U,V,hu(B),Z);if(B.$$typeof===rt)return q(U,V,Jo(U,B),Z);fu(U,B)}return null}function H(U,V,B,Z,ct){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(B)||null,T(V,U,""+Z,ct);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return U=U.get(Z.key===null?B:Z.key)||null,D(V,U,Z,ct);case P:return U=U.get(Z.key===null?B:Z.key)||null,z(V,U,Z,ct);case x:var Vt=Z._init;return Z=Vt(Z._payload),H(U,V,B,Z,ct)}if(wt(Z)||L(Z))return U=U.get(B)||null,X(V,U,Z,ct,null);if(typeof Z.then=="function")return H(U,V,B,hu(Z),ct);if(Z.$$typeof===rt)return H(U,V,B,Jo(V,Z),ct);fu(V,Z)}return null}function Tt(U,V,B,Z){for(var ct=null,Vt=null,gt=V,vt=V=0,Ve=null;gt!==null&&vt<B.length;vt++){gt.index>vt?(Ve=gt,gt=null):Ve=gt.sibling;var zt=q(U,gt,B[vt],Z);if(zt===null){gt===null&&(gt=Ve);break}t&&gt&&zt.alternate===null&&n(U,gt),V=f(zt,V,vt),Vt===null?ct=zt:Vt.sibling=zt,Vt=zt,gt=Ve}if(vt===B.length)return a(U,gt),qt&&na(U,vt),ct;if(gt===null){for(;vt<B.length;vt++)gt=W(U,B[vt],Z),gt!==null&&(V=f(gt,V,vt),Vt===null?ct=gt:Vt.sibling=gt,Vt=gt);return qt&&na(U,vt),ct}for(gt=l(gt);vt<B.length;vt++)Ve=H(gt,U,vt,B[vt],Z),Ve!==null&&(t&&Ve.alternate!==null&&gt.delete(Ve.key===null?vt:Ve.key),V=f(Ve,V,vt),Vt===null?ct=Ve:Vt.sibling=Ve,Vt=Ve);return t&&gt.forEach(function(pi){return n(U,pi)}),qt&&na(U,vt),ct}function yt(U,V,B,Z){if(B==null)throw Error(s(151));for(var ct=null,Vt=null,gt=V,vt=V=0,Ve=null,zt=B.next();gt!==null&&!zt.done;vt++,zt=B.next()){gt.index>vt?(Ve=gt,gt=null):Ve=gt.sibling;var pi=q(U,gt,zt.value,Z);if(pi===null){gt===null&&(gt=Ve);break}t&&gt&&pi.alternate===null&&n(U,gt),V=f(pi,V,vt),Vt===null?ct=pi:Vt.sibling=pi,Vt=pi,gt=Ve}if(zt.done)return a(U,gt),qt&&na(U,vt),ct;if(gt===null){for(;!zt.done;vt++,zt=B.next())zt=W(U,zt.value,Z),zt!==null&&(V=f(zt,V,vt),Vt===null?ct=zt:Vt.sibling=zt,Vt=zt);return qt&&na(U,vt),ct}for(gt=l(gt);!zt.done;vt++,zt=B.next())zt=H(gt,U,vt,zt.value,Z),zt!==null&&(t&&zt.alternate!==null&&gt.delete(zt.key===null?vt:zt.key),V=f(zt,V,vt),Vt===null?ct=zt:Vt.sibling=zt,Vt=zt);return t&&gt.forEach(function(jT){return n(U,jT)}),qt&&na(U,vt),ct}function Zt(U,V,B,Z){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:t:{for(var ct=B.key;V!==null;){if(V.key===ct){if(ct=B.type,ct===k){if(V.tag===7){a(U,V.sibling),Z=h(V,B.props.children),Z.return=U,U=Z;break t}}else if(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===x&&zg(ct)===V.type){a(U,V.sibling),Z=h(V,B.props),bl(Z,B),Z.return=U,U=Z;break t}a(U,V);break}else n(U,V);V=V.sibling}B.type===k?(Z=ta(B.props.children,U.mode,Z,B.key),Z.return=U,U=Z):(Z=Ko(B.type,B.key,B.props,null,U.mode,Z),bl(Z,B),Z.return=U,U=Z)}return _(U);case P:t:{for(ct=B.key;V!==null;){if(V.key===ct)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(U,V.sibling),Z=h(V,B.children||[]),Z.return=U,U=Z;break t}else{a(U,V);break}else n(U,V);V=V.sibling}Z=oh(B,U.mode,Z),Z.return=U,U=Z}return _(U);case x:return ct=B._init,B=ct(B._payload),Zt(U,V,B,Z)}if(wt(B))return Tt(U,V,B,Z);if(L(B)){if(ct=L(B),typeof ct!="function")throw Error(s(150));return B=ct.call(B),yt(U,V,B,Z)}if(typeof B.then=="function")return Zt(U,V,hu(B),Z);if(B.$$typeof===rt)return Zt(U,V,Jo(U,B),Z);fu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(U,V.sibling),Z=h(V,B),Z.return=U,U=Z):(a(U,V),Z=lh(B,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,V)}return function(U,V,B,Z){try{Tl=0;var ct=Zt(U,V,B,Z);return Wa=null,ct}catch(gt){if(gt===fl||gt===tu)throw gt;var Vt=ln(29,gt,null,U.mode);return Vt.lanes=Z,Vt.return=U,Vt}finally{}}}var ts=qg(!0),Hg=qg(!1),Sn=et(null),Jn=null;function ei(t){var n=t.alternate;it(we,we.current&1),it(Sn,t),Jn===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&(Jn=t)}function Gg(t){if(t.tag===22){if(it(we,we.current),it(Sn,t),Jn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Jn=t)}}else ni()}function ni(){it(we,we.current),it(Sn,Sn.current)}function Cr(t){lt(Sn),Jn===t&&(Jn=null),lt(we)}var we=et(0);function du(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||If(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function zh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),h=Jr(l);h.payload=n,a!=null&&(h.callback=a),n=Wr(t,h,l),n!==null&&(fn(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),h=Jr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Wr(t,h,l),n!==null&&(fn(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Jr(a);l.tag=2,n!=null&&(l.callback=n),n=Wr(t,l,a),n!==null&&(fn(n,t,a),ml(n,t,a))}};function Fg(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(h,f):!0}function Qg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&qh.enqueueReplaceState(n,n.state,null)}function ua(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yg(t){mu(t)}function Kg(t){console.error(t)}function Xg(t){mu(t)}function gu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hh(t,n,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){gu(t,n)},a}function Zg(t){return t=Jr(t),t.tag=3,t}function Jg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$g(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){$g(n,a,l),typeof h!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ul(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Jn===null?mf():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),pf(t,l,h)),!1;case 22:return a.flags|=65536,l===vh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),pf(t,l,h)),!1}throw Error(s(435,a.tag))}return pf(t,l,h),mf(),!1}if(qt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==hh&&(t=Error(s(422),{cause:l}),ol(En(t,a)))):(l!==hh&&(n=Error(s(423),{cause:l}),ol(En(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=En(l,a),h=Hh(t.stateNode,l,h),Th(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,a),Dl===null?Dl=[f]:Dl.push(f),ce!==4&&(ce=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hh(a.stateNode,l,t),Th(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(oi===null||!oi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zg(h),Jg(h,t,a,l),Th(a,h),!1}a=a.return}while(a!==null);return!1}var Wg=Error(s(461)),Ne=!1;function Le(t,n,a,l){n.child=t===null?Hg(n,null,a,l):ts(n,t.child,a,l)}function tp(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return sa(n),l=xh(t,n,a,_,f,h),T=Rh(),t!==null&&!Ne?(Ch(t,n,h),Dr(t,n,h)):(qt&&T&&uh(n),n.flags|=1,Le(t,n,l,h),n.child)}function ep(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!sh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,np(t,n,f,l,h)):(t=Ko(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Zh(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&t.ref===n.ref)return Dr(t,n,h)}return n.flags|=1,t=br(f,l),t.ref=n.ref,t.return=n,n.child=t}function np(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Zh(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Dr(t,n,h)}return Gh(t,n,a,l,h)}function rp(t,n,a){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ip(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,f!==null?f.cachePool:null),f!==null?ng(n,f):Ah(),Gg(n);else return n.lanes=n.childLanes=536870912,ip(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Wo(n,f.cachePool),ng(n,f),ni(),n.memoizedState=null):(t!==null&&Wo(n,null),Ah(),ni());return Le(t,n,h,a),n.child}function ip(t,n,a,l){var h=yh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wo(n,null),Ah(),Gg(n),t!==null&&ul(t,n,l,!0),null}function pu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gh(t,n,a,l,h){return sa(n),a=xh(t,n,a,l,void 0,h),l=Rh(),t!==null&&!Ne?(Ch(t,n,h),Dr(t,n,h)):(qt&&l&&uh(n),n.flags|=1,Le(t,n,a,h),n.child)}function ap(t,n,a,l,h,f){return sa(n),n.updateQueue=null,a=ig(n,l,a,h),rg(t),l=Rh(),t!==null&&!Ne?(Ch(t,n,f),Dr(t,n,f)):(qt&&l&&uh(n),n.flags|=1,Le(t,n,a,f),n.child)}function sp(t,n,a,l,h){if(sa(n),n.stateNode===null){var f=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(f=He(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_h(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?He(_):Ga,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&qh.enqueueReplaceState(f,f.state,null),pl(n,l,f,h),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=ua(a,T);f.props=D;var z=f.context,X=a.contextType;_=Ga,typeof X=="object"&&X!==null&&(_=He(X));var W=a.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&Qg(n,f,l,_),Zr=!1;var q=n.memoizedState;f.state=q,pl(n,l,f,h),gl(),z=n.memoizedState,T||q!==z||Zr?(typeof W=="function"&&(zh(n,a,W,l),z=n.memoizedState),(D=Zr||Fg(n,a,D,l,q,z,_))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Eh(t,n),_=n.memoizedProps,X=ua(a,_),f.props=X,W=n.pendingProps,q=f.context,z=a.contextType,D=Ga,typeof z=="object"&&z!==null&&(D=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||q!==D)&&Qg(n,f,l,D),Zr=!1,q=n.memoizedState,f.state=q,pl(n,l,f,h),gl();var H=n.memoizedState;_!==W||q!==H||Zr||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof T=="function"&&(zh(n,a,T,l),H=n.memoizedState),(X=Zr||Fg(n,a,X,l,q,H,D)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=D,l=X):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,pu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ts(n,t.child,null,h),n.child=ts(n,null,a,h)):Le(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Dr(t,n,h),t}function lp(t,n,a,l){return ll(),n.flags|=256,Le(t,n,a,l),n.child}var Fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(t){return{baseLanes:t,cachePool:Km()}}function Yh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function op(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(h?ei(n):ni(),qt){var T=ue,D;if(D=T){t:{for(D=T,T=Zn;D.nodeType!==8;){if(!T){T=null;break t}if(D=kn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:ea!==null?{id:Ar,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},D=ln(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,Ze=n,ue=null,D=!0):D=!1}D||ia(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return If(T)?n.lanes=32:n.lanes=536870912,null;Cr(n)}return T=l.children,l=l.fallback,h?(ni(),h=n.mode,T=yu({mode:"hidden",children:T},h),l=ta(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Qh(a),h.childLanes=Yh(t,_,a),n.memoizedState=Fh,l):(ei(n),Kh(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ei(n),n.flags&=-257,n=Xh(t,n,a)):n.memoizedState!==null?(ni(),n.child=t.child,n.flags|=128,n=null):(ni(),h=l.fallback,T=n.mode,l=yu({mode:"visible",children:l.children},T),h=ta(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ts(n,t.child,null,a),l=n.child,l.memoizedState=Qh(a),l.childLanes=Yh(t,_,a),n.memoizedState=Fh,n=h);else if(ei(n),If(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),n=Xh(t,n,a)}else if(Ne||ul(t,n,a,!1),_=(a&t.childLanes)!==0,Ne||_){if(_=te,_!==null&&(l=a&-a,l=(l&42)!==0?1:Hr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ha(t,l),fn(_,t,l),Wg;T.data==="$?"||mf(),n=Xh(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ue=kn(T.nextSibling),Ze=n,qt=!0,ra=null,Zn=!1,t!==null&&(bn[An++]=Ar,bn[An++]=Sr,bn[An++]=ea,Ar=t.id,Sr=t.overflow,ea=n),n=Kh(n,l.children),n.flags|=4096);return n}return h?(ni(),h=l.fallback,T=n.mode,D=t.child,z=D.sibling,l=br(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?h=br(z,h):(h=ta(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Qh(a):(D=T.cachePool,D!==null?(z=Se._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Km(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Yh(t,_,a),n.memoizedState=Fh,l):(ei(n),a=t.child,t=a.sibling,a=br(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Kh(t,n){return n=yu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function yu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xh(t,n,a){return ts(n,t.child,null,a),t=Kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function up(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),dh(t.return,n,a)}function $h(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function cp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Le(t,n,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&up(t,a,n);else if(t.tag===19)up(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(we,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&du(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),$h(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&du(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}$h(n,!0,a,null,f);break;case"together":$h(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Dr(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),li|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ul(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=br(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=br(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function BE(t,n,a){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),$r(n,Se,t.memoizedState.cache),ll();break;case 27:case 5:qr(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:$r(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ei(n),n.flags|=128,null):(a&n.child.childLanes)!==0?op(t,n,a):(ei(n),t=Dr(t,n,a),t!==null?t.sibling:null);ei(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ul(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return cp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(we,we.current),l)break;return null;case 22:case 23:return n.lanes=0,rp(t,n,a);case 24:$r(n,Se,t.memoizedState.cache)}return Dr(t,n,a)}function hp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Zh(t,a)&&(n.flags&128)===0)return Ne=!1,BE(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,qt&&(n.flags&1048576)!==0&&zm(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")sh(l)?(t=ua(l,t),n.tag=1,n=sp(null,n,l,t,a)):(n.tag=0,n=Gh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===mt){n.tag=11,n=tp(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=ep(null,n,l,t,a);break t}}throw n=bt(l)||l,Error(s(306,n,""))}}return n;case 0:return Gh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ua(l,n.pendingProps),sp(t,n,l,h,a);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Eh(t,n),pl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,$r(n,Se,l),l!==f.cache&&mh(n,[Se],a,!0),gl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=lp(t,n,l,a);break t}else if(l!==h){h=En(Error(s(424)),n),ol(h),n=lp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=kn(t.firstChild),Ze=n,qt=!0,ra=null,Zn=!0,a=Hg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===h){n=Dr(t,n,a);break t}Le(t,n,l,a)}n=n.child}return n;case 26:return pu(t,n),t===null?(a=gy(n.type,null,n.pendingProps,null))?n.memoizedState=a:qt||(a=n.type,t=n.pendingProps,l=Iu(_t.current).createElement(a),l[Te]=n,l[ge]=t,Pe(l,a,t),he(l),n.stateNode=l):n.memoizedState=gy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qr(n),t===null&&qt&&(l=n.stateNode=fy(n.type,n.pendingProps,_t.current),Ze=n,Zn=!0,h=ue,hi(n.type)?(Vf=h,ue=kn(l.firstChild)):ue=h),Le(t,n,n.pendingProps.children,a),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((h=l=ue)&&(l=mT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,Ze=n,ue=kn(l.firstChild),Zn=!1,h=!0):h=!1),h||ia(n)),qr(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Cf(h,f)?l=null:_!==null&&Cf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=xh(t,n,VE,null,null,a),Pl._currentValue=h),pu(t,n),Le(t,n,l,a),n.child;case 6:return t===null&&qt&&((t=a=ue)&&(a=gT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,Ze=n,ue=null,t=!0):t=!1),t||ia(n)),null;case 13:return op(t,n,a);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ts(n,null,l,a):Le(t,n,l,a),n.child;case 11:return tp(t,n,n.type,n.pendingProps,a);case 7:return Le(t,n,n.pendingProps,a),n.child;case 8:return Le(t,n,n.pendingProps.children,a),n.child;case 12:return Le(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,$r(n,n.type,l.value),Le(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,sa(n),h=He(h),l=l(h),n.flags|=1,Le(t,n,l,a),n.child;case 14:return ep(t,n,n.type,n.pendingProps,a);case 15:return np(t,n,n.type,n.pendingProps,a);case 19:return cp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=yu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=br(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return rp(t,n,a);case 24:return sa(n),l=He(Se),t===null?(h=yh(),h===null&&(h=te,f=gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},_h(n),$r(n,Se,h)):((t.lanes&a)!==0&&(Eh(t,n),pl(n,null,null,a),gl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$r(n,Se,l)):(l=f.cache,$r(n,Se,l),l!==h.cache&&mh(n,[Se],a,!0))),Le(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Nr(t){t.flags|=4}function fp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ey(n)){if(n=Sn.current,n!==null&&((Pt&4194048)===Pt?Jn!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||n!==Jn))throw dl=vh,Xm;t.flags|=8192}}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bs():536870912,t.lanes|=n,is|=n)}function Al(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function zE(t,n,a){var l=n.pendingProps;switch(ch(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xr(Se),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(n)?Nr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gm())),ie(n),null;case 26:return a=n.memoizedState,t===null?(Nr(n),a!==null?(ie(n),fp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Nr(n),ie(n),fp(n,a)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Nr(n),ie(n),n.flags&=-16777217),null;case 27:ur(n),a=_t.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Nr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=dt.current,sl(n)?qm(n):(t=fy(h,l,a),n.stateNode=t,Nr(n))}return ie(n),null;case 5:if(ur(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Nr(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=dt.current,sl(n))qm(n);else{switch(h=Iu(_t.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Te]=n,t[ge]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Nr(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Nr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,sl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Te]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ay(t.nodeValue,a)),t||ia(n)}else t=Iu(t).createTextNode(l),t[Te]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Gm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cr(n),n):(Cr(n),null)}if(Cr(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),vu(n,n.updateQueue),ie(n),null;case 4:return jn(),t===null&&Af(n.stateNode.containerInfo),ie(n),null;case 10:return xr(n.type),ie(n),null;case 19:if(lt(we),h=n.memoizedState,h===null)return ie(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Al(h,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=du(t),f!==null){for(n.flags|=128,Al(h,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bm(a,t),a=a.sibling;return it(we,we.current&1|2),n.child}t=t.sibling}h.tail!==null&&mn()>Tu&&(n.flags|=128,l=!0,Al(h,!1),n.lanes=4194304)}else{if(!l)if(t=du(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!qt)return ie(n),null}else 2*mn()-h.renderingStartTime>Tu&&a!==536870912&&(n.flags|=128,l=!0,Al(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=mn(),n.sibling=null,t=we.current,it(we,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Cr(n),Sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&lt(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xr(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function qE(t,n){switch(ch(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xr(Se),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ur(n),null;case 13:if(Cr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ll()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(we),null;case 4:return jn(),null;case 10:return xr(n.type),null;case 22:case 23:return Cr(n),Sh(),t!==null&&lt(la),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xr(Se),null;case 25:return null;default:return null}}function dp(t,n){switch(ch(n),n.tag){case 3:xr(Se),jn();break;case 26:case 27:case 5:ur(n);break;case 4:jn();break;case 13:Cr(n);break;case 19:lt(we);break;case 10:xr(n.type);break;case 22:case 23:Cr(n),Sh(),t!==null&&lt(la);break;case 24:xr(Se)}}function Sl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Jt(n,n.return,T)}}function ri(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var D=a,z=T;try{z()}catch(X){Jt(h,D,X)}}}l=l.next}while(l!==f)}}catch(X){Jt(n,n.return,X)}}function mp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{eg(n,a)}catch(l){Jt(t,t.return,l)}}}function gp(t,n,a){a.props=ua(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(t,n,l)}}function wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Jt(t,n,h)}}function Wn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(t,n,h)}else a.current=null}function pp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(t,t.return,h)}}function Jh(t,n,a){try{var l=t.stateNode;uT(l,t.type,a,n),l[ge]=n}catch(h){Jt(t,t.return,h)}}function yp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hi(t.type)||t.tag===4}function Wh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Nu));else if(l!==4&&(l===27&&hi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(tf(t,n,a),t=t.sibling;t!==null;)tf(t,n,a),t=t.sibling}function _u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&hi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,n,a),t=t.sibling;t!==null;)_u(t,n,a),t=t.sibling}function vp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Pe(n,l,a),n[Te]=t,n[ge]=a}catch(f){Jt(t,t.return,f)}}var Ir=!1,de=!1,ef=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function HE(t,n){if(t=t.containerInfo,xf=Uu,t=Nm(t),Wc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,T=-1,D=-1,z=0,X=0,W=t,q=null;e:for(;;){for(var H;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==f||l!==0&&W.nodeType!==3||(D=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)q=W,W=H;for(;;){if(W===t)break e;if(q===a&&++z===h&&(T=_),q===f&&++X===l&&(D=_),(H=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=H}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rf={focusedElem:t,selectionRange:a},Uu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Tt=ua(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Jt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Nf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Ep(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ii(t,a),l&4&&Sl(5,a);break;case 1:if(ii(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Jt(a,a.return,_)}else{var h=ua(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Jt(a,a.return,_)}}l&64&&mp(a),l&512&&wl(a,a.return);break;case 3:if(ii(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{eg(t,n)}catch(_){Jt(a,a.return,_)}}break;case 27:n===null&&l&4&&vp(a);case 26:case 5:ii(t,a),n===null&&l&4&&pp(a),l&512&&wl(a,a.return);break;case 12:ii(t,a);break;case 13:ii(t,a),l&4&&Ap(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=JE.bind(null,a),pT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ir,!l){n=n!==null&&n.memoizedState!==null||de,h=Ir;var f=de;Ir=l,(de=n)&&!f?ai(t,a,(a.subtreeFlags&8772)!==0):ii(t,a),Ir=h,de=f}break;case 30:break;default:ii(t,a)}}function Tp(t){var n=t.alternate;n!==null&&(t.alternate=null,Tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,tn=!1;function Vr(t,n,a){for(a=a.child;a!==null;)bp(t,n,a),a=a.sibling}function bp(t,n,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:de||Wn(a,n),Vr(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||Wn(a,n);var l=re,h=tn;hi(a.type)&&(re=a.stateNode,tn=!1),Vr(t,n,a),Ml(a.stateNode),re=l,tn=h;break;case 5:de||Wn(a,n);case 6:if(l=re,h=tn,re=null,Vr(t,n,a),re=l,tn=h,re!==null)if(tn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Jt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Jt(a,n,f)}break;case 18:re!==null&&(tn?(t=re,cy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ql(t)):cy(re,a.stateNode));break;case 4:l=re,h=tn,re=a.stateNode.containerInfo,tn=!0,Vr(t,n,a),re=l,tn=h;break;case 0:case 11:case 14:case 15:de||ri(2,a,n),de||ri(4,a,n),Vr(t,n,a);break;case 1:de||(Wn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gp(a,n,l)),Vr(t,n,a);break;case 21:Vr(t,n,a);break;case 22:de=(l=de)||a.memoizedState!==null,Vr(t,n,a),de=l;break;default:Vr(t,n,a)}}function Ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(a){Jt(n,n.return,a)}}function GE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _p),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _p),n;default:throw Error(s(435,t.tag))}}function nf(t,n){var a=GE(t);n.forEach(function(l){var h=WE.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function on(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(hi(T.type)){re=T.stateNode,tn=!1;break t}break;case 5:re=T.stateNode,tn=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,tn=!0;break t}T=T.return}if(re===null)throw Error(s(160));bp(f,_,h),re=null,tn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Sp(n,t),n=n.sibling}var Mn=null;function Sp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(ri(3,t,t.return),Sl(3,t),ri(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(de||a===null||Wn(a,a.return)),l&64&&Ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Mn;if(on(n,t),un(t),l&512&&(de||a===null||Wn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Pi]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Pe(f,l,a),f[Te]=t,he(f),l=f;break t;case"link":var _=vy("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}f=h.createElement(l),Pe(f,l,a),h.head.appendChild(f);break;case"meta":if(_=vy("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}f=h.createElement(l),Pe(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=t,he(f),l=f}t.stateNode=l}else _y(h,t.type,t.stateNode);else t.stateNode=yy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?_y(h,t.type,t.stateNode):yy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jh(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(de||a===null||Wn(a,a.return)),a!==null&&l&4&&Jh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(de||a===null||Wn(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(H){Jt(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Jh(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ef=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Jt(t,t.return,H)}}break;case 3:if(Mu=null,h=Mn,Mn=Vu(n.containerInfo),on(n,t),Mn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(H){Jt(t,t.return,H)}ef&&(ef=!1,wp(t));break;case 4:l=Mn,Mn=Vu(t.stateNode.containerInfo),on(n,t),un(t),Mn=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uf=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=Ir,X=de;if(Ir=z||h,de=X||D,on(n,t),de=X,Ir=z,un(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Ir||de||ca(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var W=D.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Jt(D,D.return,H)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(H){Jt(D,D.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nf(t,a))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(yp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Wh(t);_u(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var T=Wh(t);_u(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=Wh(t);tf(t,z,D);break;default:throw Error(s(161))}}catch(X){Jt(t,t.return,X)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ii(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ep(t,n.alternate,n),n=n.sibling}function ca(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ri(4,n,n.return),ca(n);break;case 1:Wn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&gp(n,n.return,a),ca(n);break;case 27:Ml(n.stateNode);case 26:case 5:Wn(n,n.return),ca(n);break;case 22:n.memoizedState===null&&ca(n);break;case 30:ca(n);break;default:ca(n)}t=t.sibling}}function ai(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ai(h,f,a),Sl(4,f);break;case 1:if(ai(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Jt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)tg(D[h],T)}catch(z){Jt(l,l.return,z)}}a&&_&64&&mp(f),wl(f,f.return);break;case 27:vp(f);case 26:case 5:ai(h,f,a),a&&l===null&&_&4&&pp(f),wl(f,f.return);break;case 12:ai(h,f,a);break;case 13:ai(h,f,a),a&&_&4&&Ap(h,f);break;case 22:f.memoizedState===null&&ai(h,f,a),wl(f,f.return);break;case 30:break;default:ai(h,f,a)}n=n.sibling}}function rf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function tr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xp(t,n,a,l),n=n.sibling}function xp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:tr(t,n,a,l),h&2048&&Sl(9,n);break;case 1:tr(t,n,a,l);break;case 3:tr(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){tr(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Jt(n,n.return,D)}}else tr(t,n,a,l);break;case 13:tr(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?tr(t,n,a,l):xl(t,n):f._visibility&2?tr(t,n,a,l):(f._visibility|=2,es(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&rf(_,n);break;case 24:tr(t,n,a,l),h&2048&&af(n.alternate,n);break;default:tr(t,n,a,l)}}function es(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,T=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:es(f,_,T,D,h),Sl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?es(f,_,T,D,h):xl(f,_):(X._visibility|=2,es(f,_,T,D,h)),h&&z&2048&&rf(_.alternate,_);break;case 24:es(f,_,T,D,h),h&&z&2048&&af(_.alternate,_);break;default:es(f,_,T,D,h)}n=n.sibling}}function xl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:xl(a,l),h&2048&&rf(l.alternate,l);break;case 24:xl(a,l),h&2048&&af(l.alternate,l);break;default:xl(a,l)}n=n.sibling}}var Rl=8192;function ns(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 26:ns(t),t.flags&Rl&&t.memoizedState!==null&&DT(Mn,t.memoizedState,t.memoizedProps);break;case 5:ns(t);break;case 3:case 4:var n=Mn;Mn=Vu(t.stateNode.containerInfo),ns(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rl,Rl=16777216,ns(t),Rl=n):ns(t));break;default:ns(t)}}function Cp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Np(l,t)}Cp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dp(t),t=t.sibling}function Dp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&ri(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Cl(t);break;default:Cl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Np(l,t)}Cp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ri(8,n,n.return),Eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function Np(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ri(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var h=l.sibling,f=l.return;if(Tp(l),l===a){Ie=null;break t}if(h!==null){h.return=f,Ie=h;break t}Ie=f}}}var FE={getCacheForType:function(t){var n=He(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},QE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Ot=null,Pt=0,Yt=0,cn=null,si=!1,rs=!1,sf=!1,Or=0,ce=0,li=0,ha=0,lf=0,wn=0,is=0,Dl=null,en=null,of=!1,uf=0,Tu=1/0,bu=null,oi=null,Ue=0,ui=null,as=null,ss=0,cf=0,hf=null,Ip=null,Nl=0,ff=null;function hn(){if((Qt&2)!==0&&Pt!==0)return Pt&-Pt;if(Y.T!==null){var t=Ya;return t!==0?t:_f()}return Gr()}function Vp(){wn===0&&(wn=(Pt&536870912)===0||qt?js():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,a){(t===te&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(ls(t,0),ci(t,Pt,wn,!1)),hr(t,a),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(ha|=a),ce===4&&ci(t,Pt,wn,!1)),er(t))}function Op(t,n,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ui(t,n),h=l?XE(t,n):gf(t,n,!0),f=l;do{if(h===0){rs&&!l&&ci(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!YE(a)){h=gf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=Dl;var D=T.current.memoizedState.isDehydrated;if(D&&(ls(T,_).flags|=256),_=gf(T,_,!1),_!==2){if(sf&&!D){T.errorRecoveryDisabledLanes|=f,ha|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){ls(t,0),ci(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ci(l,n,wn,!si);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=uf+300-mn(),10<h)){if(ci(l,n,wn,!si),Sa(l,0,!0)!==0)break t;l.timeoutHandle=oy(Mp.bind(null,l,a,en,bu,of,n,wn,ha,is,si,f,2,-0,0),h);break t}Mp(l,a,en,bu,of,n,wn,ha,is,si,f,0,-0,0)}}break}while(!0);er(t)}function Mp(t,n,a,l,h,f,_,T,D,z,X,W,q,H){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:CT},Rp(n),W=NT(),W!==null)){t.cancelPendingCommit=W(zp.bind(null,t,n,f,a,l,h,_,T,D,X,1,q,H)),ci(t,f,_,!z);return}zp(t,n,f,a,l,h,_,T,D)}function YE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ci(t,n,a,l){n&=~lf,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Bn(t,a,n)}function Au(){return(Qt&6)===0?(Il(0),!1):!0}function df(){if(Ot!==null){if(Yt===0)var t=Ot.return;else t=Ot,wr=aa=null,Dh(t),Wa=null,Tl=0,t=Ot;for(;t!==null;)dp(t.alternate,t),t=t.return;Ot=null}}function ls(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),df(),te=t,Ot=a=br(t.current,null),Pt=n,Yt=0,cn=null,si=!1,rs=Ui(t,n),sf=!1,is=wn=lf=ha=li=ce=0,en=Dl=null,of=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-qe(l),f=1<<h;n|=t[h],l&=~f}return Or=n,Fo(),a}function kp(t,n){Nt=null,Y.H=cu,n===fl||n===tu?(n=Jm(),Yt=3):n===Xm?(n=Jm(),Yt=4):Yt=n===Wg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ot===null&&(ce=1,gu(t,En(n,t.current)))}function Lp(){var t=Y.H;return Y.H=cu,t===null?cu:t}function Up(){var t=Y.A;return Y.A=FE,t}function mf(){ce=4,si||(Pt&4194048)!==Pt&&Sn.current!==null||(rs=!0),(li&134217727)===0&&(ha&134217727)===0||te===null||ci(te,Pt,wn,!1)}function gf(t,n,a){var l=Qt;Qt|=2;var h=Lp(),f=Up();(te!==t||Pt!==n)&&(bu=null,ls(t,n)),n=!1;var _=ce;t:do try{if(Yt!==0&&Ot!==null){var T=Ot,D=cn;switch(Yt){case 8:df(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Yt;if(Yt=0,cn=null,os(t,T,D,z),a&&rs){_=0;break t}break;default:z=Yt,Yt=0,cn=null,os(t,T,D,z)}}KE(),_=ce;break}catch(X){kp(t,X)}while(!0);return n&&t.shellSuspendCounter++,wr=aa=null,Qt=l,Y.H=h,Y.A=f,Ot===null&&(te=null,Pt=0,Fo()),_}function KE(){for(;Ot!==null;)Pp(Ot)}function XE(t,n){var a=Qt;Qt|=2;var l=Lp(),h=Up();te!==t||Pt!==n?(bu=null,Tu=mn()+500,ls(t,n)):rs=Ui(t,n);t:do try{if(Yt!==0&&Ot!==null){n=Ot;var f=cn;e:switch(Yt){case 1:Yt=0,cn=null,os(t,n,f,1);break;case 2:case 9:if($m(f)){Yt=0,cn=null,jp(n);break}n=function(){Yt!==2&&Yt!==9||te!==t||(Yt=7),er(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:$m(f)?(Yt=0,cn=null,jp(n)):(Yt=0,cn=null,os(t,n,f,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(!_||Ey(_)){Yt=0,cn=null;var D=T.sibling;if(D!==null)Ot=D;else{var z=T.return;z!==null?(Ot=z,Su(z)):Ot=null}break e}}Yt=0,cn=null,os(t,n,f,5);break;case 6:Yt=0,cn=null,os(t,n,f,6);break;case 8:df(),ce=6;break t;default:throw Error(s(462))}}$E();break}catch(X){kp(t,X)}while(!0);return wr=aa=null,Y.H=l,Y.A=h,Qt=a,Ot!==null?0:(te=null,Pt=0,Fo(),ce)}function $E(){for(;Ot!==null&&!ks();)Pp(Ot)}function Pp(t){var n=hp(t.alternate,t,Or);t.memoizedProps=t.pendingProps,n===null?Su(t):Ot=n}function jp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ap(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=ap(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Dh(n);default:dp(a,n),n=Ot=Bm(n,Or),n=hp(a,n,Or)}t.memoizedProps=t.pendingProps,n===null?Su(t):Ot=n}function os(t,n,a,l){wr=aa=null,Dh(n),Wa=null,Tl=0;var h=n.return;try{if(jE(t,h,n,a,Pt)){ce=1,gu(t,En(a,t.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;ce=1,gu(t,En(a,t.current)),Ot=null;return}n.flags&32768?(qt||l===1?t=!0:rs||(Pt&536870912)!==0?t=!1:(si=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Bp(n,si);return}t=n.return;var a=zE(n.alternate,n,Or);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);ce===0&&(ce=5)}function Bp(t,n){do{var a=qE(t.alternate,t);if(a!==null){a.flags&=32767,Ot=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=a}while(t!==null);ce=6,Ot=null}function zp(t,n,a,l,h,f,_,T,D){t.cancelPendingCommit=null;do wu();while(Ue!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=ih,zs(t,a,f,_,T,D),t===te&&(Ot=te=null,Pt=0),as=n,ui=t,ss=a,cf=f,hf=h,Ip=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tT(Oi,function(){return Qp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=at.p,at.p=2,_=Qt,Qt|=4;try{HE(t,n,a)}finally{Qt=_,at.p=h,Y.T=l}}Ue=1,qp(),Hp(),Gp()}}function qp(){if(Ue===1){Ue=0;var t=ui,n=as,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Sp(n,t);var f=Rf,_=Nm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&Dm(T.ownerDocument.documentElement,T)){if(D!==null&&Wc(T)){var z=D.start,X=D.end;if(X===void 0&&(X=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(X,T.value.length);else{var W=T.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var H=q.getSelection(),Tt=T.textContent.length,yt=Math.min(D.start,Tt),Zt=D.end===void 0?yt:Math.min(D.end,Tt);!H.extend&&yt>Zt&&(_=Zt,Zt=yt,yt=_);var U=Cm(T,yt),V=Cm(T,Zt);if(U&&V&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==V.node||H.focusOffset!==V.offset)){var B=W.createRange();B.setStart(U.node,U.offset),H.removeAllRanges(),yt>Zt?(H.addRange(B),H.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),H.addRange(B))}}}}for(W=[],H=T;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Uu=!!xf,Rf=xf=null}finally{Qt=h,at.p=l,Y.T=a}}t.current=n,Ue=2}}function Hp(){if(Ue===2){Ue=0;var t=ui,n=as,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Ep(t,n.alternate,n)}finally{Qt=h,at.p=l,Y.T=a}}Ue=3}}function Gp(){if(Ue===4||Ue===3){Ue=0,Eo();var t=ui,n=as,a=ss,l=Ip;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,as=ui=null,Fp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(oi=null),wa(a),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=at.p,at.p=2,Y.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,at.p=h}}(ss&3)!==0&&wu(),er(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===ff?Nl++:(Nl=0,ff=t):Nl=0,Il(0)}}function Fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function wu(t){return qp(),Hp(),Gp(),Qp()}function Qp(){if(Ue!==5)return!1;var t=ui,n=cf;cf=0;var a=wa(ss),l=Y.T,h=at.p;try{at.p=32>a?32:a,Y.T=null,a=hf,hf=null;var f=ui,_=ss;if(Ue=0,as=ui=null,ss=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,Dp(f.current),xp(f,f.current,_,a),Qt=T,Il(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{at.p=h,Y.T=l,Fp(t,n)}}function Yp(t,n,a){n=En(a,n),n=Hh(t.stateNode,n,2),t=Wr(t,n,2),t!==null&&(hr(t,2),er(t))}function Jt(t,n,a){if(t.tag===3)Yp(t,t,a);else for(;n!==null;){if(n.tag===3){Yp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oi===null||!oi.has(l))){t=En(a,t),a=Zg(2),l=Wr(n,a,2),l!==null&&(Jg(a,l,n,t),hr(l,2),er(l));break}}n=n.return}}function pf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(sf=!0,h.add(a),t=ZE.bind(null,t,n,a),n.then(t,t))}function ZE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(Pt&a)===a&&(ce===4||ce===3&&(Pt&62914560)===Pt&&300>mn()-uf?(Qt&2)===0&&ls(t,0):lf|=a,is===Pt&&(is=0)),er(t)}function Kp(t,n){n===0&&(n=Bs()),t=Ha(t,n),t!==null&&(hr(t,n),er(t))}function JE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Kp(t,a)}function WE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Kp(t,a)}function tT(t,n){return Ii(t,n)}var xu=null,us=null,yf=!1,Ru=!1,vf=!1,fa=0;function er(t){t!==us&&t.next===null&&(us===null?xu=us=t:us=us.next=t),Ru=!0,yf||(yf=!0,nT())}function Il(t,n){if(!vf&&Ru){vf=!0;do for(var a=!1,l=xu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Jp(l,f))}else f=Pt,f=Sa(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ui(l,f)||(a=!0,Jp(l,f));l=l.next}while(a);vf=!1}}function eT(){Xp()}function Xp(){Ru=yf=!1;var t=0;fa!==0&&(cT()&&(t=fa),fa=0);for(var n=mn(),a=null,l=xu;l!==null;){var h=l.next,f=$p(l,n);f===0?(l.next=null,a===null?xu=h:a.next=h,h===null&&(us=a)):(a=l,(t!==0||(f&3)!==0)&&(Ru=!0)),l=h}Il(t)}function $p(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-qe(f),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Ps(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=te,a=Pt,a=Sa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Vi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ui(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Vi(l),wa(a)){case 2:case 8:a=ba;break;case 32:a=Oi;break;case 268435456:a=Aa;break;default:a=Oi}return l=Zp.bind(null,t),a=Ii(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Vi(l),t.callbackPriority=2,t.callbackNode=null,2}function Zp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wu()&&t.callbackNode!==a)return null;var l=Pt;return l=Sa(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Op(t,l,n),$p(t,mn()),t.callbackNode!=null&&t.callbackNode===a?Zp.bind(null,t):null)}function Jp(t,n){if(wu())return null;Op(t,n,!0)}function nT(){fT(function(){(Qt&6)!==0?Ii(Ls,eT):Xp()})}function _f(){return fa===0&&(fa=js()),fa}function Wp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function ty(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function rT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Wp((h[ge]||null).action),_=l.submitter;_&&(n=(n=_[ge]||null)?Wp(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Va("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var D=_?ty(h,_):new FormData(h);Ph(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=_?ty(h,_):new FormData(h),Ph(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Ef=0;Ef<rh.length;Ef++){var Tf=rh[Ef],iT=Tf.toLowerCase(),aT=Tf[0].toUpperCase()+Tf.slice(1);On(iT,"on"+aT)}On(Om,"onAnimationEnd"),On(Mm,"onAnimationIteration"),On(km,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(bE,"onTransitionRun"),On(AE,"onTransitionStart"),On(SE,"onTransitionCancel"),On(Lm,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function ey(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,z=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(X){mu(X)}h.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,z=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(X){mu(X)}h.currentTarget=null,f=D}}}}function Mt(t,n){var a=n[Hs];a===void 0&&(a=n[Hs]=new Set);var l=t+"__bubble";a.has(l)||(ny(n,t,2,!1),a.add(l))}function bf(t,n,a){var l=0;n&&(l|=4),ny(a,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[Cu]){t[Cu]=!0,Gs.forEach(function(a){a!=="selectionchange"&&(sT.has(a)||bf(a,!1,t),bf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,bf("selectionchange",!1,n))}}function ny(t,n,a,l){switch(xy(n)){case 2:var h=OT;break;case 8:h=MT;break;default:h=Uf}a=h.bind(null,n,a,t),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Sf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=fr(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue t}T=T.parentNode}}l=l.return}No(function(){var z=f,X=yn(a),W=[];t:{var q=Um.get(t);if(q!==void 0){var H=Va,Tt=t;switch(t){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":H=Pa;break;case"focusin":Tt="focus",H=ka;break;case"focusout":Tt="blur",H=ka;break;case"beforeblur":case"afterblur":H=ka;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Po;break;case Om:case Mm:case km:H=La;break;case Lm:H=Bo;break;case"scroll":case"scrollend":H=Io;break;case"wheel":H=ja;break;case"copy":case"cut":case"paste":H=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=nl;break;case"toggle":case"beforetoggle":H=qo}var yt=(n&4)!==0,Zt=!yt&&(t==="scroll"||t==="scrollend"),U=yt?q!==null?q+"Capture":null:q;yt=[];for(var V=z,B;V!==null;){var Z=V;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||U===null||(Z=Fi(V,U),Z!=null&&yt.push(Ol(V,Z,B))),Zt)break;V=V.return}0<yt.length&&(q=new H(q,Tt,null,a,X),W.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==pr&&(Tt=a.relatedTarget||a.fromElement)&&(fr(Tt)||Tt[gn]))break t;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Tt=a.relatedTarget||a.toElement,H=z,Tt=Tt?fr(Tt):null,Tt!==null&&(Zt=c(Tt),yt=Tt.tag,Tt!==Zt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(H=null,Tt=z),H!==Tt)){if(yt=_n,Z="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=nl,Z="onPointerLeave",U="onPointerEnter",V="pointer"),Zt=H==null?q:qn(H),B=Tt==null?q:qn(Tt),q=new yt(Z,V+"leave",H,a,X),q.target=Zt,q.relatedTarget=B,Z=null,fr(X)===z&&(yt=new yt(U,V+"enter",Tt,a,X),yt.target=B,yt.relatedTarget=Zt,Z=yt),Zt=Z,H&&Tt)e:{for(yt=H,U=Tt,V=0,B=yt;B;B=cs(B))V++;for(B=0,Z=U;Z;Z=cs(Z))B++;for(;0<V-B;)yt=cs(yt),V--;for(;0<B-V;)U=cs(U),B--;for(;V--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=cs(yt),U=cs(U)}yt=null}else yt=null;H!==null&&ry(W,q,H,yt,!1),Tt!==null&&Zt!==null&&ry(W,Zt,Tt,yt,!0)}}t:{if(q=z?qn(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ct=bm;else if(Ae(q))if(Am)ct=_E;else{ct=yE;var Vt=pE}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Xs(z.elementType)&&(ct=bm):ct=vE;if(ct&&(ct=ct(t,z))){Tr(W,ct,a,X);break t}Vt&&Vt(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Kr(q,"number",q.value)}switch(Vt=z?qn(z):window,t){case"focusin":(Ae(Vt)||Vt.contentEditable==="true")&&(Ba=Vt,th=z,al=null);break;case"focusout":al=th=Ba=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Im(W,a,X);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":Im(W,a,X)}var gt;if(Xn)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Lt?Q(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(v&&a.locale!=="ko"&&(Lt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Lt&&(gt=Zs()):(Fn=X,Xr="value"in Fn?Fn.value:Fn.textContent,Lt=!0)),Vt=Du(z,vt),0<Vt.length&&(vt=new tl(vt,t,null,a,X),W.push({event:vt,listeners:Vt}),gt?vt.data=gt:(gt=st(a),gt!==null&&(vt.data=gt)))),(gt=m?be(t,a):Ut(t,a))&&(vt=Du(z,"onBeforeInput"),0<vt.length&&(Vt=new tl("onBeforeInput","beforeinput",null,a,X),W.push({event:Vt,listeners:vt}),Vt.data=gt)),rT(W,t,z,a,X)}ey(W,n)})}function Ol(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Du(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fi(t,a),h!=null&&l.unshift(Ol(t,h,f)),h=Fi(t,n),h!=null&&l.push(Ol(t,h,f))),t.tag===3)return l;t=t.return}return[]}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ry(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,z=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||z===null||(D=z,h?(z=Fi(a,f),z!=null&&_.unshift(Ol(a,z,D))):h||(z=Fi(a,f),z!=null&&_.push(Ol(a,z,D)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var lT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(oT,"")}function ay(t,n){return n=iy(n),iy(t)===n}function Nu(){}function $t(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Hn(t,"class",l);break;case"tabIndex":Hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,a,l);break;case"style":Ks(t,l,f);break;case"data":if(n!=="object"){Hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nu);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Yr(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yc.get(a)||a,Yr(t,a,l))}}function wf(t,n,a,l,h,f){switch(a){case"style":Ks(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ge]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Yr(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,_,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":Mt("invalid",t);var T=f=_=h=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":z=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,n));break;default:$t(t,n,l,X,a,null)}}qi(t,f,T,D,z,_,h,!1),Na(t);return;case"select":Mt("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:$t(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!l,n!=null?gr(t,!!l,n,!1):a!=null&&gr(t,!!l,a,!0);return;case"textarea":Mt("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(t,n,_,T,a,null)}Hi(t,l,h,f),Na(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,D,l,a,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Mt(Vl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,z,l,a,null)}return;default:if(Xs(n)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&wf(t,n,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$t(t,n,T,l,a,null))}function uT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,D=null,z=null,X=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=W;default:l.hasOwnProperty(H)||$t(t,n,H,null,l,W)}}for(var q in l){var H=l[q];if(W=a[q],l.hasOwnProperty(q)&&(H!=null||W!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":X=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==W&&$t(t,n,q,H,l,W)}}an(t,_,T,D,z,X,f,h);return;case"select":H=_=T=q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==D&&$t(t,n,h,f,l,D)}n=T,a=_,l=H,q!=null?gr(t,!!a,q,!1):!!l!=!!a&&(n!=null?gr(t,!!a,n,!0):gr(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,_,h,l,f)}Kt(t,q,H);return;case"option":for(var Tt in a)if(q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:$t(t,n,Tt,null,l,q)}for(D in l)if(q=l[D],H=a[D],l.hasOwnProperty(D)&&q!==H&&(q!=null||H!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$t(t,n,D,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)q=a[yt],a.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&$t(t,n,yt,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:$t(t,n,z,q,l,H)}return;default:if(Xs(n)){for(var Zt in a)q=a[Zt],a.hasOwnProperty(Zt)&&q!==void 0&&!l.hasOwnProperty(Zt)&&wf(t,n,Zt,void 0,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||wf(t,n,X,q,l,H);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&$t(t,n,U,null,l,q);for(W in l)q=l[W],H=a[W],!l.hasOwnProperty(W)||q===H||q==null&&H==null||$t(t,n,W,q,l,H)}var xf=null,Rf=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function sy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ly(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Df=null;function cT(){var t=window.event;return t&&t.type==="popstate"?t===Df?!1:(Df=t,!0):(Df=null,!1)}var oy=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(dT)}:oy;function dT(t){setTimeout(function(){throw t})}function hi(t){return t==="head"}function cy(t,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Ml(_.documentElement),a&2&&Ml(_.body),a&4)for(a=_.head,Ml(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Pi]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(f),ql(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ql(n)}function Nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nf(a),Qr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function gT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function If(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function pT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vf=null;function hy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function fy(t,n,a){switch(n=Iu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qr(t)}var xn=new Map,dy=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mr=at.d;at.d={f:yT,r:vT,D:_T,C:ET,L:TT,m:bT,X:ST,S:AT,M:wT};function yT(){var t=Mr.f(),n=Au();return t||n}function vT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Og(n):Mr.r(t)}var hs=typeof document>"u"?null:document;function my(t,n,a){var l=hs;if(l&&typeof n=="string"&&n){var h=pe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dy.has(h)||(dy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function _T(t){Mr.D(t),my("dns-prefetch",t,null)}function ET(t,n){Mr.C(t,n),my("preconnect",t,n)}function TT(t,n,a){Mr.L(t,n,a);var l=hs;if(l&&t&&n){var h='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(t)+'"]';var f=h;switch(n){case"style":f=fs(t);break;case"script":f=ds(t)}xn.has(f)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),xn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(kl(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function bT(t,n){Mr.m(t,n);var a=hs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!xn.has(f)&&(t=E({rel:"modulepreload",href:t},n),xn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),Pe(l,"link",t),he(l),a.head.appendChild(l)}}}function AT(t,n,a){Mr.S(t,n,a);var l=hs;if(l&&t){var h=Ke(l).hoistableStyles,f=fs(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(kl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=xn.get(f))&&Of(t,a);var D=_=l.createElement("link");he(D),Pe(D,"link",t),D._p=new Promise(function(z,X){D.onload=z,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ou(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function ST(t,n){Mr.X(t,n);var a=hs;if(a&&t){var l=Ke(a).hoistableScripts,h=ds(t),f=l.get(h);f||(f=a.querySelector(Ll(h)),f||(t=E({src:t,async:!0},n),(n=xn.get(h))&&Mf(t,n),f=a.createElement("script"),he(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function wT(t,n){Mr.M(t,n);var a=hs;if(a&&t){var l=Ke(a).hoistableScripts,h=ds(t),f=l.get(h);f||(f=a.querySelector(Ll(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=xn.get(h))&&Mf(t,n),f=a.createElement("script"),he(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function gy(t,n,a,l){var h=(h=_t.current)?Vu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=fs(a.href),a=Ke(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fs(a.href);var f=Ke(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(kl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),f||xT(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=Ke(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fs(t){return'href="'+pe(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function xT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),he(n),t.head.appendChild(n))}function ds(t){return'[src="'+pe(t)+'"]'}function Ll(t){return"script[async]"+t}function yy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return n.instance=l,he(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Pe(l,"style",h),Ou(l,a.precedence,t),n.instance=l;case"stylesheet":h=fs(a.href);var f=t.querySelector(kl(h));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=py(a),(h=xn.get(h))&&Of(l,h),f=(t.ownerDocument||t).createElement("link"),he(f);var _=f;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Pe(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,t),n.instance=f;case"script":return f=ds(a.src),(h=t.querySelector(Ll(f)))?(n.instance=h,he(h),h):(l=a,(h=xn.get(f))&&(l=E({},a),Mf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),he(h),Pe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,t));return n.instance}function Ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Of(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function vy(t,n,a){if(Mu===null){var l=new Map,h=Mu=new Map;h.set(a,l)}else h=Mu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Pi]||f[Te]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function _y(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function RT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ey(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function CT(){}function DT(t,n,a){if(Ul===null)throw Error(s(475));var l=Ul;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=fs(a.href),f=t.querySelector(kl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,a=py(a),(h=xn.get(h))&&Of(a,h),f=f.createElement("link"),he(f);var _=f;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function NT(){if(Ul===null)throw Error(s(475));var t=Ul;return t.stylesheets&&t.count===0&&kf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&kf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function kf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(IT,t),Lu=null,ku.call(t))}function IT(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function VT(t,n,a,l,h,f,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ty(t,n,a,l,h,f,_,T,D,z,X,W){return t=new VT(t,n,a,_,T,D,z,W),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=gh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},_h(f),t}function by(t){return t?(t=Ga,t):Ga}function Ay(t,n,a,l,h,f){h=by(h),l.context===null?l.context=h:l.pendingContext=h,l=Jr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wr(t,l,n),a!==null&&(fn(a,t,n),ml(a,t,n))}function Sy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Lf(t,n){Sy(t,n),(t=t.alternate)&&Sy(t,n)}function wy(t){if(t.tag===13){var n=Ha(t,67108864);n!==null&&fn(n,t,67108864),Lf(t,67108864)}}var Uu=!0;function OT(t,n,a,l){var h=Y.T;Y.T=null;var f=at.p;try{at.p=2,Uf(t,n,a,l)}finally{at.p=f,Y.T=h}}function MT(t,n,a,l){var h=Y.T;Y.T=null;var f=at.p;try{at.p=8,Uf(t,n,a,l)}finally{at.p=f,Y.T=h}}function Uf(t,n,a,l){if(Uu){var h=Pf(l);if(h===null)Sf(t,n,l,Pu,a),Ry(t,l);else if(LT(h,t,n,a,l))l.stopPropagation();else if(Ry(t,l),n&4&&-1<kT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Nn(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-qe(_);T.entanglements[1]|=D,_&=~D}er(f),(Qt&6)===0&&(Tu=mn()+500,Il(0))}}break;case 13:T=Ha(f,2),T!==null&&fn(T,f,2),Au(),Lf(f,2)}if(f=Pf(l),f===null&&Sf(t,n,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Sf(t,n,l,null,a)}}function Pf(t){return t=yn(t),jf(t)}var Pu=null;function jf(t){if(Pu=null,t=fr(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function xy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zc()){case Ls:return 2;case ba:return 8;case Oi:case qc:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var Bf=!1,fi=null,di=null,mi=null,jl=new Map,Bl=new Map,gi=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(t,n){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":di=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function zl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&wy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function LT(t,n,a,l,h){switch(n){case"focusin":return fi=zl(fi,t,n,a,l,h),!0;case"dragenter":return di=zl(di,t,n,a,l,h),!0;case"mouseover":return mi=zl(mi,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return jl.set(f,zl(jl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Bl.set(f,zl(Bl.get(f)||null,t,n,a,l,h)),!0}return!1}function Cy(t){var n=fr(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ao(t.priority,function(){if(a.tag===13){var l=hn();l=Hr(l);var h=Ha(a,l);h!==null&&fn(h,a,l),Lf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Pf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pr=l,a.target.dispatchEvent(l),pr=null}else return n=zn(a),n!==null&&wy(n),t.blockedOn=a,!1;n.shift()}return!0}function Dy(t,n,a){ju(t)&&a.delete(n)}function UT(){Bf=!1,fi!==null&&ju(fi)&&(fi=null),di!==null&&ju(di)&&(di=null),mi!==null&&ju(mi)&&(mi=null),jl.forEach(Dy),Bl.forEach(Dy)}function Bu(t,n){t.blockedOn===n&&(t.blockedOn=null,Bf||(Bf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,UT)))}var zu=null;function Ny(t){zu!==t&&(zu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zu===t&&(zu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(jf(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,Ph(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ql(t){function n(D){return Bu(D,t)}fi!==null&&Bu(fi,t),di!==null&&Bu(di,t),mi!==null&&Bu(mi,t),jl.forEach(n),Bl.forEach(n);for(var a=0;a<gi.length;a++){var l=gi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gi.length&&(a=gi[0],a.blockedOn===null);)Cy(a),a.blockedOn===null&&gi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[ge]||null;if(typeof f=="function")_||Ny(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ge]||null)T=_.formAction;else if(jf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ny(a)}}}function zf(t){this._internalRoot=t}qu.prototype.render=zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=hn();Ay(a,l,t,n,null,null)},qu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ay(t.current,2,null,t,null,null),Au(),n[gn]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<gi.length&&n!==0&&n<gi[a].priority;a++);gi.splice(a,0,t),a===0&&Cy(t)}};var Iy=e.version;if(Iy!=="19.1.0")throw Error(s(527,Iy,"19.1.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var PT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{oe=Hu.inject(PT),Ft=Hu}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Yg,f=Kg,_=Xg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Ty(t,1,!1,null,null,a,l,h,f,_,T,null),t[gn]=n.current,Af(t),new zf(n)},Gl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Yg,_=Kg,T=Xg,D=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=Ty(t,1,!0,n,a??null,l,h,f,_,T,D,z),n.context=by(null),a=n.current,l=hn(),l=Hr(l),h=Jr(l),h.callback=null,Wr(a,h,l),a=l,n.current.lanes=a,hr(n,a),er(n),t[gn]=n.current,Af(t),new qu(n)},Gl.version="19.1.0",Gl}var zy;function KT(){if(zy)return Gf.exports;zy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gf.exports=YT(),Gf.exports}var XT=KT(),Fl={},qy;function $T(){if(qy)return Fl;qy=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=d,Fl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,P){const k=new c,K=A.length;if(K<2)return k;const F=(P==null?void 0:P.decode)||E;let $=0;do{const J=A.indexOf("=",$);if(J===-1)break;const rt=A.indexOf(";",$),mt=rt===-1?K:rt;if(J>mt){$=A.lastIndexOf(";",J-1)+1;continue}const ht=g(A,$,J),Rt=p(A,J,ht),O=A.slice(ht,Rt);if(k[O]===void 0){let x=g(A,J+1,mt),R=p(A,mt,x);const I=F(A.slice(x,R));k[O]=I}$=mt+1}while($<K);return k}function g(A,P,k){do{const K=A.charCodeAt(P);if(K!==32&&K!==9)return P}while(++P<k);return k}function p(A,P,k){for(;P>k;){const K=A.charCodeAt(--P);if(K!==32&&K!==9)return P+1}return k}function y(A,P,k){const K=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const F=K(P);if(!e.test(F))throw new TypeError(`argument val is invalid: ${P}`);let $=A+"="+F;if(!k)return $;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);$+="; Max-Age="+k.maxAge}if(k.domain){if(!r.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);$+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);$+="; Path="+k.path}if(k.expires){if(!S(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);$+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&($+="; HttpOnly"),k.secure&&($+="; Secure"),k.partitioned&&($+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return $}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function S(A){return o.call(A)==="[object Date]"}return Fl}$T();var Hy="popstate";function ZT(i={}){function e(o,c){let{pathname:d="/",search:g="",hash:p=""}=ya(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),ad("",{pathname:d,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof c=="string"?c:eo(c))}function s(o,c){Dn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return WT(e,r,s,i)}function ae(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Dn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JT(){return Math.random().toString(36).substring(2,10)}function Gy(i,e){return{usr:i.state,key:i.key,idx:e}}function ad(i,e,r=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:r,key:e&&e.key||s||JT()}}function eo({pathname:i="/",search:e="",hash:r=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function ya(i){let e={};if(i){let r=i.indexOf("#");r>=0&&(e.hash=i.substring(r),i=i.substring(0,r));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function WT(i,e,r,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function S(){g="POP";let F=E(),$=F==null?null:F-y;y=F,p&&p({action:g,location:K.location,delta:$})}function A(F,$){g="PUSH";let J=ad(K.location,F,$);r&&r(J,F),y=E()+1;let rt=Gy(J,y),mt=K.createHref(J);try{d.pushState(rt,"",mt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(mt)}c&&p&&p({action:g,location:K.location,delta:1})}function P(F,$){g="REPLACE";let J=ad(K.location,F,$);r&&r(J,F),y=E();let rt=Gy(J,y),mt=K.createHref(J);d.replaceState(rt,"",mt),c&&p&&p({action:g,location:K.location,delta:0})}function k(F){return t1(F)}let K={get action(){return g},get location(){return i(o,d)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hy,S),p=F,()=>{o.removeEventListener(Hy,S),p=null}},createHref(F){return e(o,F)},createURL:k,encodeLocation(F){let $=k(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:P,go(F){return d.go(F)}};return K}function t1(i,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ae(r,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:eo(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function lv(i,e,r="/"){return e1(i,e,r,!1)}function e1(i,e,r,s){let o=typeof e=="string"?ya(e):e,c=Ur(o.pathname||"/",r);if(c==null)return null;let d=ov(i);n1(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=d1(c);g=h1(d[p],y,s)}return g}function ov(i,e=[],r=[],s=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ae(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=kr([s,p.relativePath]),E=r.concat(p);c.children&&c.children.length>0&&(ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ov(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:u1(y,c.index),routesMeta:E})};return i.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of uv(c.path))o(c,d,p)}),e}function uv(i){let e=i.split("/");if(e.length===0)return[];let[r,...s]=e,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=uv(s.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>i.startsWith("/")&&p===""?"/":p)}function n1(i){i.sort((e,r)=>e.score!==r.score?r.score-e.score:c1(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var r1=/^:[\w-]+$/,i1=3,a1=2,s1=1,l1=10,o1=-2,Fy=i=>i==="*";function u1(i,e){let r=i.split("/"),s=r.length;return r.some(Fy)&&(s+=o1),e&&(s+=a1),r.filter(o=>!Fy(o)).reduce((o,c)=>o+(r1.test(c)?i1:c===""?s1:l1),s)}function c1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function h1(i,e,r=!1){let{routesMeta:s}=i,o={},c="/",d=[];for(let g=0;g<s.length;++g){let p=s[g],y=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),A=p.route;if(!S&&y&&r&&!s[s.length-1].route.index&&(S=sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:kr([c,S.pathname]),pathnameBase:y1(kr([c,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(c=kr([c,S.pathnameBase]))}return d}function sc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,s]=f1(i.path,i.caseSensitive,i.end),o=e.match(r);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},A)=>{if(E==="*"){let k=g[A]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const P=g[A];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:i}}function f1(i,e=!1,r=!0){Dn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function d1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=i.charAt(r);return s&&s!=="/"?null:i.slice(r)||"/"}function m1(i,e="/"){let{pathname:r,search:s="",hash:o=""}=typeof i=="string"?ya(i):i;return{pathname:r?r.startsWith("/")?r:g1(r,e):e,search:v1(s),hash:_1(o)}}function g1(i,e){let r=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Kf(i,e,r,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p1(i){return i.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function cv(i){let e=p1(i);return e.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase)}function hv(i,e,r,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},ae(!o.pathname||!o.pathname.includes("?"),Kf("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),Kf("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),Kf("#","search","hash",o)));let c=i===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=r;else{let S=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}g=S>=0?e[S]:"/"}let p=m1(o,g),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var kr=i=>i.join("/").replace(/\/\/+/g,"/"),y1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function E1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var fv=["POST","PUT","PATCH","DELETE"];new Set(fv);var T1=["GET",...fv];new Set(T1);var Cs=G.createContext(null);Cs.displayName="DataRouter";var Ac=G.createContext(null);Ac.displayName="DataRouterState";var dv=G.createContext({isTransitioning:!1});dv.displayName="ViewTransition";var b1=G.createContext(new Map);b1.displayName="Fetchers";var A1=G.createContext(null);A1.displayName="Await";var lr=G.createContext(null);lr.displayName="Navigation";var fo=G.createContext(null);fo.displayName="Location";var or=G.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var Id=G.createContext(null);Id.displayName="RouteError";function S1(i,{relative:e}={}){ae(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=G.useContext(lr),{hash:o,pathname:c,search:d}=go(i,{relative:e}),g=c;return r!=="/"&&(g=c==="/"?r:kr([r,c])),s.createHref({pathname:g,search:d,hash:o})}function mo(){return G.useContext(fo)!=null}function dn(){return ae(mo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(fo).location}var mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gv(i){G.useContext(lr).static||G.useLayoutEffect(i)}function Pn(){let{isDataRoute:i}=G.useContext(or);return i?P1():w1()}function w1(){ae(mo(),"useNavigate() may be used only in the context of a <Router> component.");let i=G.useContext(Cs),{basename:e,navigator:r}=G.useContext(lr),{matches:s}=G.useContext(or),{pathname:o}=dn(),c=JSON.stringify(cv(s)),d=G.useRef(!1);return gv(()=>{d.current=!0}),G.useCallback((p,y={})=>{if(Dn(d.current,mv),!d.current)return;if(typeof p=="number"){r.go(p);return}let E=hv(p,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:kr([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,c,o,i])}G.createContext(null);function x1(){let{matches:i}=G.useContext(or),e=i[i.length-1];return e?e.params:{}}function go(i,{relative:e}={}){let{matches:r}=G.useContext(or),{pathname:s}=dn(),o=JSON.stringify(cv(r));return G.useMemo(()=>hv(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function R1(i,e){return pv(i,e)}function pv(i,e,r,s){var $;ae(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(lr),{matches:c}=G.useContext(or),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let J=E&&E.path||"";yv(p,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=dn(),A;if(e){let J=typeof e=="string"?ya(e):e;ae(y==="/"||(($=J.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${J.pathname}" was given in the \`location\` prop.`),A=J}else A=S;let P=A.pathname||"/",k=P;if(y!=="/"){let J=y.replace(/^\//,"").split("/");k="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let K=lv(i,{pathname:k});Dn(E||K!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Dn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=V1(K&&K.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:kr([y,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?y:kr([y,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),c,r,s);return e&&F?G.createElement(fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},F):F}function C1(){let i=U1(),e=E1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),r?G.createElement("pre",{style:o},r):null,d)}var D1=G.createElement(C1,null),N1=class extends G.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?G.createElement(or.Provider,{value:this.props.routeContext},G.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I1({routeContext:i,match:e,children:r}){let s=G.useContext(Cs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(or.Provider,{value:i},r)}function V1(i,e=[],r=null,s=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let o=i,c=r==null?void 0:r.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ae(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(r)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:S}=r,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,A=!1,P=null,k=null;r&&(S=c&&y.route.id?c[y.route.id]:void 0,P=y.route.errorElement||D1,d&&(g<0&&E===0?(yv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,k=null):g===E&&(A=!0,k=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),F=()=>{let $;return S?$=P:A?$=k:y.route.Component?$=G.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,G.createElement(I1,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:r!=null},children:$})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(N1,{location:r.location,revalidation:r.revalidation,component:P,error:S,children:F(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):F()},null)}function Vd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O1(i){let e=G.useContext(Cs);return ae(e,Vd(i)),e}function M1(i){let e=G.useContext(Ac);return ae(e,Vd(i)),e}function k1(i){let e=G.useContext(or);return ae(e,Vd(i)),e}function Od(i){let e=k1(i),r=e.matches[e.matches.length-1];return ae(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function L1(){return Od("useRouteId")}function U1(){var s;let i=G.useContext(Id),e=M1("useRouteError"),r=Od("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[r]}function P1(){let{router:i}=O1("useNavigate"),e=Od("useNavigate"),r=G.useRef(!1);return gv(()=>{r.current=!0}),G.useCallback(async(o,c={})=>{Dn(r.current,mv),r.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Qy={};function yv(i,e,r){!e&&!Qy[i]&&(Qy[i]=!0,Dn(!1,r))}G.memo(j1);function j1({routes:i,future:e,state:r}){return pv(i,void 0,r,e)}function nr(i){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B1({basename:i="/",children:e=null,location:r,navigationType:s="POP",navigator:o,static:c=!1}){ae(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof r=="string"&&(r=ya(r));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:A="default"}=r,P=G.useMemo(()=>{let k=Ur(p,d);return k==null?null:{location:{pathname:k,search:y,hash:E,state:S,key:A},navigationType:s}},[d,p,y,E,S,A,s]);return Dn(P!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(lr.Provider,{value:g},G.createElement(fo.Provider,{children:e,value:P}))}function z1({children:i,location:e}){return R1(sd(i),e)}function sd(i,e=[]){let r=[];return G.Children.forEach(i,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){r.push.apply(r,sd(s.props.children,c));return}ae(s.type===nr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=sd(s.props.children,c)),r.push(d)}),r}var Ju="get",Wu="application/x-www-form-urlencoded";function Sc(i){return i!=null&&typeof i.tagName=="string"}function q1(i){return Sc(i)&&i.tagName.toLowerCase()==="button"}function H1(i){return Sc(i)&&i.tagName.toLowerCase()==="form"}function G1(i){return Sc(i)&&i.tagName.toLowerCase()==="input"}function F1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Q1(i,e){return i.button===0&&(!e||e==="_self")&&!F1(i)}function ld(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,r)=>{let s=i[r];return e.concat(Array.isArray(s)?s.map(o=>[r,o]):[[r,s]])},[]))}function Y1(i,e){let r=ld(i);return e&&e.forEach((s,o)=>{r.has(o)||e.getAll(o).forEach(c=>{r.append(o,c)})}),r}var Gu=null;function K1(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var X1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xf(i){return i!=null&&!X1.has(i)?(Dn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):i}function $1(i,e){let r,s,o,c,d;if(H1(i)){let g=i.getAttribute("action");s=g?Ur(g,e):null,r=i.getAttribute("method")||Ju,o=Xf(i.getAttribute("enctype"))||Wu,c=new FormData(i)}else if(q1(i)||G1(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||g.getAttribute("action");if(s=p?Ur(p,e):null,r=i.getAttribute("formmethod")||g.getAttribute("method")||Ju,o=Xf(i.getAttribute("formenctype"))||Xf(g.getAttribute("enctype"))||Wu,c=new FormData(g,i),!K1()){let{name:y,type:E,value:S}=i;if(E==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,S)}}else{if(Sc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ju,s=null,o=Wu,d=i}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:r.toLowerCase(),encType:o,formData:c,body:d}}function Md(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Z1(i,e){if(i.id in e)return e[i.id];try{let r=await import(i.module);return e[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function W1(i,e,r){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Z1(c,r);return d.links?d.links():[]}return[]}));return rb(s.flat(1).filter(J1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(i,e,r,s,o,c){let d=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,g=(p,y)=>{var E;return r[y].pathname!==p.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=r[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function tb(i,e,{includeHydrateFallback:r}={}){return eb(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function eb(i){return[...new Set(i)]}function nb(i){let e={},r=Object.keys(i).sort();for(let s of r)e[s]=i[s];return e}function rb(i,e){let r=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(nb(o));return r.has(c)||(r.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ib=new Set([100,101,204,205]);function ab(i,e){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname="_root.data":e&&Ur(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function vv(){let i=G.useContext(Cs);return Md(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function sb(){let i=G.useContext(Ac);return Md(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var kd=G.createContext(void 0);kd.displayName="FrameworkContext";function _v(){let i=G.useContext(kd);return Md(i,"You must render this element inside a <HydratedRouter> element"),i}function lb(i,e){let r=G.useContext(kd),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,A=G.useRef(null);G.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let K=$=>{$.forEach(J=>{d(J.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[i]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let P=()=>{o(!0)},k=()=>{o(!1),d(!1)};return r?i!=="intent"?[c,A,{}]:[c,A,{onFocus:Ql(g,P),onBlur:Ql(p,k),onMouseEnter:Ql(y,P),onMouseLeave:Ql(E,k),onTouchStart:Ql(S,P)}]:[!1,A,{}]}function Ql(i,e){return r=>{i&&i(r),r.defaultPrevented||e(r)}}function ob({page:i,...e}){let{router:r}=vv(),s=G.useMemo(()=>lv(r.routes,i,r.basename),[r.routes,i,r.basename]);return s?G.createElement(cb,{page:i,matches:s,...e}):null}function ub(i){let{manifest:e,routeModules:r}=_v(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return W1(i,e,r).then(d=>{c||o(d)}),()=>{c=!0}},[i,e,r]),s}function cb({page:i,matches:e,...r}){let s=dn(),{manifest:o,routeModules:c}=_v(),{basename:d}=vv(),{loaderData:g,matches:p}=sb(),y=G.useMemo(()=>Yy(i,e,p,o,s,"data"),[i,e,p,o,s]),E=G.useMemo(()=>Yy(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=G.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,K=!1;if(e.forEach($=>{var rt;let J=o.routes[$.route.id];!J||!J.hasLoader||(!y.some(mt=>mt.route.id===$.route.id)&&$.route.id in g&&((rt=c[$.route.id])!=null&&rt.shouldRevalidate)||J.hasClientLoader?K=!0:k.add($.route.id))}),k.size===0)return[];let F=ab(i,d);return K&&k.size>0&&F.searchParams.set("_routes",e.filter($=>k.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[d,g,s,o,y,e,i,c]),A=G.useMemo(()=>tb(E,o),[E,o]),P=ub(E);return G.createElement(G.Fragment,null,S.map(k=>G.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),A.map(k=>G.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),P.map(({key:k,link:K})=>G.createElement("link",{key:k,...K})))}function hb(...i){return e=>{i.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ev&&(window.__reactRouterVersion="7.6.1")}catch{}function fb({basename:i,children:e,window:r}){let s=G.useRef();s.current==null&&(s.current=ZT({window:r,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(p=>{G.startTransition(()=>d(p))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(B1,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var Tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bv=G.forwardRef(function({onClick:e,discover:r="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:E,viewTransition:S,...A},P){let{basename:k}=G.useContext(lr),K=typeof y=="string"&&Tv.test(y),F,$=!1;if(typeof y=="string"&&K&&(F=y,Ev))try{let R=new URL(window.location.href),I=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Ur(I.pathname,k);I.origin===R.origin&&M!=null?y=M+I.search+I.hash:$=!0}catch{Dn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=S1(y,{relative:o}),[rt,mt,ht]=lb(s,A),Rt=pb(y,{replace:d,state:g,target:p,preventScrollReset:E,relative:o,viewTransition:S});function O(R){e&&e(R),R.defaultPrevented||Rt(R)}let x=G.createElement("a",{...A,...ht,href:F||J,onClick:$||c?e:O,ref:hb(P,mt),target:p,"data-discover":!K&&r==="render"?"true":void 0});return rt&&!K?G.createElement(G.Fragment,null,x,G.createElement(ob,{page:J})):x});bv.displayName="Link";var db=G.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},E){let S=go(d,{relative:y.relative}),A=dn(),P=G.useContext(Ac),{navigator:k,basename:K}=G.useContext(lr),F=P!=null&&bb(S)&&g===!0,$=k.encodeLocation?k.encodeLocation(S).pathname:S.pathname,J=A.pathname,rt=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;r||(J=J.toLowerCase(),rt=rt?rt.toLowerCase():null,$=$.toLowerCase()),rt&&K&&(rt=Ur(rt,K)||rt);const mt=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ht=J===$||!o&&J.startsWith($)&&J.charAt(mt)==="/",Rt=rt!=null&&(rt===$||!o&&rt.startsWith($)&&rt.charAt($.length)==="/"),O={isActive:ht,isPending:Rt,isTransitioning:F},x=ht?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ht?"active":null,Rt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(O):c;return G.createElement(bv,{...y,"aria-current":x,className:R,ref:E,style:I,to:d,viewTransition:g},typeof p=="function"?p(O):p)});db.displayName="NavLink";var mb=G.forwardRef(({discover:i="render",fetcherKey:e,navigate:r,reloadDocument:s,replace:o,state:c,method:d=Ju,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...A},P)=>{let k=Eb(),K=Tb(g,{relative:y}),F=d.toLowerCase()==="get"?"get":"post",$=typeof g=="string"&&Tv.test(g),J=rt=>{if(p&&p(rt),rt.defaultPrevented)return;rt.preventDefault();let mt=rt.nativeEvent.submitter,ht=(mt==null?void 0:mt.getAttribute("formmethod"))||d;k(mt||rt.currentTarget,{fetcherKey:e,method:ht,navigate:r,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:P,method:F,action:K,onSubmit:s?p:J,...A,"data-discover":!$&&i==="render"?"true":void 0})});mb.displayName="Form";function gb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Av(i){let e=G.useContext(Cs);return ae(e,gb(i)),e}function pb(i,{target:e,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Pn(),p=dn(),y=go(i,{relative:c});return G.useCallback(E=>{if(Q1(E,e)){E.preventDefault();let S=r!==void 0?r:eo(p)===eo(y);g(i,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,r,s,e,i,o,c,d])}function yb(i){Dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=G.useRef(ld(i)),r=G.useRef(!1),s=dn(),o=G.useMemo(()=>Y1(s.search,r.current?null:e.current),[s.search]),c=Pn(),d=G.useCallback((g,p)=>{const y=ld(typeof g=="function"?g(o):g);r.current=!0,c("?"+y,p)},[c,o]);return[o,d]}var vb=0,_b=()=>`__${String(++vb)}__`;function Eb(){let{router:i}=Av("useSubmit"),{basename:e}=G.useContext(lr),r=L1();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=$1(s,e);if(o.navigate===!1){let E=o.fetcherKey||_b();await i.fetch(E,r,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,r])}function Tb(i,{relative:e}={}){let{basename:r}=G.useContext(lr),s=G.useContext(or);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...go(i||".",{relative:e})},d=dn();if(i==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(S=>S).forEach(S=>g.append("index",S));let E=g.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:kr([r,c.pathname])),eo(c)}function bb(i,e={}){let r=G.useContext(dv);ae(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Av("useViewTransitionState"),o=go(i,{relative:e.relative});if(!r.isTransitioning)return!1;let c=Ur(r.currentLocation.pathname,s)||r.currentLocation.pathname,d=Ur(r.nextLocation.pathname,s)||r.nextLocation.pathname;return sc(o.pathname,d)!=null||sc(o.pathname,c)!=null}[...ib];const zr="/bluff-buster/assets/banner-BHAdo5Vc.jpg";function Ab(){const i=Pn();return w.jsxs("div",{className:"h-auto sm:min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-24 sm:w-32 mb-4"}),w.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-md mb-8 transition-colors duration-200",children:[w.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"How to Play"}),w.jsxs("div",{className:"space-y-4 text-left text-gray-900 dark:text-gray-100",children:[w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("span",{className:"text-red-600 font-bold",children:"1."}),w.jsx("p",{children:"Choose your favorite category from the options below"})]}),w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("span",{className:"text-red-600 font-bold",children:"2."}),w.jsx("p",{children:"You'll see three statements - one of them is a bluff!"})]}),w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("span",{className:"text-red-600 font-bold",children:"3."}),w.jsx("p",{children:"Find the bluff before the timer runs out to build your streak"})]}),w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("span",{className:"text-red-600 font-bold",children:"4."}),w.jsx("p",{children:"Challenge your friends to beat your streak!"})]})]})]}),w.jsx("button",{onClick:()=>i("/difficulty"),className:"px-8 py-4 text-xl font-bold rounded-lg bg-green-600 text-white hover:bg-green-700 transition-all transform hover:scale-105",children:"Start Game"})]})}function Sb(){const i=Pn(),e=[{name:"Easy",description:"20 seconds per question",timer:20,color:"bg-green-500 hover:bg-green-600"},{name:"Medium",description:"15 seconds per question",timer:15,color:"bg-yellow-500 hover:bg-yellow-600"},{name:"Hard",description:"10 seconds per question",timer:10,color:"bg-red-500 hover:bg-red-600"}],r=s=>{i("/categories",{state:{timer:s.timer}})};return w.jsxs("div",{className:"h-auto sm:min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-24 sm:w-32 mb-4"}),w.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6 w-full max-w-sm",children:e.map(s=>w.jsxs("button",{onClick:()=>r(s),className:`${s.color} text-white font-bold rounded-lg p-3 transition-all transform hover:scale-105`,children:[w.jsx("div",{className:"text-xl mb-1",children:s.name}),w.jsx("div",{className:"text-sm",children:s.description})]},s.name))}),w.jsx("button",{onClick:()=>i("/"),className:"px-4 py-2 rounded-lg bg-gray-600 dark:bg-gray-700 text-white hover:bg-gray-700 dark:hover:bg-gray-800 text-sm transition-colors duration-200",children:"Back to Home"})]})}const Ld=[{name:"Hollywood",subcategories:[{name:"Movies",file:"hollywoodMoviesQuestions"},{name:"Pop Culture",file:"hollywoodPopCultureQuestions"},{name:"TV Shows",file:"hollywoodTVShowsQuestions"}]},{name:"Bollywood",subcategories:[{name:"Movies",file:"bollywoodMoviesQuestions"},{name:"Pop Culture",file:"bollywoodPopCultureQuestions"},{name:"TV Shows",file:"bollywoodTVShowsQuestions"}]},{name:"Science & Technology",subcategories:[{name:"General Science",file:"scienceQuestions"},{name:"Astronomy",file:"astronomyQuestions"},{name:"Technology",file:"techQuestions"}]},{name:"History & Geography",subcategories:[{name:"History",file:"historyQuestions"},{name:"Geography",file:"geographyQuestions"}]},{name:"Food & Nature",subcategories:[{name:"Food & Culture",file:"foodAndCultureQuestions"},{name:"Animals",file:"animalQuestions"}]}],wb=Object.freeze(Object.defineProperty({__proto__:null,categories:Ld},Symbol.toStringTag,{value:"Module"}));function xb(){var g;const i=Pn(),r=((g=dn().state)==null?void 0:g.timer)||15,[s,o]=G.useState(null),c=(p,y)=>{const E=p.toLowerCase().replace(/\s+/g,"-"),S=y.toLowerCase().replace(/\s+/g,"-");i(`/category/${E}/${S}`,{state:{timer:r,mainCategory:p,subcategory:y}})},d=p=>{o(s===p?null:p)};return w.jsxs("div",{className:"h-auto sm:min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-24 sm:w-32 mb-4"}),w.jsx("h1",{className:"text-3xl font-bold mb-2 text-red-600",children:"Choose Your Category"}),w.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-8",children:["Timer: ",r," seconds per question"]}),w.jsx("div",{className:"w-full max-w-4xl space-y-4",children:Ld.map(p=>w.jsxs("div",{className:"mb-4",children:[w.jsxs("button",{onClick:()=>d(p.name),className:"w-full flex items-center justify-between p-4 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-bold text-lg hover:from-purple-600 hover:to-purple-700 transform hover:scale-[1.02] transition-all duration-200",children:[w.jsx("span",{children:p.name}),w.jsx("span",{className:"transform transition-transform duration-200",children:s===p.name?"▼":"▶"})]}),s===p.name&&w.jsx("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 p-2",children:p.subcategories.map(y=>w.jsx("button",{onClick:()=>c(p.name,y.name),className:"w-full h-16 font-bold rounded-lg bg-gray-200 dark:bg-gray-800 text-black dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-700 transition-all transform hover:scale-105 text-lg",children:y.name},y.name))})]},p.name))}),w.jsx("button",{onClick:()=>i("/difficulty"),className:"mt-8 px-6 py-3 rounded-lg bg-gray-600 dark:bg-gray-700 text-white hover:bg-gray-700 dark:hover:bg-gray-800",children:"Back to Difficulty"})]})}const Rb="modulepreload",Cb=function(i){return"/bluff-buster/"+i},Ky={},Je=function(e,r,s){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(r.map(p=>{if(p=Cb(p),p in Ky)return;Ky[p]=!0;const y=p.endsWith(".css"),E=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":Rb,y||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((A,P)=>{S.addEventListener("load",A),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})},Db=(i,e,r)=>{const s=i[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((o,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};function Nb(){var M,L,C;const{mainCategorySlug:i,subcategorySlug:e}=x1(),r=Pn(),s=dn(),o=((M=s.state)==null?void 0:M.timer)||15,c=((L=s.state)==null?void 0:L.mainCategory)||(i?i.replace(/-/g," ").replace(/\b\w/g,bt=>bt.toUpperCase()):""),d=((C=s.state)==null?void 0:C.subcategory)||(e?e.replace(/-/g," ").replace(/\b\w/g,bt=>bt.toUpperCase()):""),[g,p]=G.useState([]),[y,E]=G.useState(null),[S,A]=G.useState(o),[P,k]=G.useState(0),[K,F]=G.useState(0),[$,J]=G.useState("countdown"),[rt,mt]=G.useState(3),[ht,Rt]=G.useState(!1);async function O(bt,wt){const Y=Ld.find(Dt=>Dt.name.toLowerCase()===bt.toLowerCase());if(!Y)return null;const at=Y.subcategories.find(Dt=>Dt.name.toLowerCase()===wt.toLowerCase());return at?(await Db(Object.assign({"../data/animalQuestions.js":()=>Je(()=>import("./animalQuestions-DCjClEHT.js"),[]),"../data/astronomyQuestions.js":()=>Je(()=>import("./astronomyQuestions-C7_tLuXT.js"),[]),"../data/bollywoodMoviesQuestions.js":()=>Je(()=>import("./bollywoodMoviesQuestions-YXE8Japj.js"),[]),"../data/bollywoodPopCultureQuestions.js":()=>Je(()=>import("./bollywoodPopCultureQuestions-Ctycim2s.js"),[]),"../data/bollywoodTVShowsQuestions.js":()=>Je(()=>import("./bollywoodTVShowsQuestions-BRptt2la.js"),[]),"../data/categories.js":()=>Je(()=>Promise.resolve().then(()=>wb),void 0),"../data/foodAndCultureQuestions.js":()=>Je(()=>import("./foodAndCultureQuestions-DzlF6x_g.js"),[]),"../data/geographyQuestions.js":()=>Je(()=>import("./geographyQuestions-BoYBfFCj.js"),[]),"../data/historyQuestions.js":()=>Je(()=>import("./historyQuestions-gTct2lCa.js"),[]),"../data/hollywoodMoviesQuestions.js":()=>Je(()=>import("./hollywoodMoviesQuestions-DCJUslmH.js"),[]),"../data/hollywoodPopCultureQuestions.js":()=>Je(()=>import("./hollywoodPopCultureQuestions-Dq8s5cG4.js"),[]),"../data/hollywoodTVShowsQuestions.js":()=>Je(()=>import("./hollywoodTVShowsQuestions-CZRu2Pcj.js"),[]),"../data/scienceQuestions.js":()=>Je(()=>import("./scienceQuestions-Nv-Ud5Bc.js"),[]),"../data/techQuestions.js":()=>Je(()=>import("./techQuestions-zEmy52_F.js"),[]),"../data/titles.js":()=>Je(()=>Promise.resolve().then(()=>Gx),void 0)}),`../data/${at.file}.js`,3)).default:null}G.useEffect(()=>{let bt=!0;async function wt(){const Y=await O(c,d);if(!Y){r("/");return}function at(lt,it,dt){return lt.filter(le=>!dt.has(le)).sort(()=>Math.random()-.5).slice(0,it)}const ft=Math.min(10,Math.floor(Math.min(Y.trueStatements.length/2,Y.bluffs.length))),Dt=new Set,N=new Set,et=[];for(let lt=0;lt<ft;lt++){const it=at(Y.trueStatements,2,Dt);it.forEach(le=>Dt.add(le));const dt=at(Y.bluffs,1,N)[0];N.add(dt);const xt=[...it,dt].sort(()=>Math.random()-.5),_t=xt.indexOf(dt);et.push({statements:xt,answer:_t})}bt&&p(et)}return wt(),()=>{bt=!1}},[c,d,r]),G.useEffect(()=>{if($==="countdown"){const bt=setInterval(()=>{mt(wt=>wt===1?(clearInterval(bt),J("game"),0):wt-1)},1e3);return()=>clearInterval(bt)}},[$]),G.useEffect(()=>{if($==="game"){const bt=setInterval(()=>{A(wt=>wt===1?(clearInterval(bt),x(),0):wt-1)},1e3);return()=>clearInterval(bt)}},[$,P]),G.useEffect(()=>{ht&&(E(null),k(bt=>bt+1),A(o),Rt(!1))},[ht,o]);const x=()=>{r("/game-over",{state:{streak:K,category:`${c} - ${d}`,timer:o}})},R=bt=>{E(bt);const wt=g[P].answer;bt===wt?(F(Y=>Y+1),P+1<g.length?setTimeout(()=>{E(null),k(Y=>Y+1),A(o)},1e3):setTimeout(()=>{r("/game-over",{state:{streak:K+1,category:`${c} - ${d}`,timer:o}})},1e3)):setTimeout(()=>{r("/answer",{state:{streak:K,category:`${c} - ${d}`,timer:o,correctAnswer:g[P].statements[wt],explanation:g[P].explanation||"That was the bluff!"}})},1e3)};if($==="countdown")return w.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:[w.jsx("h1",{className:"text-6xl font-bold text-red-600",children:rt}),w.jsx("p",{className:"text-lg mt-4 text-gray-900 dark:text-gray-100",children:"Get ready!"})]});if(!g||g.length===0||!g[P])return w.jsx("div",{className:"h-auto sm:min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:w.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"No questions available!"})});const{statements:I}=g[P];return w.jsxs("div",{className:"h-auto sm:min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-24 sm:w-32 mb-2"}),w.jsx("h1",{className:"text-3xl sm:text-2xl font-bold mb-2 text-red-600",children:"Spot the Bluff!"}),w.jsxs("div",{className:"text-2xl font-semibold mb-2 text-gray-900 dark:text-gray-100",children:["Time Left: ",S,"s"]}),w.jsxs("div",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100",children:["Streak: ",K]}),w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 sm:p-6 w-full max-w-sm sm:max-w-md text-xl transition-colors duration-200",children:I.map((bt,wt)=>w.jsx("button",{onClick:()=>R(wt),disabled:y!==null,className:`block w-full text-center p-4 sm:p-5 mb-2 rounded-lg border transition-all duration-300 ${y===wt?wt===g[P].answer?"border-green-500 bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"border-red-500 bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"border-gray-300 bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-100"}`,children:bt},`${P}-${wt}`))})]})}const Ib=()=>{};var Xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=function(i){const e=[];let r=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},Vb=function(i){const e=[];let r=0,s=0;for(;r<i.length;){const o=i[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[r++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[r++],d=i[r++],g=i[r++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[r++],d=i[r++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,g=d?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let A=(g&15)<<2|y>>6,P=y&63;p||(P=64,d||(A=64)),s.push(r[E],r[S],r[A],r[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Sv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Vb(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=r[i.charAt(o++)],g=o<i.length?r[i.charAt(o)]:0;++o;const y=o<i.length?r[i.charAt(o)]:64;++o;const S=o<i.length?r[i.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new Ob;const A=c<<2|g>>4;if(s.push(A),y!==64){const P=g<<4&240|y>>2;if(s.push(P),S!==64){const k=y<<6&192|S;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(i){const e=Sv(i);return wv.encodeByteArray(e,!0)},lc=function(i){return Mb(i).replace(/\./g,"")},kb=function(i){try{return wv.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=()=>Lb().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof Xy>"u")return;const i=Xy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},jb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&kb(i[1]);return e&&JSON.parse(e)},Ud=()=>{try{return Ib()||Ub()||Pb()||jb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Bb=i=>{var e,r;return(r=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[i]},zb=i=>{const e=Bb(i);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},xv=()=>{var i;return(i=Ud())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(i){return i.endsWith(".cloudworkstations.dev")}async function Hb(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[lc(JSON.stringify(r)),lc(JSON.stringify(d)),""].join(".")}const $l={};function Fb(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function Qb(i){let e=document.getElementById(i),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),r=!0),{created:r,element:e}}let $y=!1;function Yb(i,e){if(typeof window>"u"||typeof document>"u"||!Pd(window.location.host)||$l[i]===e||$l[i]||$y)return;$l[i]=e;function r(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=Fb().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{$y=!0,d()},A}function E(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=Qb(s),P=r("text"),k=document.getElementById(P)||document.createElement("span"),K=r("learnmore"),F=document.getElementById(K)||document.createElement("a"),$=r("preprendIcon"),J=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const rt=A.element;g(rt),E(F,K);const mt=y();p(J,$),rt.append(J,k,F,mt),document.body.appendChild(rt)}c?(k.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){var i;const e=(i=Ud())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $b(){return!Xb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zb(){try{return typeof indexedDB=="object"}catch{return!1}}function Jb(){return new Promise((i,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="FirebaseError";class Ds extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Wb,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rv.prototype.create)}}class Rv{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?tA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ds(o,g,s)}}function tA(i,e){return i.replace(eA,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eA=/\{\$([^}]+)}/g;function oc(i,e){if(i===e)return!0;const r=Object.keys(i),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const c=i[o],d=e[o];if(Zy(c)&&Zy(d)){if(!oc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Zy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(i){return i&&i._delegate?i._delegate:i}class no{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new qb;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iA(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,r){var s;const o=this.normalizeInstanceIdentifier(r),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rA(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rA(i){return i===da?void 0:i}function iA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new nA(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const sA={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},lA=Bt.INFO,oA={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},uA=(i,e,...r)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=oA[e];if(o)console[o](`[${s}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=lA,this._logHandler=uA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const cA=(i,e)=>e.some(r=>i instanceof r);let Jy,Wy;function hA(){return Jy||(Jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fA(){return Wy||(Wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,od=new WeakMap,Nv=new WeakMap,$f=new WeakMap,jd=new WeakMap;function dA(i){const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{r(vi(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(r=>{r instanceof IDBCursor&&Dv.set(r,i)}).catch(()=>{}),jd.set(e,i),e}function mA(i){if(od.has(i))return;const e=new Promise((r,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{r(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});od.set(i,e)}let ud={get(i,e,r){if(i instanceof IDBTransaction){if(e==="done")return od.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Nv.get(i);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vi(i[e])},set(i,e,r){return i[e]=r,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function gA(i){ud=i(ud)}function pA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=i.call(Zf(this),e,...r);return Nv.set(s,e.sort?e.sort():[e]),vi(s)}:fA().includes(i)?function(...e){return i.apply(Zf(this),e),vi(Dv.get(this))}:function(...e){return vi(i.apply(Zf(this),e))}}function yA(i){return typeof i=="function"?pA(i):(i instanceof IDBTransaction&&mA(i),cA(i,hA())?new Proxy(i,ud):i)}function vi(i){if(i instanceof IDBRequest)return dA(i);if($f.has(i))return $f.get(i);const e=yA(i);return e!==i&&($f.set(i,e),jd.set(e,i)),e}const Zf=i=>jd.get(i);function vA(i,e,{blocked:r,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),g=vi(d);return s&&d.addEventListener("upgradeneeded",p=>{s(vi(d.result),p.oldVersion,p.newVersion,vi(d.transaction),p)}),r&&d.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const _A=["get","getKey","getAll","getAllKeys","count"],EA=["put","add","delete","clear"],Jf=new Map;function t0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=EA.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_A.includes(r)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[r](...g),o&&p.done]))[0]};return Jf.set(e,c),c}gA(i=>({...i,get:(e,r,s)=>t0(e,r)||i.get(e,r,s),has:(e,r)=>!!t0(e,r)||i.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(bA(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function bA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cd="@firebase/app",e0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Cv("@firebase/app"),AA="@firebase/app-compat",SA="@firebase/analytics-compat",wA="@firebase/analytics",xA="@firebase/app-check-compat",RA="@firebase/app-check",CA="@firebase/auth",DA="@firebase/auth-compat",NA="@firebase/database",IA="@firebase/data-connect",VA="@firebase/database-compat",OA="@firebase/functions",MA="@firebase/functions-compat",kA="@firebase/installations",LA="@firebase/installations-compat",UA="@firebase/messaging",PA="@firebase/messaging-compat",jA="@firebase/performance",BA="@firebase/performance-compat",zA="@firebase/remote-config",qA="@firebase/remote-config-compat",HA="@firebase/storage",GA="@firebase/storage-compat",FA="@firebase/firestore",QA="@firebase/ai",YA="@firebase/firestore-compat",KA="firebase",XA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",$A={[cd]:"fire-core",[AA]:"fire-core-compat",[wA]:"fire-analytics",[SA]:"fire-analytics-compat",[RA]:"fire-app-check",[xA]:"fire-app-check-compat",[CA]:"fire-auth",[DA]:"fire-auth-compat",[NA]:"fire-rtdb",[IA]:"fire-data-connect",[VA]:"fire-rtdb-compat",[OA]:"fire-fn",[MA]:"fire-fn-compat",[kA]:"fire-iid",[LA]:"fire-iid-compat",[UA]:"fire-fcm",[PA]:"fire-fcm-compat",[jA]:"fire-perf",[BA]:"fire-perf-compat",[zA]:"fire-rc",[qA]:"fire-rc-compat",[HA]:"fire-gcs",[GA]:"fire-gcs-compat",[FA]:"fire-fst",[YA]:"fire-fst-compat",[QA]:"fire-vertex","fire-js":"fire-js",[KA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,ZA=new Map,fd=new Map;function n0(i,e){try{i.container.addComponent(e)}catch(r){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,r)}}function cc(i){const e=i.name;if(fd.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,i);for(const r of uc.values())n0(r,i);for(const r of ZA.values())n0(r,i);return!0}function JA(i,e){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(e)}function WA(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new Rv("app","Firebase",tS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=XA;function Iv(i,e={}){let r=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw _i.create("bad-app-name",{appName:String(o)});if(r||(r=xv()),!r)throw _i.create("no-options");const c=uc.get(o);if(c){if(oc(r,c.options)&&oc(s,c.config))return c;throw _i.create("duplicate-app",{appName:o})}const d=new aA(o);for(const p of fd.values())d.addComponent(p);const g=new eS(r,s,d);return uc.set(o,g),g}function rS(i=hd){const e=uc.get(i);if(!e&&i===hd&&xv())return Iv();if(!e)throw _i.create("no-app",{appName:i});return e}function vs(i,e,r){var s;let o=(s=$A[i])!==null&&s!==void 0?s:i;r&&(o+=`-${r}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(g.join(" "));return}cc(new no(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebase-heartbeat-database",aS=1,ro="firebase-heartbeat-store";let Wf=null;function Vv(){return Wf||(Wf=vA(iS,aS,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ro)}catch(r){console.warn(r)}}}}).catch(i=>{throw _i.create("idb-open",{originalErrorMessage:i.message})})),Wf}async function sS(i){try{const r=(await Vv()).transaction(ro),s=await r.objectStore(ro).get(Ov(i));return await r.done,s}catch(e){if(e instanceof Ds)Pr.warn(e.message);else{const r=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(r.message)}}}async function r0(i,e){try{const s=(await Vv()).transaction(ro,"readwrite");await s.objectStore(ro).put(e,Ov(i)),await s.done}catch(r){if(r instanceof Ds)Pr.warn(r.message);else{const s=_i.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Pr.warn(s.message)}}}function Ov(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=1024,oS=30;class uS{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new hS(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=i0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>oS){const d=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=i0(),{heartbeatsToSend:s,unsentEntries:o}=cS(this._heartbeatsCache.heartbeats),c=lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return Pr.warn(r),""}}}function i0(){return new Date().toISOString().substring(0,10)}function cS(i,e=lS){const r=[];let s=i.slice();for(const o of i){const c=r.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),a0(r)>e){c.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),a0(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class hS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zb()?Jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const o=await this.read();return r0(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function a0(i){return lc(JSON.stringify({version:2,heartbeats:i})).length}function fS(i){if(i.length===0)return-1;let e=0,r=i[0].date;for(let s=1;s<i.length;s++)i[s].date<r&&(r=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(i){cc(new no("platform-logger",e=>new TA(e),"PRIVATE")),cc(new no("heartbeat",e=>new uS(e),"PRIVATE")),vs(cd,e0,i),vs(cd,e0,"esm2017"),vs("fire-js","")}dS("");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,Mv;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function R(){}R.prototype=x.prototype,O.D=x.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(I,M,L){for(var C=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)C[bt-2]=arguments[bt];return x.prototype[M].apply(I,C)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,R){R||(R=0);var I=Array(16);if(typeof x=="string")for(var M=0;16>M;++M)I[M]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(M=0;16>M;++M)I[M]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=O.g[0],R=O.g[1],M=O.g[2];var L=O.g[3],C=x+(L^R&(M^L))+I[0]+3614090360&4294967295;x=R+(C<<7&4294967295|C>>>25),C=L+(M^x&(R^M))+I[1]+3905402710&4294967295,L=x+(C<<12&4294967295|C>>>20),C=M+(R^L&(x^R))+I[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(x^M&(L^x))+I[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(L^R&(M^L))+I[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=L+(M^x&(R^M))+I[5]+1200080426&4294967295,L=x+(C<<12&4294967295|C>>>20),C=M+(R^L&(x^R))+I[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(x^M&(L^x))+I[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(L^R&(M^L))+I[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=L+(M^x&(R^M))+I[9]+2336552879&4294967295,L=x+(C<<12&4294967295|C>>>20),C=M+(R^L&(x^R))+I[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(x^M&(L^x))+I[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(L^R&(M^L))+I[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=L+(M^x&(R^M))+I[13]+4254626195&4294967295,L=x+(C<<12&4294967295|C>>>20),C=M+(R^L&(x^R))+I[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(x^M&(L^x))+I[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=x+(M^L&(R^M))+I[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(x^R))+I[6]+3225465664&4294967295,L=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(L^x))+I[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^x&(M^L))+I[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(M^L&(R^M))+I[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(x^R))+I[10]+38016083&4294967295,L=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(L^x))+I[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^x&(M^L))+I[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(M^L&(R^M))+I[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(x^R))+I[14]+3275163606&4294967295,L=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(L^x))+I[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^x&(M^L))+I[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(M^L&(R^M))+I[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(x^R))+I[2]+4243563512&4294967295,L=x+(C<<9&4294967295|C>>>23),C=M+(x^R&(L^x))+I[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^x&(M^L))+I[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=x+(R^M^L)+I[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=L+(x^R^M)+I[8]+2272392833&4294967295,L=x+(C<<11&4294967295|C>>>21),C=M+(L^x^R)+I[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^x)+I[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(R^M^L)+I[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=L+(x^R^M)+I[4]+1272893353&4294967295,L=x+(C<<11&4294967295|C>>>21),C=M+(L^x^R)+I[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^x)+I[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(R^M^L)+I[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=L+(x^R^M)+I[0]+3936430074&4294967295,L=x+(C<<11&4294967295|C>>>21),C=M+(L^x^R)+I[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^x)+I[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(R^M^L)+I[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=L+(x^R^M)+I[12]+3873151461&4294967295,L=x+(C<<11&4294967295|C>>>21),C=M+(L^x^R)+I[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^x)+I[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=x+(M^(R|~L))+I[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=L+(R^(x|~M))+I[7]+1126891415&4294967295,L=x+(C<<10&4294967295|C>>>22),C=M+(x^(L|~R))+I[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~x))+I[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=x+(M^(R|~L))+I[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=L+(R^(x|~M))+I[3]+2399980690&4294967295,L=x+(C<<10&4294967295|C>>>22),C=M+(x^(L|~R))+I[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~x))+I[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=x+(M^(R|~L))+I[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=L+(R^(x|~M))+I[15]+4264355552&4294967295,L=x+(C<<10&4294967295|C>>>22),C=M+(x^(L|~R))+I[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~x))+I[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=x+(M^(R|~L))+I[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=L+(R^(x|~M))+I[11]+3174756917&4294967295,L=x+(C<<10&4294967295|C>>>22),C=M+(x^(L|~R))+I[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~x))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var R=x-this.blockSize,I=this.B,M=this.h,L=0;L<x;){if(M==0)for(;L<=R;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<x;)if(I[M++]=O.charCodeAt(L++),M==this.blockSize){o(this,I),M=0;break}}else for(;L<x;)if(I[M++]=O[L++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=x},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var R=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=R&255,R/=256;for(this.u(O),O=Array(16),x=R=0;4>x;++x)for(var I=0;32>I;I+=8)O[R++]=this.g[x]>>>I&255;return O};function c(O,x){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=x(O)}function d(O,x){this.h=x;for(var R=[],I=!0,M=O.length-1;0<=M;M--){var L=O[M]|0;I&&L==x||(R[M]=L,I=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?c(O,function(x){return new d([x|0],0>x?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return F(y(-O));for(var x=[],R=1,I=0;O>=R;I++)x[I]=O/R|0,R*=4294967296;return new d(x,0)}function E(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return F(E(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),I=S,M=0;M<O.length;M+=8){var L=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+L),x);8>L?(L=y(Math.pow(x,L)),I=I.j(L).add(y(C))):(I=I.j(R),I=I.add(y(C)))}return I}var S=p(0),A=p(1),P=p(16777216);i=d.prototype,i.m=function(){if(K(this))return-F(this).m();for(var O=0,x=1,R=0;R<this.g.length;R++){var I=this.i(R);O+=(0<=I?I:4294967296+I)*x,x*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(K(this))return"-"+F(this).toString(O);for(var x=y(Math.pow(O,6)),R=this,I="";;){var M=mt(R,x).g;R=$(R,M.j(x));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,k(R))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function K(O){return O.h==-1}i.l=function(O){return O=$(this,O),K(O)?-1:k(O)?0:1};function F(O){for(var x=O.g.length,R=[],I=0;I<x;I++)R[I]=~O.g[I];return new d(R,~O.h).add(A)}i.abs=function(){return K(this)?F(this):this},i.add=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],I=0,M=0;M<=x;M++){var L=I+(this.i(M)&65535)+(O.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=C>>>16,L&=65535,C&=65535,R[M]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function $(O,x){return O.add(F(x))}i.j=function(O){if(k(this)||k(O))return S;if(K(this))return K(O)?F(this).j(F(O)):F(F(this).j(O));if(K(O))return F(this.j(F(O)));if(0>this.l(P)&&0>O.l(P))return y(this.m()*O.m());for(var x=this.g.length+O.g.length,R=[],I=0;I<2*x;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var L=this.i(I)>>>16,C=this.i(I)&65535,bt=O.i(M)>>>16,wt=O.i(M)&65535;R[2*I+2*M]+=C*wt,J(R,2*I+2*M),R[2*I+2*M+1]+=L*wt,J(R,2*I+2*M+1),R[2*I+2*M+1]+=C*bt,J(R,2*I+2*M+1),R[2*I+2*M+2]+=L*bt,J(R,2*I+2*M+2)}for(I=0;I<x;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=x;I<2*x;I++)R[I]=0;return new d(R,0)};function J(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function rt(O,x){this.g=O,this.h=x}function mt(O,x){if(k(x))throw Error("division by zero");if(k(O))return new rt(S,S);if(K(O))return x=mt(F(O),x),new rt(F(x.g),F(x.h));if(K(x))return x=mt(O,F(x)),new rt(F(x.g),x.h);if(30<O.g.length){if(K(O)||K(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,I=x;0>=I.l(O);)R=ht(R),I=ht(I);var M=Rt(R,1),L=Rt(I,1);for(I=Rt(I,2),R=Rt(R,2);!k(I);){var C=L.add(I);0>=C.l(O)&&(M=M.add(R),L=C),I=Rt(I,1),R=Rt(R,1)}return x=$(O,M.j(x)),new rt(M,x)}for(M=S;0<=O.l(x);){for(R=Math.max(1,Math.floor(O.m()/x.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=y(R),C=L.j(x);K(C)||0<C.l(O);)R-=I,L=y(R),C=L.j(x);k(L)&&(L=A),M=M.add(L),O=$(O,C)}return new rt(M,O)}i.A=function(O){return mt(this,O).h},i.and=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)&O.i(I);return new d(R,this.h&O.h)},i.or=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)|O.i(I);return new d(R,this.h|O.h)},i.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),R=[],I=0;I<x;I++)R[I]=this.i(I)^O.i(I);return new d(R,this.h^O.h)};function ht(O){for(var x=O.g.length+1,R=[],I=0;I<x;I++)R[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(R,O.h)}function Rt(O,x){var R=x>>5;x%=32;for(var I=O.g.length-R,M=[],L=0;L<I;L++)M[L]=0<x?O.i(L+R)>>>x|O.i(L+R+1)<<32-x:O.i(L+R);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Mv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ei=d}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kv,Yl,Lv,tc,dd,Uv,Pv,jv;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break t;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,b=!1,j={next:function(){if(!b&&v<u.length){var Q=v++;return{value:m(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function P(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function k(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,j,Q){for(var st=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)st[Lt-2]=arguments[Lt];return m.prototype[j].apply(b,st)}}function K(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function F(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const j=u.length||0,Q=b.length||0;u.length=j+Q;for(let st=0;st<Q;st++)u[j+st]=b[st]}else u.push(b)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var ht=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function Rt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Dt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const b=wt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var wt=new $(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,Dt=new bt,N=()=>{const u=g.Promise.resolve(void 0);at=()=>{u.then(et)}};var et=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){L(v)}var m=wt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function xt(u,m){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ht){t:{try{mt(m.nodeName);var j=!0;break t}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xt.aa.h.call(this)}}k(xt,it);var _t={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function jn(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++Wt,this.da=this.fa=!1}function qr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ur(u){this.src=u,this.g={},this.h=0}ur.prototype.add=function(u,m,v,b,j){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var st=Ii(u,m,b,j);return-1<st?(m=u[st],v||(m.fa=!1)):(m=new jn(m,this.src,Q,!!b,j),m.fa=v,u.push(m)),m};function Ni(u,m){var v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(b,j,1),Q&&(qr(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ii(u,m,v,b){for(var j=0;j<u.length;++j){var Q=u[j];if(!Q.da&&Q.listener==m&&Q.capture==!!v&&Q.ha==b)return j}return-1}var Vi="closure_lm_"+(1e6*Math.random()|0),ks={};function Eo(u,m,v,b,j){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)Eo(u,m[Q],v,b,j);return null}return v=To(v),u&&u[le]?u.K(m,v,y(b)?!!b.capture:!1,j):mn(u,m,v,!1,b,j)}function mn(u,m,v,b,j,Q){if(!m)throw Error("Invalid event type");var st=y(j)?!!j.capture:!!j,Lt=Aa(u);if(Lt||(u[Vi]=Lt=new ur(u)),v=Lt.add(m,v,b,st,Q),v.proxy)return v;if(b=zc(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)dt||(j=st),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(Oi(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zc(){function u(v){return m.call(u.src,u.listener,v)}const m=qc;return u}function Ls(u,m,v,b,j){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)Ls(u,m[Q],v,b,j);else b=y(b)?!!b.capture:!!b,v=To(v),u&&u[le]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],v=Ii(Q,v,b,j),-1<v&&(qr(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Aa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ii(m,v,b,j)),(v=-1<u?m[u]:null)&&ba(v))}function ba(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[le])Ni(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Oi(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Aa(m))?(Ni(v,u),v.h==0&&(v.src=null,m[Vi]=null)):qr(u)}}}function Oi(u){return u in ks?ks[u]:ks[u]="on"+u}function qc(u,m){if(u.da)u=!0;else{m=new xt(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&ba(u),u=v.call(b,m)}return u}function Aa(u){return u=u[Vi],u instanceof ur?u:null}var Us="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[Us]||(u[Us]=function(m){return u.handleEvent(m)}),u[Us])}function oe(){lt.call(this),this.i=new ur(this),this.M=this,this.F=null}k(oe,lt),oe.prototype[le]=!0,oe.prototype.removeEventListener=function(u,m,v,b){Ls(this,u,m,v,b)};function Ft(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new it(m,u);else if(m instanceof it)m.target=m.target||u;else{var j=m;m=new it(b,u),I(m,j)}if(j=!0,v)for(var Q=v.length-1;0<=Q;Q--){var st=m.g=v[Q];j=rn(st,b,!0,m)&&j}if(st=m.g=u,j=rn(st,b,!0,m)&&j,j=rn(st,b,!1,m)&&j,v)for(Q=0;Q<v.length;Q++)st=m.g=v[Q],j=rn(st,b,!1,m)&&j}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)qr(v[b]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},oe.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function rn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,Q=0;Q<m.length;++Q){var st=m[Q];if(st&&!st.da&&st.capture==v){var Lt=st.listener,be=st.ha||st.src;st.fa&&Ni(u.i,st),j=Lt.call(be,b)!==!1&&j}}return j&&!b.defaultPrevented}function qe(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function bo(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,bo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Hc extends lt{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(u){lt.call(this),this.h=u,this.g={}}k(Mi,lt);var ki=[];function Li(u){Rt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ba(m)},u),u.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Li(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Sa=g.JSON.parse,Ui=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ps(){}Ps.prototype.h=null;function js(u){return u.h||(u.h=u.i())}function Bs(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){it.call(this,"d")}k(hr,it);function zs(){it.call(this,"c")}k(zs,it);var Bn={},qs=null;function Hr(){return qs=qs||new oe}Bn.La="serverreachability";function wa(u){it.call(this,Bn.La,u)}k(wa,it);function Gr(u){const m=Hr();Ft(m,new wa(m))}Bn.STAT_EVENT="statevent";function Ao(u,m){it.call(this,Bn.STAT_EVENT,u),this.stat=m}k(Ao,it);function ne(u){const m=Hr();Ft(m,new Ao(m,u))}Bn.Ma="timingevent";function Te(u,m){it.call(this,Bn.Ma,u),this.size=m}k(Te,it);function ge(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Hs(u,m,v,b,j,Q){u.info(function(){if(u.g)if(Q)for(var st="",Lt=Q.split("&"),be=0;be<Lt.length;be++){var Ut=Lt[be].split("=");if(1<Ut.length){var De=Ut[0];Ut=Ut[1];var Ae=De.split("_");st=2<=Ae.length&&Ae[1]=="type"?st+(De+"="+Ut+"&"):st+(De+"=redacted&")}}else st=null;else st=Q;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+st})}function Gc(u,m,v,b,j,Q,st){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+Q+" "+st})}function Fr(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pi(u,v)+(b?" "+b:"")})}function So(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Pi(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var st=1;st<j.length;st++)j[st]=""}}}}return Nn(v)}catch{return m}}var Qr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function qn(){}k(qn,Ps),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},zn=new qn;function Ke(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var Gs={},xa={};function In(u,m,v){u.L=1,u.v=Hi(an(m)),u.m=v,u.P=!0,dr(u,null)}function dr(u,m){u.F=Date.now(),ji(u),u.A=an(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),$s(v.i,"t",b),u.C=0,v=u.j.J,u.h=new he,u.g=Bo(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Hc(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(ki[0]=j.toString()),j=ki);for(var Q=0;Q<j.length;Q++){var st=Eo(v,j[Q],b||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Gr(),Hs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=_n(this.g);var m=this.g.Ba();const Tr=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Vo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Tr?Gr(3):Gr(2)),Yr(this);var v=this.g.Z();this.X=v;e:if(wo(this)){var b=Vo(this.g);u="";var j=b.length,Q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Hn(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Q&&m==j-1)});b.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,Gc(this.i,this.u,this.A,this.l,this.R,Ae,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,be=this.g;if((Lt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Lt)){var Ut=Lt;break e}}Ut=null}if(v=Ut)Fr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bi(this,v);else{this.o=!1,this.s=3,ne(12),Me(this),Hn(this);break t}}if(this.P){v=!0;let ke;for(;!this.J&&this.C<st.length;)if(ke=xo(this,st),ke==xa){Ae==4&&(this.s=4,ne(14),v=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==Gs){this.s=4,ne(15),Fr(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else Fr(this.i,this.l,ke,null),Bi(this,ke);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||st.length!=0||this.h.h||(this.s=1,ne(16),v=!1),this.o=this.o&&v,!v)Fr(this.i,this.l,st,"[Invalid Chunked Response]"),Me(this),Hn(this);else if(0<st.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Zi(De),De.M=!0,ne(11))}}else Fr(this.i,this.l,st,null),Bi(this,st);Ae==4&&Me(this),this.o&&!this.J&&(Ae==4?Uo(this.j,this):(this.o=!1,ji(this)))}else Xc(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),Me(this),Hn(this)}}}catch{}finally{}};function wo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xo(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?xa:(v=Number(m.substring(v,b)),isNaN(v)?Gs:(b+=1,b+v>m.length?xa:(m=m.slice(b,b+v),u.C=b+v,m)))}Ke.prototype.cancel=function(){this.J=!0,Me(this)};function ji(u){u.S=Date.now()+u.I,Ro(u,u.I)}function Ro(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ge(A(u.ba,u),m)}function Yr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(So(this.i,this.A),this.L!=2&&(Gr(),ne(17)),Me(this),this.s=2,Hn(this)):Ro(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Uo(u.j,u)}function Me(u){Yr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Li(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Bi(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Fs(v.h,u))){if(!u.K&&Fs(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Pa(v),La(v);else break t;el(v),ne(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ge(A(v.Za,v),6e3));if(1>=Ca(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Er(v,11)}else if((u.K||v.g==u)&&Pa(v),!J(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Ut=j[m];if(v.T=Ut[0],Ut=Ut[1],v.G==2)if(Ut[0]=="c"){v.K=Ut[1],v.ia=Ut[2];const De=Ut[3];De!=null&&(v.la=De,v.j.info("VER="+v.la));const Ae=Ut[4];Ae!=null&&(v.Aa=Ae,v.j.info("SVER="+v.Aa));const Tr=Ut[5];Tr!=null&&typeof Tr=="number"&&0<Tr&&(b=1.5*Tr,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ke=u.g;if(ke){const $n=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var Q=b.h;Q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Da(Q,Q.h),Q.h=null))}if(b.D){const rl=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(b.ya=rl,Kt(b.I,b.D,rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var st=u;if(b.qa=jo(b,b.J?b.ia:null,b.W),st.K){Xe(b.h,st);var Lt=st,be=b.L;be&&(Lt.I=be),Lt.B&&(Yr(Lt),ji(Lt)),b.g=st}else ko(b);0<v.i.length&&Ua(v)}else Ut[0]!="stop"&&Ut[0]!="close"||Er(v,7);else v.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Er(v,7):Ws(v):Ut[0]!="noop"&&v.l&&v.l.ta(Ut),v.v=0)}}Gr(4)}catch{}}var Co=class{constructor(u,m){this.g=u,this.map=m}};function mr(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ca(u){return u.h?1:u.g?u.g.size:0}function Fs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Da(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mr.prototype.cancel=function(){if(this.i=Qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return K(u.i)}function Fc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function Na(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function Ys(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Na(u),b=Fc(u),j=b.length,Q=0;Q<j;Q++)m.call(void 0,b[Q],v&&v[Q],u)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),j=null;if(0<=b){var Q=u[v].substring(0,b);j=u[v].substring(b+1)}else Q=u[v];m(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,qi(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var m=u.i,v=new pr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),gr(this,v),this.m=u.m}else u&&(m=String(u).match(zi))?(this.h=!1,qi(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Kr(this,m[4]),this.l=pn(m[5]||"",!0),gr(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gi(m,Ks,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gi(m,Ks,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Gi(v,v.charAt(0)=="/"?Yc:Xs,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Gi(v,Ia)),u.join("")};function an(u){return new pe(u)}function qi(u,m,v){u.j=v?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gr(u,m,v){m instanceof pr?(u.i=m,No(u.i,u.h)):(v||(m=Gi(m,Kc)),u.i=new pr(m,u.h))}function Kt(u,m,v){u.i.set(m,v)}function Hi(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gi(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Do),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Do(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Xs=/[#\?:]/g,Yc=/[#\?]/g,Kc=/[#\?@]/g,Ia=/#/g;function pr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}i=pr.prototype,i.add=function(u,m){yn(this),this.i=null,u=Gn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yr(u,m){yn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vr(u,m){return yn(u),m=Gn(u,m),u.g.has(m)}i.forEach=function(u,m){yn(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)},i.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const j=u[b];for(let Q=0;Q<j.length;Q++)v.push(m[b])}return v},i.V=function(u){yn(this);let m=[];if(typeof u=="string")vr(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},i.set=function(u,m){return yn(this),this.i=null,u=Gn(this,u),vr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function $s(u,m,v){yr(u,m),0<v.length&&(u.i=null,u.g.set(Gn(u,m),K(v)),u.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const Q=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var j=Q;st[b]!==""&&(j+="="+encodeURIComponent(String(st[b]))),u.push(j)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function No(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(yr(this,b),$s(this,j,v))},u)),u.j=m}function Fi(u,m){const v=new gn;if(g.Image){const b=new Image;b.onload=P(vn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=P(vn,v,"TestLoadImage: error",!1,m,b),b.onabort=P(vn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=P(vn,v,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vn(u,m){const v=new gn,b=new AbortController,j=setTimeout(()=>{b.abort(),vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(j),Q.ok?vn(v,"TestPingServer: ok",!0,m):vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),vn(v,"TestPingServer: error",!1,m)})}function vn(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function Qi(){this.g=new Ui}function Fn(u,m,v){const b=v||"";try{Ys(u,function(j,Q){let st=j;y(j)&&(st=Nn(j)),m.push(b+Q+"="+encodeURIComponent(st))})}catch(j){throw m.push(b+"type="+encodeURIComponent("_badmap")),j}}function Xr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(Xr,Ps),Xr.prototype.g=function(){return new _r(this.l,this.j)},Xr.prototype.i=function(u){return function(){return u}}({});function _r(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(_r,oe),i=_r.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&Zs(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},i.Qa=function(u){this.g&&(this.response=u,Qn(this))},i.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}i.setRequestHeader=function(u,m){this.u.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Js(u){let m="";return Rt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Js(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Kt(u,m,v))}function Ht(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ht,oe);var Va=/^https?$/i,Yi=["POST","PUT"];i=Ht.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?js(this.o):js(zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Io(this,Q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Yi,m,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,st]of v)this.g.setRequestHeader(Q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ki(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Io(this,Q)}};function Io(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Oa(u),Kn(u)}function Oa(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Kn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),Ht.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ma(this):this.bb())},i.bb=function(){Ma(this)};function Ma(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)qe(u.Ea,0,u);else if(Ft(u,"readystatechange"),_n(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=st===0){var j=String(u.D).match(zi)[1]||null;!j&&g.self&&g.self.location&&(j=g.self.location.protocol.slice(0,-1)),b=!Va.test(j?j.toLowerCase():"")}v=b}if(v)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var Q=2<_n(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Oa(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Ki(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{v.onreadystatechange=b}catch{}}}function Ki(u){u.I&&(g.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sa(m)}};function Vo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(J(u[b]))continue;var v=M(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=m[j]||[];m[j]=Q,Q.push(v)}O(m,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ka(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,u),this.cb=Xi("retryDelaySeedMs",1e4,u),this.Wa=Xi("forwardChannelMaxRetries",2,u),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(u&&u.concurrentRequestLimit),this.Da=new Qi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ka.prototype,i.la=8,i.G=1,i.connect=function(u,m,v,b){ne(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=jo(this,null,this.W),Ua(this)};function Ws(u){if(Oo(u),u.G==3){var m=u.U++,v=an(u.I);if(Kt(v,"SID",u.K),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),$i(u,v),m=new Ke(u,u.j,m),m.L=2,m.v=Hi(an(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Bo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ji(m)}Po(u)}function La(u){u.g&&(Zi(u),u.g.cancel(),u.g=null)}function Oo(u){La(u),u.u&&(g.clearTimeout(u.u),u.u=null),Pa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ua(u){if(!Ra(u.h)&&!u.s){u.s=!0;var m=u.Ga;at||N(),ft||(at(),ft=!0),Dt.add(m,u),u.B=0}}function $c(u,m){return Ca(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ge(A(u.Ga,u,m),nl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Ke(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=x(Q),I(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Mo(this,j,m),v=an(this.I),Kt(v,"RID",u),Kt(v,"CVER",22),this.D&&Kt(v,"X-HTTP-Session-Id",this.D),$i(this,v),Q&&(this.O?m="headers="+encodeURIComponent(String(Js(Q)))+"&"+m:this.m&&Ce(v,this.m,Q)),Da(this.h,j),this.Ua&&Kt(v,"TYPE","init"),this.P?(Kt(v,"$req",m),Kt(v,"SID","null"),j.T=!0,In(j,v,null)):In(j,v,m),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||Ra(this.h)||tl(this))};function tl(u,m){var v;m?v=m.l:v=u.U++;const b=an(u.I);Kt(b,"SID",u.K),Kt(b,"RID",v),Kt(b,"AID",u.T),$i(u,b),u.m&&u.o&&Ce(b,u.m,u.o),v=new Ke(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Mo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Da(u.h,v),In(v,b,m)}function $i(u,m){u.H&&Rt(u.H,function(v,b){Kt(m,b,v)}),u.l&&Ys({},function(v,b){Kt(m,b,v)})}function Mo(u,m,v){v=Math.min(u.i.length,v);var b=u.l?A(u.l.Na,u.l,u):null;t:{var j=u.i;let Q=-1;for(;;){const st=["count="+v];Q==-1?0<v?(Q=j[0].g,st.push("ofs="+Q)):Q=0:st.push("ofs="+Q);let Lt=!0;for(let be=0;be<v;be++){let Ut=j[be].g;const De=j[be].map;if(Ut-=Q,0>Ut)Q=Math.max(0,j[be].g-100),Lt=!1;else try{Fn(De,st,"req"+Ut+"_")}catch{b&&b(De)}}if(Lt){b=st.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,b}function ko(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;at||N(),ft||(at(),ft=!0),Dt.add(m,u),u.v=0}}function el(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ge(A(u.Fa,u),nl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,Lo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ge(A(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),La(this),Lo(this))};function Zi(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Lo(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),$i(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Hi(an(m)),v.m=null,v.P=!0,dr(v,u)}i.Za=function(){this.C!=null&&(this.C=null,La(this),el(this),ne(19))};function Pa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uo(u,m){var v=null;if(u.g==m){Pa(u),Zi(u),u.g=null;var b=2}else if(Fs(u.h,m))v=m.D,Xe(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;b=Hr(),Ft(b,new Te(b,v)),Ua(u)}else ko(u);else if(j=m.s,j==3||j==0&&0<m.X||!(b==1&&$c(u,m)||b==2&&el(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function nl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Er(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),b=u.Xa;const j=!b;b=new pe(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||qi(b,"https"),Hi(b),j?Fi(b.toString(),v):Vn(b.toString(),v)}else ne(2);u.G=0,u.l&&u.l.sa(m),Po(u),Oo(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function Po(u){if(u.G=0,u.ka=[],u.l){const m=Qs(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function jo(u,m,v){var b=v instanceof pe?an(v):new pe(v);if(b.g!="")m&&(b.g=m+"."+b.g),Kr(b,b.s);else{var j=g.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var Q=new pe(null);b&&qi(Q,b),m&&(Q.g=m),j&&Kr(Q,j),v&&(Q.l=v),b=Q}return v=u.D,m=u.ya,v&&m&&Kt(b,v,m),Kt(b,"VER",u.la),$i(u,b),b}function Bo(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new Xr({eb:v})):new Ht(u.pa),m.Ha(u.J),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}i=zo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ja(){}ja.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){oe.call(this),this.g=new ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!J(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!J(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}k($e,oe),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ws(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Nn(u),u=v);m.i.push(new Co(m.Ya++,u)),m.G==3&&Ua(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ws(this.g),delete this.g,$e.aa.N.call(this)};function qo(u){hr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}k(qo,hr);function Ho(){zs.call(this),this.status=1}k(Ho,zs);function Xn(u){this.g=u}k(Xn,zo),Xn.prototype.ua=function(){Ft(this.g,"a")},Xn.prototype.ta=function(u){Ft(this.g,new qo(u))},Xn.prototype.sa=function(u){Ft(this.g,new Ho)},Xn.prototype.ra=function(){Ft(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,jv=function(){return new ja},Pv=function(){return Hr()},Uv=Bn,dd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,tc=Qr,fr.COMPLETE="complete",Lv=fr,Bs.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Yl=Bs,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,kv=Ht}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",o0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Cv("@firebase/firestore");function ms(){return ga.logLevel}function ot(i,...e){if(ga.logLevel<=Bt.DEBUG){const r=e.map(Bd);ga.debug(`Firestore (${Ns}): ${i}`,...r)}}function jr(i,...e){if(ga.logLevel<=Bt.ERROR){const r=e.map(Bd);ga.error(`Firestore (${Ns}): ${i}`,...r)}}function Ts(i,...e){if(ga.logLevel<=Bt.WARN){const r=e.map(Bd);ga.warn(`Firestore (${Ns}): ${i}`,...r)}}function Bd(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,Bv(i,s,r)}function Bv(i,e,r){let s=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw jr(s),new Error(s)}function Gt(i,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,i||Bv(e,o,s)}function St(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ds{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Qe.UNAUTHENTICATED))}shutdown(){}}class gS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Gt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let c=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ti,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ti)}},0),d()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new zv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class yS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vS{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new yS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _S{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new u0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Gt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new u0(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ES(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<r&&(s+=e.charAt(o[c]%62))}return s}}function It(i,e){return i<e?-1:i>e?1:0}function md(i,e){let r=0;for(;r<i.length&&r<e.length;){const s=i.codePointAt(r),o=e.codePointAt(r);if(s!==o){if(s<128&&o<128)return It(s,o);{const c=qv(),d=TS(c.encode(c0(i,r)),c.encode(c0(e,r)));return d!==0?d:It(s,o)}}r+=s>65535?2:1}return It(i.length,e.length)}function c0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function TS(i,e){for(let r=0;r<i.length&&r<e.length;++r)if(i[r]!==e[r])return It(i[r],e[r]);return It(i.length,e.length)}function bs(i,e,r){return i.length===e.length&&i.every((s,o)=>r(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-62135596800,f0=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*f0);return new xe(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ut(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ut(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<h0)throw new ut(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new xe(0,0))}static max(){return new At(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__name__";class rr{constructor(e,r,s){r===void 0?r=0:r>e.length&&Et(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Et(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const c=rr.compareSegments(e.get(o),r.get(o));if(c!==0)return c}return It(e.length,r.length)}static compareSegments(e,r){const s=rr.isNumericId(e),o=rr.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?rr.extractNumericId(e).compare(rr.extractNumericId(r)):md(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class ee extends rr{construct(e,r,s){return new ee(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new ee(r)}static emptyPath(){return new ee([])}}const bS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends rr{construct(e,r,s){return new Be(e,r,s)}static isValidIdentifier(e){return bS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new Be([d0])}static fromServerFormat(e){const r=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ut(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(r)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ee.fromString(e))}static fromName(e){return new pt(ee.fromString(e).popFirst(5))}static empty(){return new pt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ee.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function AS(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new xe(r+1,0):new xe(r,s));return new Ai(o,pt.empty(),e)}function SS(i){return new Ai(i.readTime,i.key,io)}class Ai{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Ai(At.min(),pt.empty(),io)}static max(){return new Ai(At.max(),pt.empty(),io)}}function wS(i,e){let r=i.readTime.compareTo(e.readTime);return r!==0?r:(r=pt.comparator(i.documentKey,e.documentKey),r!==0?r:It(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==xS)throw i;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(r,c).next(s,o)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof tt?r:tt.resolve(r)}catch(r){return tt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):tt.reject(r)}static resolve(e){return new tt((r,s)=>{r(e)})}static reject(e){return new tt((r,s)=>{s(e)})}static waitFor(e){return new tt((r,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&r()},p=>s(p))}),d=!0,c===o&&r()})}static or(e){let r=tt.resolve(!1);for(const s of e)r=r.next(o=>o?tt.resolve(o):s());return r}static forEach(e,r){const s=[];return e.forEach((o,c)=>{s.push(r.call(this,o,c))}),this.waitFor(s)}static mapArray(e,r){return new tt((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;r(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,r){return new tt((s,o)=>{const c=()=>{e()===!0?r().next(()=>{c()},o):s()};c()})}}function CS(i){const e=i.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Vs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>r.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}wc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-1;function xc(i){return i==null}function hc(i){return i===0&&1/i==-1/0}function DS(i){return typeof i=="number"&&Number.isInteger(i)&&!hc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="";function NS(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=m0(e)),e=IS(i.get(r),e);return m0(e)}function IS(i,e){let r=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":r+="";break;case Gv:r+="";break;default:r+=c}}return r}function m0(i){return i+Gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function va(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function Fv(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,r){this.comparator=e,this.root=r||je.EMPTY}insert(e,r){return new se(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,je.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qu(this.root,e,this.comparator,!0)}}class Qu{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=r?s(e.key,r):1,r&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class je{constructor(e,r,s,o,c){this.key=e,this.value=r,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,c){return new je(e??this.key,r??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,r,s),null):c===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,r,s,o,c){return this}insert(e,r,s){return new je(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new p0(this.data.getIterator())}getIteratorFrom(e){return new p0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Re(this.comparator);return r.data=e,r}}class p0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Ln([])}unionWith(e){let r=new Re(Be.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new Ln(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Qv("Invalid base64 string: "+c):c}}(e);return new ze(r)}static fromUint8Array(e){const r=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new ze(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ze.EMPTY_BYTE_STRING=new ze("");const VS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(i){if(Gt(!!i,39018),typeof i=="string"){let e=0;const r=VS.exec(i);if(Gt(!!r,46558,{timestamp:i}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:me(i.seconds),nanos:me(i.nanos)}}function me(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function wi(i){return typeof i=="string"?ze.fromBase64String(i):ze.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="server_timestamp",Kv="__type__",Xv="__previous_value__",$v="__local_write_time__";function qd(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kv])===null||r===void 0?void 0:r.stringValue)===Yv}function Rc(i){const e=i.mapValue.fields[Xv];return qd(e)?Rc(e):e}function ao(i){const e=Si(i.mapValue.fields[$v].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,r,s,o,c,d,g,p,y,E){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const fc="(default)";class so{constructor(e,r){this.projectId=e,this.database=r||fc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="__type__",MS="__max__",Yu={mapValue:{}},Jv="__vector__",dc="value";function xi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qd(i)?4:LS(i)?9007199254740991:kS(i)?10:11:Et(28295,{value:i})}function sr(i,e){if(i===e)return!0;const r=xi(i);if(r!==xi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ao(i).isEqual(ao(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Si(o.timestampValue),g=Si(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,c){return wi(o.bytesValue).isEqual(wi(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return me(o.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return me(o.integerValue)===me(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=me(o.doubleValue),g=me(c.doubleValue);return d===g?hc(d)===hc(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return bs(i.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(g0(d)!==g0(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!sr(d[p],g[p])))return!1;return!0}(i,e);default:return Et(52216,{left:i})}}function lo(i,e){return(i.values||[]).find(r=>sr(r,e))!==void 0}function As(i,e){if(i===e)return 0;const r=xi(i),s=xi(e);if(r!==s)return It(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return It(i.booleanValue,e.booleanValue);case 2:return function(c,d){const g=me(c.integerValue||c.doubleValue),p=me(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(i,e);case 3:return y0(i.timestampValue,e.timestampValue);case 4:return y0(ao(i),ao(e));case 5:return md(i.stringValue,e.stringValue);case 6:return function(c,d){const g=wi(c),p=wi(d);return g.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=It(g[y],p[y]);if(E!==0)return E}return It(g.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const g=It(me(c.latitude),me(d.latitude));return g!==0?g:It(me(c.longitude),me(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return v0(i.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},A=d.fields||{},P=(g=S[dc])===null||g===void 0?void 0:g.arrayValue,k=(p=A[dc])===null||p===void 0?void 0:p.arrayValue,K=It(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:v0(P,k)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===Yu.mapValue&&d===Yu.mapValue)return 0;if(c===Yu.mapValue)return 1;if(d===Yu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=md(p[S],E[S]);if(A!==0)return A;const P=As(g[p[S]],y[E[S]]);if(P!==0)return P}return It(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Et(23264,{Pe:r})}}function y0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return It(i,e);const r=Si(i),s=Si(e),o=It(r.seconds,s.seconds);return o!==0?o:It(r.nanos,s.nanos)}function v0(i,e){const r=i.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const c=As(r[o],s[o]);if(c)return c}return It(r.length,s.length)}function Ss(i){return gd(i)}function gd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=Si(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return wi(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return pt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",o=!0;for(const c of r.values||[])o?o=!1:s+=",",s+=gd(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${gd(r.fields[d])}`;return o+"}"}(i.mapValue):Et(61005,{value:i})}function ec(i){switch(xi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(i);return e?16+ec(e):16;case 5:return 2*i.stringValue.length;case 6:return wi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+ec(c),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return va(s.fields,(c,d)=>{o+=c.length+ec(d)}),o}(i.mapValue);default:throw Et(13486,{value:i})}}function _0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function pd(i){return!!i&&"integerValue"in i}function Hd(i){return!!i&&"arrayValue"in i}function E0(i){return!!i&&"nullValue"in i}function T0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nc(i){return!!i&&"mapValue"in i}function kS(i){var e,r;return((r=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zv])===null||r===void 0?void 0:r.stringValue)===Jv}function Zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return va(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=Zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Zl(i.arrayValue.values[r]);return e}return Object.assign({},i)}function LS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===MS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!nc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(r)}setAll(e){let r=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!r.isImmediateParentOf(g)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=g.popLast()}d?s[g.lastSegment()]=Zl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,s,o)}delete(e){const r=this.field(e.popLast());nc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){va(r,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Rn(Zl(this.value))}}function Wv(i){const e=[];return va(i.fields,(r,s)=>{const o=new Be([r]);if(nc(s)){const c=Wv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,r,s,o,c,d,g){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,At.min(),At.min(),At.min(),Rn.empty(),0)}static newFoundDocument(e,r,s,o){return new Ye(e,1,r,At.min(),s,o,0)}static newNoDocument(e,r){return new Ye(e,2,r,At.min(),At.min(),Rn.empty(),0)}static newUnknownDocument(e,r){return new Ye(e,3,r,At.min(),At.min(),Rn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,r){this.position=e,this.inclusive=r}}function b0(i,e,r){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),r.key):s=As(d,r.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function A0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!sr(i.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,r="asc"){this.field=e,this.dir=r}}function US(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{}class Ee extends t_{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new jS(e,r,s):r==="array-contains"?new qS(e,s):r==="in"?new HS(e,s):r==="not-in"?new GS(e,s):r==="array-contains-any"?new FS(e,s):new Ee(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new BS(e,s):new zS(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(As(r,this.value)):r!==null&&xi(this.value)===xi(r)&&this.matchesComparison(As(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends t_{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Un(e,r)}matches(e){return e_(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function e_(i){return i.op==="and"}function n_(i){return PS(i)&&e_(i)}function PS(i){for(const e of i.filters)if(e instanceof Un)return!1;return!0}function yd(i){if(i instanceof Ee)return i.field.canonicalString()+i.op.toString()+Ss(i.value);if(n_(i))return i.filters.map(e=>yd(e)).join(",");{const e=i.filters.map(r=>yd(r)).join(",");return`${i.op}(${e})`}}function r_(i,e){return i instanceof Ee?function(s,o){return o instanceof Ee&&s.op===o.op&&s.field.isEqual(o.field)&&sr(s.value,o.value)}(i,e):i instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&r_(d,o.filters[g]),!0):!1}(i,e):void Et(19439)}function i_(i){return i instanceof Ee?function(r){return`${r.field.canonicalString()} ${r.op} ${Ss(r.value)}`}(i):i instanceof Un?function(r){return r.op.toString()+" {"+r.getFilters().map(i_).join(" ,")+"}"}(i):"Filter"}class jS extends Ee{constructor(e,r,s){super(e,r,s),this.key=pt.fromName(s.referenceValue)}matches(e){const r=pt.comparator(e.key,this.key);return this.matchesComparison(r)}}class BS extends Ee{constructor(e,r){super(e,"in",r),this.keys=a_("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class zS extends Ee{constructor(e,r){super(e,"not-in",r),this.keys=a_("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function a_(i,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>pt.fromName(s.referenceValue))}class qS extends Ee{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Hd(r)&&lo(r.arrayValue,this.value)}}class HS extends Ee{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&lo(this.value.arrayValue,r)}}class GS extends Ee{constructor(e,r){super(e,"not-in",r)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!lo(this.value.arrayValue,r)}}class FS extends Ee{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Hd(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>lo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,r=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function S0(i,e=null,r=[],s=[],o=null,c=null,d=null){return new QS(i,e,r,s,o,c,d)}function Gd(i){const e=St(i);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>yd(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),xc(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Ss(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Ss(s)).join(",")),e.Ie=r}return e.Ie}function Fd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!US(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!r_(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!A0(i.startAt,e.startAt)&&A0(i.endAt,e.endAt)}function vd(i){return pt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,r=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YS(i,e,r,s,o,c,d,g){return new Os(i,e,r,s,o,c,d,g)}function s_(i){return new Os(i)}function w0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function l_(i){return i.collectionGroup!==null}function Jl(i){const e=St(i);if(e.Ee===null){e.Ee=[];const r=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),r.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new oo(c,s))}),r.has(Be.keyField().canonicalString())||e.Ee.push(new oo(Be.keyField(),s))}return e.Ee}function ir(i){const e=St(i);return e.de||(e.de=KS(e,Jl(i))),e.de}function KS(i,e){if(i.limitType==="F")return S0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new oo(o.field,c)});const r=i.endAt?new mc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new mc(i.startAt.position,i.startAt.inclusive):null;return S0(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}function _d(i,e){const r=i.filters.concat([e]);return new Os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function gc(i,e,r){return new Os(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function Cc(i,e){return Fd(ir(i),ir(e))&&i.limitType===e.limitType}function o_(i){return`${Gd(ir(i))}|lt:${i.limitType}`}function gs(i){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(o=>i_(o)).join(", ")}]`),xc(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(o=>Ss(o)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(o=>Ss(o)).join(",")),`Target(${s})`}(ir(i))}; limitType=${i.limitType})`}function Dc(i,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,o){for(const c of Jl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=b0(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Jl(s),o)||s.endAt&&!function(d,g,p){const y=b0(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Jl(s),o))}(i,e)}function XS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function u_(i){return(e,r)=>{let s=!1;for(const o of Jl(i)){const c=$S(o,e,r);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function $S(i,e,r){const s=i.field.isKeyField()?pt.comparator(e.key,r.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?As(p,y):Et(42886)}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(r,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new se(pt.comparator);function Br(){return ZS}const c_=new se(pt.comparator);function Kl(...i){let e=c_;for(const r of i)e=e.insert(r.key,r);return e}function h_(i){let e=c_;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function ma(){return Wl()}function f_(){return Wl()}function Wl(){return new _a(i=>i.toString(),(i,e)=>i.isEqual(e))}const JS=new se(pt.comparator),WS=new Re(pt.comparator);function kt(...i){let e=WS;for(const r of i)e=e.add(r);return e}const tw=new Re(It);function ew(){return tw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function d_(i){return{integerValue:""+i}}function nw(i,e){return DS(e)?d_(e):Qd(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function rw(i,e,r){return i instanceof uo?function(o,c){const d={fields:{[Kv]:{stringValue:Yv},[$v]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qd(c)&&(c=Rc(c)),c&&(d.fields[Xv]=c),{mapValue:d}}(r,e):i instanceof co?g_(i,e):i instanceof ho?p_(i,e):function(o,c){const d=m_(o,c),g=x0(d)+x0(o.Re);return pd(d)&&pd(o.Re)?d_(g):Qd(o.serializer,g)}(i,e)}function iw(i,e,r){return i instanceof co?g_(i,e):i instanceof ho?p_(i,e):r}function m_(i,e){return i instanceof pc?function(s){return pd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class uo extends Nc{}class co extends Nc{constructor(e){super(),this.elements=e}}function g_(i,e){const r=y_(e);for(const s of i.elements)r.some(o=>sr(o,s))||r.push(s);return{arrayValue:{values:r}}}class ho extends Nc{constructor(e){super(),this.elements=e}}function p_(i,e){let r=y_(e);for(const s of i.elements)r=r.filter(o=>!sr(o,s));return{arrayValue:{values:r}}}class pc extends Nc{constructor(e,r){super(),this.serializer=e,this.Re=r}}function x0(i){return me(i.integerValue||i.doubleValue)}function y_(i){return Hd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,r){this.field=e,this.transform=r}}function sw(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof co&&o instanceof co||s instanceof ho&&o instanceof ho?bs(s.elements,o.elements,sr):s instanceof pc&&o instanceof pc?sr(s.Re,o.Re):s instanceof uo&&o instanceof uo}(i.transform,e.transform)}class lw{constructor(e,r){this.version=e,this.transformResults=r}}class Lr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ic{}function v_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new E_(i.key,Lr.none()):new po(i.key,i.data,Lr.none());{const r=i.data,s=Rn.empty();let o=new Re(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=r.field(c);d===null&&c.length>1&&(c=c.popLast(),d=r.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ea(i.key,s,new Ln(o.toArray()),Lr.none())}}function ow(i,e,r){i instanceof po?function(o,c,d){const g=o.value.clone(),p=C0(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,r):i instanceof Ea?function(o,c,d){if(!rc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=C0(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(__(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,r):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,r)}function to(i,e,r,s){return i instanceof po?function(c,d,g,p){if(!rc(c.precondition,d))return g;const y=c.value.clone(),E=D0(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(i,e,r,s):i instanceof Ea?function(c,d,g,p){if(!rc(c.precondition,d))return g;const y=D0(c.fieldTransforms,p,d),E=d.data;return E.setAll(__(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(i,e,r,s):function(c,d,g){return rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(i,e,r)}function uw(i,e){let r=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=m_(s.transform,o||null);c!=null&&(r===null&&(r=Rn.empty()),r.set(s.field,c))}return r||null}function R0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bs(s,o,(c,d)=>sw(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class po extends Ic{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ea extends Ic{constructor(e,r,s,o,c=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function __(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function C0(i,e,r){const s=new Map;Gt(i.length===r.length,32656,{Ve:r.length,me:i.length});for(let o=0;o<r.length;o++){const c=i[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,iw(d,g,r[o]))}return s}function D0(i,e,r){const s=new Map;for(const o of i){const c=o.transform,d=r.data.field(o.field);s.set(o.field,rw(c,d,e))}return s}class E_ extends Ic{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cw extends Ic{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&ow(c,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=to(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=to(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=f_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=r.has(o.key)?null:g;const p=v_(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),kt())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(r,s)=>R0(r,s))&&bs(this.baseMutations,e.baseMutations,(r,s)=>R0(r,s))}}class Yd{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){Gt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return JS}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Yd(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,jt;function mw(i){switch(i){case nt.OK:return Et(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et(15467,{code:i})}}function T_(i){if(i===void 0)return jr("GRPC error has no .code"),nt.UNKNOWN;switch(i){case _e.OK:return nt.OK;case _e.CANCELLED:return nt.CANCELLED;case _e.UNKNOWN:return nt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return nt.INTERNAL;case _e.UNAVAILABLE:return nt.UNAVAILABLE;case _e.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case _e.NOT_FOUND:return nt.NOT_FOUND;case _e.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case _e.ABORTED:return nt.ABORTED;case _e.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case _e.DATA_LOSS:return nt.DATA_LOSS;default:return Et(39323,{code:i})}}(jt=_e||(_e={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Ei([4294967295,4294967295],0);function N0(i){const e=qv().encode(i),r=new Mv;return r.update(e),new Uint8Array(r.digest())}function I0(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ei([r,s],0),new Ei([o,c],0)]}class Kd{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Xl(`Invalid padding: ${r}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*e.length-r,this.ye=Ei.fromNumber(this.pe)}we(e,r,s){let o=e.add(r.multiply(Ei.fromNumber(s)));return o.compare(gw)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const r=N0(e),[s,o]=I0(r);for(let c=0;c<this.hashCount;c++){const d=this.we(s,o,c);if(!this.Se(d))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Kd(c,o,r);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const r=N0(e),[s,o]=I0(r);for(let c=0;c<this.hashCount;c++){const d=this.we(s,o,c);this.be(d)}}be(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,r,s,o,c){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Vc(At.min(),o,new se(It),Br(),kt())}}class yo{constructor(e,r,s,o,c){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new yo(s,r,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,r,s,o){this.De=e,this.removedTargetIds=r,this.key=s,this.ve=o}}class b_{constructor(e,r){this.targetId=e,this.Ce=r}}class A_{constructor(e,r,s=ze.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class V0{constructor(){this.Fe=0,this.Me=O0(),this.xe=ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=kt(),r=kt(),s=kt();return this.Me.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:c})}}),new yo(this.xe,this.Oe,e,r,s)}Qe(){this.Ne=!1,this.Me=O0()}$e(e,r){this.Ne=!0,this.Me=this.Me.insert(e,r)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class pw{constructor(e){this.ze=e,this.je=new Map,this.He=Br(),this.Je=Ku(),this.Ye=Ku(),this.Ze=new se(It)}Xe(e){for(const r of e.De)e.ve&&e.ve.isFoundDocument()?this.et(r,e.ve):this.tt(r,e.key,e.ve);for(const r of e.removedTargetIds)this.tt(r,e.key,e.ve)}nt(e){this.forEachTarget(e,r=>{const s=this.rt(r);switch(e.state){case 0:this.it(r)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(r);break;case 3:this.it(r)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(r)&&(this.st(r),s.ke(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.je.forEach((s,o)=>{this.it(o)&&r(o)})}ot(e){const r=e.targetId,s=e.Ce.count,o=this._t(r);if(o){const c=o.target;if(vd(c))if(s===0){const d=new pt(c.path);this.tt(r,d,Ye.newNoDocument(d,At.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this.ut(r);if(d!==s){const g=this.ct(e),p=g?this.lt(g,e,d):1;if(p!==0){this.st(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,y)}}}}}ct(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=r;let d,g;try{d=wi(s).toUint8Array()}catch(p){if(p instanceof Qv)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Kd(d,o,c)}catch(p){return Ts(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(e,r,s){return r.Ce.count===s-this.Tt(e,r.targetId)?0:2}Tt(e,r){const s=this.ze.getRemoteKeysForTarget(r);let o=0;return s.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.tt(r,c,null),o++)}),o}It(e){const r=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&vd(g.target)){const p=new pt(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Ye.newNoDocument(p,e))}c.Le&&(r.set(d,c.qe()),c.Qe())}});let s=kt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.He.forEach((c,d)=>d.setReadTime(e));const o=new Vc(e,r,this.Ze,this.He,s);return this.He=Br(),this.Je=Ku(),this.Ye=Ku(),this.Ze=new se(It),o}et(e,r){if(!this.it(e))return;const s=this.dt(e,r.key)?2:0;this.rt(e).$e(r.key,s),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(e)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(e))}tt(e,r,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,r)?o.$e(r,1):o.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(e)),this.Ye=this.Ye.insert(r,this.At(r).add(e)),s&&(this.He=this.He.insert(r,s))}removeTarget(e){this.je.delete(e)}ut(e){const r=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let r=this.je.get(e);return r||(r=new V0,this.je.set(e,r)),r}At(e){let r=this.Ye.get(e);return r||(r=new Re(It),this.Ye=this.Ye.insert(e,r)),r}Et(e){let r=this.Je.get(e);return r||(r=new Re(It),this.Je=this.Je.insert(e,r)),r}it(e){const r=this._t(e)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",e),r}_t(e){const r=this.je.get(e);return r&&r.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new V0),this.ze.getRemoteKeysForTarget(e).forEach(r=>{this.tt(e,r,null)})}dt(e,r){return this.ze.getRemoteKeysForTarget(e).has(r)}}function Ku(){return new se(pt.comparator)}function O0(){return new se(pt.comparator)}const yw={asc:"ASCENDING",desc:"DESCENDING"},vw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_w={and:"AND",or:"OR"};class Ew{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Ed(i,e){return i.useProto3Json||xc(e)?e:{value:e}}function yc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Tw(i,e){return yc(i,e.toTimestamp())}function ar(i){return Gt(!!i,49232),At.fromTimestamp(function(r){const s=Si(r);return new xe(s.seconds,s.nanos)}(i))}function Xd(i,e){return Td(i,e).canonicalString()}function Td(i,e){const r=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?r:r.child(e)}function w_(i){const e=ee.fromString(i);return Gt(N_(e),10190,{key:e.toString()}),e}function bd(i,e){return Xd(i.databaseId,e.path)}function td(i,e){const r=w_(e);if(r.get(1)!==i.databaseId.projectId)throw new ut(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ut(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new pt(R_(r))}function x_(i,e){return Xd(i.databaseId,e)}function bw(i){const e=w_(i);return e.length===4?ee.emptyPath():R_(e)}function Ad(i){return new ee(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function R_(i){return Gt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function M0(i,e,r){return{name:bd(i,e),fields:r.value.mapValue.fields}}function Aw(i,e){let r;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),ze.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ze.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?nt.UNKNOWN:T_(y.code);return new ut(E,y.message||"")}(d);r=new A_(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=td(i,s.document.name),c=ar(s.document.updateTime),d=s.document.createTime?ar(s.document.createTime):At.min(),g=new Rn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];r=new ic(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=td(i,s.document),c=s.readTime?ar(s.readTime):At.min(),d=Ye.newNoDocument(o,c),g=s.removedTargetIds||[];r=new ic([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=td(i,s.document),c=s.removedTargetIds||[];r=new ic([],c,o,null)}else{if(!("filter"in e))return Et(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new dw(o,c),g=s.targetId;r=new b_(g,d)}}return r}function Sw(i,e){let r;if(e instanceof po)r={update:M0(i,e.key,e.value)};else if(e instanceof E_)r={delete:bd(i,e.key)};else if(e instanceof Ea)r={update:M0(i,e.key,e.data),updateMask:Ow(e.fieldMask)};else{if(!(e instanceof cw))return Et(16599,{ft:e.type});r={verify:bd(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof uo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof pc)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw Et(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(r.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Tw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(i,e.precondition)),r}function ww(i,e){return i&&i.length>0?(Gt(e!==void 0,14353),i.map(r=>function(o,c){let d=o.updateTime?ar(o.updateTime):ar(c);return d.isEqual(At.min())&&(d=ar(c)),new lw(d,o.transformResults||[])}(r,e))):[]}function xw(i,e){return{documents:[x_(i,e.path)]}}function Rw(i,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=x_(i,o);const c=function(y){if(y.length!==0)return D_(Un.create(y,"and"))}(e.filters);c&&(r.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:ps(A.field),direction:Nw(A.dir)}}(E))}(e.orderBy);d&&(r.structuredQuery.orderBy=d);const g=Ed(i,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:r,parent:o}}function Cw(i){let e=bw(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=r.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];r.where&&(c=function(S){const A=C_(S);return A instanceof Un&&n_(A)?A.getFilters():[A]}(r.where));let d=[];r.orderBy&&(d=function(S){return S.map(A=>function(k){return new oo(ys(k.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(r.orderBy));let g=null;r.limit&&(g=function(S){let A;return A=typeof S=="object"?S.value:S,xc(A)?null:A}(r.limit));let p=null;r.startAt&&(p=function(S){const A=!!S.before,P=S.values||[];return new mc(P,A)}(r.startAt));let y=null;return r.endAt&&(y=function(S){const A=!S.before,P=S.values||[];return new mc(P,A)}(r.endAt)),YS(e,o,d,c,g,"F",p,y)}function Dw(i,e){const r=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function C_(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ys(r.unaryFilter.field);return Ee.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ys(r.unaryFilter.field);return Ee.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ys(r.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ys(r.unaryFilter.field);return Ee.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(i):i.fieldFilter!==void 0?function(r){return Ee.create(ys(r.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return Un.create(r.compositeFilter.filters.map(s=>C_(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(r.compositeFilter.op))}(i):Et(30097,{filter:i})}function Nw(i){return yw[i]}function Iw(i){return vw[i]}function Vw(i){return _w[i]}function ps(i){return{fieldPath:i.canonicalString()}}function ys(i){return Be.fromServerFormat(i.fieldPath)}function D_(i){return i instanceof Ee?function(r){if(r.op==="=="){if(T0(r.value))return{unaryFilter:{field:ps(r.field),op:"IS_NAN"}};if(E0(r.value))return{unaryFilter:{field:ps(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(T0(r.value))return{unaryFilter:{field:ps(r.field),op:"IS_NOT_NAN"}};if(E0(r.value))return{unaryFilter:{field:ps(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(r.field),op:Iw(r.op),value:r.value}}}(i):i instanceof Un?function(r){const s=r.getFilters().map(o=>D_(o));return s.length===1?s[0]:{compositeFilter:{op:Vw(r.op),filters:s}}}(i):Et(54877,{filter:i})}function Ow(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function N_(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,r,s,o,c=At.min(),d=At.min(),g=ze.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.wt=e}}function kw(i){const e=Cw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?gc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Cn=new Uw}addToCollectionParentIndex(e,r){return this.Cn.add(r),tt.resolve()}getCollectionParents(e,r){return tt.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return tt.resolve()}deleteFieldIndex(e,r){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,r){return tt.resolve()}getDocumentsMatchingTarget(e,r){return tt.resolve(null)}getIndexType(e,r){return tt.resolve(0)}getFieldIndexes(e,r){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,r){return tt.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,r){return tt.resolve(Ai.min())}updateCollectionGroup(e,r,s){return tt.resolve()}updateIndexEntries(e,r){return tt.resolve()}}class Uw{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new Re(ee.comparator),c=!o.has(s);return this.index[r]=o.add(s),c}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I_=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(I_,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ws(0)}static lr(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LruGarbageCollector",Pw=1048576;function U0([i,e],[r,s]){const o=It(i,r);return o===0?It(e,s):o}class jw{constructor(e){this.Er=e,this.buffer=new Re(U0),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();U0(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Bw{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ot(L0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Vs(r)?ot(L0,"Ignoring IndexedDB error during garbage collection: ",r):await Is(r)}await this.mr(3e5)})}}class zw{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(r===0)return tt.resolve(wc.le);const s=new jw(r);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.gr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(k0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k0):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,r))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),ms()<=Bt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function qw(i,e){return new zw(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.changes=new _a(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?tt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,r))).next(o=>(s!==null&&to(s.mutation,o,Ln.empty(),xe.now()),o))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,kt()).next(()=>s))}getLocalViewOfDocuments(e,r,s=kt()){const o=ma();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,s).next(c=>{let d=Kl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,r){const s=ma();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,kt()))}populateOverlays(e,r,s){const o=[];return s.forEach(c=>{r.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{r.set(d,g)})})}computeViews(e,r,s,o){let c=Br();const d=Wl(),g=function(){return Wl()}();return r.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ea)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),to(E.mutation,y,E.mutation.getFieldMask(),xe.now())):d.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),r.forEach((y,E)=>{var S;return g.set(y,new Gw(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,r){const s=Wl();let o=new se((d,g)=>d-g),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=r.get(p);if(y===null)return;let E=s.get(p)||Ln.empty();E=g.applyToLocalView(y,E),s.set(p,E);const S=(o.get(g.batchId)||kt()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=f_();E.forEach(A=>{if(!c.has(A)){const P=v_(r.get(A),s.get(A));P!==null&&S.set(A,P),c=c.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):l_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-c.size):tt.resolve(ma());let g=io,p=c;return d.next(y=>tt.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,kt())).next(E=>({batchId:g,changes:h_(E)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new pt(r)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const c=r.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,c).next(g=>tt.forEach(g,p=>{const y=function(S,A){return new Os(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(r,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,A)=>{d=d.insert(S,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,r,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ye.newInvalidDocument(E)))});let g=Kl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&to(E.mutation,y,Ln.empty(),xe.now()),Dc(r,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return tt.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(o){return{id:o.id,version:o.version,createTime:ar(o.createTime)}}(r)),tt.resolve()}getNamedQuery(e,r){return tt.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(o){return{name:o.name,query:kw(o.bundledQuery),readTime:ar(o.readTime)}}(r)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.overlays=new se(pt.comparator),this.Qr=new Map}getOverlay(e,r){return tt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=ma();return tt.forEach(r,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((o,c)=>{this.bt(e,r,c)}),tt.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),tt.resolve()}getOverlaysForCollection(e,r,s){const o=ma(),c=r.length+1,d=new pt(r.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let c=new se((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ma(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ma(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return tt.resolve(g)}bt(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new fw(r,s));let c=this.Qr.get(r);c===void 0&&(c=kt(),this.Qr.set(r,c)),this.Qr.set(r,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.sessionToken=ze.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.$r=new Re(Oe.Ur),this.Kr=new Re(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const s=new Oe(e,r);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.zr(new Oe(e,r))}jr(e,r){e.forEach(s=>this.removeReference(s,r))}Hr(e){const r=new pt(new ee([])),s=new Oe(r,e),o=new Oe(r,e+1),c=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new pt(new ee([])),s=new Oe(r,e),o=new Oe(r,e+1);let c=kt();return this.Kr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const r=new Oe(e,0),s=this.$r.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return pt.comparator(e.key,r.key)||It(e.Zr,r.Zr)}static Wr(e,r){return It(e.Zr,r.Zr)||pt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new Re(Oe.Ur)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hw(c,r,s,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new Oe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,r){return tt.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ti(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?zd:this.nr-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Oe(r,0),o=new Oe(r,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,o],d=>{const g=this.ei(d.Zr);c.push(g)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new Re(It);return r.forEach(o=>{const c=new Oe(o,0),d=new Oe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{s=s.add(g.Zr)})}),tt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Oe(new pt(c),0);let g=new Re(It);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Zr)),!0)},d),tt.resolve(this.ni(g))}ni(e){const r=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&r.push(o)}),r}removeMutationBatch(e,r){Gt(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return tt.forEach(r.mutations,o=>{const c=new Oe(o.key,r.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,r){const s=new Oe(r,0),o=this.Xr.firstAfterOrEqual(s);return tt.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.ii=e,this.docs=function(){return new se(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),c=o?o.size:0,d=this.ii(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return tt.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(r))}getEntries(e,r){let s=Br();return r.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ye.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let c=Br();const d=r.path,g=new pt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wS(SS(E),s)<=0||(o.has(E.key)||Dc(r,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,r,s,o){Et(9500)}si(e,r){return tt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Zw(this)}getSize(e){return tt.resolve(this.size)}}class Zw extends Hw{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?r.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),tt.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.persistence=e,this.oi=new _a(r=>Gd(r),Fd),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this._i=0,this.ai=new $d,this.targetCount=0,this.ui=ws.cr()}forEachTarget(e,r){return this.oi.forEach((s,o)=>r(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this._i&&(this._i=r),tt.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new ws(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,tt.resolve()}updateTargetData(e,r){return this.Tr(r),tt.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,r,s){let o=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=r&&s.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),tt.waitFor(c).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,r){const s=this.oi.get(r)||null;return tt.resolve(s)}addMatchingKeys(e,r,s){return this.ai.Gr(r,s),tt.resolve()}removeMatchingKeys(e,r,s){this.ai.jr(r,s);const o=this.persistence.referenceDelegate,c=[];return o&&r.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(c)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),tt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.ai.Yr(r);return tt.resolve(s)}containsKey(e,r){return tt.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,r){this.ci={},this.overlays={},this.li=new wc(0),this.hi=!1,this.hi=!0,this.Pi=new Kw,this.referenceDelegate=e(this),this.Ti=new Jw(this),this.indexManager=new Lw,this.remoteDocumentCache=function(o){return new $w(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Mw(r),this.Ei=new Qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Yw,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ci[e.toKey()];return s||(s=new Xw(r,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,s){ot("MemoryPersistence","Starting transaction:",e);const o=new Ww(this.li.next());return this.referenceDelegate.di(),s(o).next(c=>this.referenceDelegate.Ai(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ri(e,r){return tt.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,r)))}}class Ww extends RS{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.Vi=new $d,this.mi=null}static fi(e){return new Zd(e)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(e,r,s){return this.Vi.addReference(s,r),this.gi.delete(s.toString()),tt.resolve()}removeReference(e,r,s){return this.Vi.removeReference(s,r),this.gi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),tt.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(o=>{o.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.gi,s=>{const o=pt.fromPath(s);return this.pi(e,o).next(c=>{c||r.removeEntry(o,At.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(s=>{s?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return tt.or([()=>tt.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class vc{constructor(e,r){this.persistence=e,this.yi=new _a(s=>NS(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=qw(this,r)}static fi(e,r){return new vc(e,r)}di(){}Ai(e){return tt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>r.next(o=>s+o))}Sr(e){let r=0;return this.yr(e,s=>{r++}).next(()=>r)}yr(e,r){return tt.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(c=>c?tt.resolve():r(o)))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,r).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),tt.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.yi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,r,s){return this.yi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),tt.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ec(e.data.value)),r}Dr(e,r,s){return tt.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.yi.get(r);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.ds=s,this.As=o}static Rs(e,r){let s=kt(),o=kt();for(const c of r.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jd(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $b()?8:CS(Kb())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,s,o){const c={result:null};return this.ws(e,r).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Ss(e,r,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new t2;return this.bs(e,r,d).next(g=>{if(c.result=g,this.fs)return this.Ds(e,r,d,g.size)})}).next(()=>c.result)}Ds(e,r,s,o){return s.documentReadCount<this.gs?(ms()<=Bt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",gs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tt.resolve()):(ms()<=Bt.DEBUG&&ot("QueryEngine","Query:",gs(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ms()<=Bt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",gs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(r))):tt.resolve())}ws(e,r){if(w0(r))return tt.resolve(null);let s=ir(r);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(r.limit!==null&&o===1&&(r=gc(r,null,"F"),s=ir(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=kt(...c);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.vs(r,g);return this.Cs(r,y,d,p.readTime)?this.ws(e,gc(r,null,"F")):this.Fs(e,y,r,p)}))})))}Ss(e,r,s,o){return w0(r)||o.isEqual(At.min())?tt.resolve(null):this.ys.getDocuments(e,s).next(c=>{const d=this.vs(r,c);return this.Cs(r,d,s,o)?tt.resolve(null):(ms()<=Bt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gs(r)),this.Fs(e,d,r,AS(o,io)).next(g=>g))})}vs(e,r){let s=new Re(u_(e));return r.forEach((o,c)=>{Dc(e,c)&&(s=s.add(c))}),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const c=e.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}bs(e,r,s){return ms()<=Bt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",gs(r)),this.ys.getDocumentsMatchingQuery(e,r,Ai.min(),s)}Fs(e,r,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(c=>(r.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="LocalStore",n2=3e8;class r2{constructor(e,r,s,o){this.persistence=e,this.Ms=r,this.serializer=o,this.xs=new se(It),this.Os=new _a(c=>Gd(c),Fd),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function i2(i,e,r,s){return new r2(i,e,r,s)}async function O_(i,e){const r=St(i);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,r.Ls(e),r.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=kt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:d,addedBatchIds:g}))})})}function a2(i,e){const r=St(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=r.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,A=S.keys();let P=tt.resolve();return A.forEach(k=>{P=P.next(()=>E.getEntry(p,k)).next(K=>{const F=y.docVersions.get(k);Gt(F!==null,48541),K.version.compareTo(F)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(r,s,e,c).next(()=>c.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>r.localDocuments.getDocuments(s,o))})}function M_(i){const e=St(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function s2(i,e){const r=St(i),s=e.snapshotVersion;let o=r.xs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=r.Bs.newChangeBuffer({trackRemovals:!0});o=r.xs;const g=[];e.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;g.push(r.Ti.removeMatchingKeys(c,E.removedDocuments,S).next(()=>r.Ti.addMatchingKeys(c,E.addedDocuments,S)));let P=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(ze.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function(K,F,$){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=n2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,P,E)&&g.push(r.Ti.updateTargetData(c,P))});let p=Br(),y=kt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(l2(c,d,e.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!s.isEqual(At.min())){const E=r.Ti.getLastRemoteSnapshotVersion(c).next(S=>r.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return tt.waitFor(g).next(()=>d.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(r.xs=o,c))}function l2(i,e,r){let s=kt(),o=kt();return r.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=Br();return r.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(Wd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{qs:d,Qs:o}})}function o2(i,e){const r=St(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=zd),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function u2(i,e){const r=St(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.Ti.getTargetData(s,e).next(c=>c?(o=c,tt.resolve(o)):r.Ti.allocateTargetId(s).next(d=>(o=new yi(e,d,"TargetPurposeListen",s.currentSequenceNumber),r.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.xs=r.xs.insert(s.targetId,s),r.Os.set(e,s.targetId)),s})}async function Sd(i,e,r){const s=St(i),o=s.xs.get(e),c=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Vs(d))throw d;ot(Wd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function P0(i,e,r){const s=St(i);let o=At.min(),c=kt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=St(p),A=S.Os.get(E);return A!==void 0?tt.resolve(S.xs.get(A)):S.Ti.getTargetData(y,E)}(s,d,ir(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,r?o:At.min(),r?c:kt())).next(g=>(c2(s,XS(e),g),{documents:g,$s:c})))}function c2(i,e,r){let s=i.Ns.get(e)||At.min();r.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Ns.set(e,s)}class j0{constructor(){this.activeTargetIds=ew()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h2{constructor(){this.xo=new j0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,s){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new j0,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="ConnectivityMonitor";class z0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(B0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ot(B0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function wd(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RestConnection",d2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,r,s,o,c){const d=wd(),g=this.jo(e,r.toUriEncodedString());ot(ed,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,c);const{host:y}=new URL(g),E=Pd(y);return this.Jo(e,g,p,s,E).then(S=>(ot(ed,`Received RPC '${e}' ${d}: `,S),S),S=>{throw Ts(ed,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S})}Yo(e,r,s,o,c,d){return this.zo(e,r,s,o,c)}Ho(e,r,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}jo(e,r){const s=d2[e];return`${this.Ko}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class p2 extends m2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,c){const d=wd();return new Promise((g,p)=>{const y=new kv;y.setWithCredentials(!0),y.listenOnce(Lv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case tc.NO_ERROR:const S=y.getResponseJson();ot(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case tc.TIMEOUT:ot(Fe,`RPC '${e}' ${d} timed out`),p(new ut(nt.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const A=y.getStatus();if(ot(Fe,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const k=P==null?void 0:P.error;if(k&&k.status&&k.message){const K=function($){const J=$.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(J)>=0?J:nt.UNKNOWN}(k.status);p(new ut(K,k.message))}else p(new ut(nt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ut(nt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Fe,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ot(Fe,`RPC '${e}' ${d} sending request:`,o),y.send(r,"POST",E,s,15)})}T_(e,r,s){const o=wd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=jv(),g=Pv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ot(Fe,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let A=!1,P=!1;const k=new g2({Zo:F=>{P?ot(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(ot(Fe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),ot(Fe,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Xo:()=>S.close()}),K=(F,$,J)=>{F.listen($,rt=>{try{J(rt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return K(S,Yl.EventType.OPEN,()=>{P||(ot(Fe,`RPC '${e}' stream ${o} transport opened.`),k.__())}),K(S,Yl.EventType.CLOSE,()=>{P||(P=!0,ot(Fe,`RPC '${e}' stream ${o} transport closed`),k.u_())}),K(S,Yl.EventType.ERROR,F=>{P||(P=!0,Ts(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),k.u_(new ut(nt.UNAVAILABLE,"The operation could not be completed")))}),K(S,Yl.EventType.MESSAGE,F=>{var $;if(!P){const J=F.data[0];Gt(!!J,16349);const rt=J,mt=(rt==null?void 0:rt.error)||(($=rt[0])===null||$===void 0?void 0:$.error);if(mt){ot(Fe,`RPC '${e}' stream ${o} received error:`,mt);const ht=mt.status;let Rt=function(R){const I=_e[R];if(I!==void 0)return T_(I)}(ht),O=mt.message;Rt===void 0&&(Rt=nt.INTERNAL,O="Unknown error status: "+ht+" with message "+mt.message),P=!0,k.u_(new ut(Rt,O)),S.close()}else ot(Fe,`RPC '${e}' stream ${o} received:`,J),k.c_(J)}}),K(g,Uv.STAT_EVENT,F=>{F.stat===dd.PROXY?ot(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===dd.NOPROXY&&ot(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.a_()},0),k}}function nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(i){return new Ew(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,r,s=1e3,o=1.5,c=6e4){this.xi=e,this.timerId=r,this.I_=s,this.E_=o,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,r-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class L_{constructor(e,r,s,o,c,d,g,p){this.xi=e,this.y_=s,this.w_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new k_(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===nt.RESOURCE_EXHAUSTED?(jr(r.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===r&&this.K_(s,o)},s=>{e(()=>{const o=new ut(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,r){const s=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ot(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(ot(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y2 extends L_{constructor(e,r,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,d),this.serializer=c}G_(e,r){return this.connection.T_("Listen",e,r)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const r=Aw(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ar(d.readTime):At.min()}(e);return this.listener.j_(r,s)}H_(e){const r={};r.database=Ad(this.serializer),r.addTarget=function(c,d){let g;const p=d.target;if(g=vd(p)?{documents:xw(c,p)}:{query:Rw(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=S_(c,d.resumeToken);const y=Ed(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=yc(c,d.snapshotVersion.toTimestamp());const y=Ed(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=Dw(this.serializer,e);s&&(r.labels=s),this.L_(r)}J_(e){const r={};r.database=Ad(this.serializer),r.removeTarget=e,this.L_(r)}}class v2 extends L_{constructor(e,r,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,d),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=ww(e.writeResults,e.commitTime),s=ar(e.commitTime);return this.listener.ea(s,r)}ta(){const e={};e.database=Ad(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>Sw(this.serializer,s))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{}class E2 extends _2{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new ut(nt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(e,Td(r,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(nt.UNKNOWN,c.toString())})}Yo(e,r,s,o,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Td(r,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(nt.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class T2{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(jr(r),this.oa=!1):ot("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="RemoteStore";class b2{constructor(e,r,s,o,c){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(ot(pa,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.Ta.add(4),await vo(y),y.da.set("Unknown"),y.Ta.delete(4),await Mc(y)}(this))})}),this.da=new T2(s,o)}}async function Mc(i){if(Ta(i))for(const e of i.Ia)await e(!0)}async function vo(i){for(const e of i.Ia)await e(!1)}function U_(i,e){const r=St(i);r.Pa.has(e.targetId)||(r.Pa.set(e.targetId,e),rm(r)?nm(r):Ms(r).M_()&&em(r,e))}function tm(i,e){const r=St(i),s=Ms(r);r.Pa.delete(e),s.M_()&&P_(r,e),r.Pa.size===0&&(s.M_()?s.N_():Ta(r)&&r.da.set("Unknown"))}function em(i,e){if(i.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ms(i).H_(e)}function P_(i,e){i.Aa.Ke(e),Ms(i).J_(e)}function nm(i){i.Aa=new pw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Pa.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Ms(i).start(),i.da._a()}function rm(i){return Ta(i)&&!Ms(i).F_()&&i.Pa.size>0}function Ta(i){return St(i).Ta.size===0}function j_(i){i.Aa=void 0}async function A2(i){i.da.set("Online")}async function S2(i){i.Pa.forEach((e,r)=>{em(i,e)})}async function w2(i,e){j_(i),rm(i)?(i.da.ca(e),nm(i)):i.da.set("Unknown")}async function x2(i,e,r){if(i.da.set("Online"),e instanceof A_&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Pa.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Pa.delete(g),o.Aa.removeTarget(g))}(i,e)}catch(s){ot(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(i,s)}else if(e instanceof ic?i.Aa.Xe(e):e instanceof b_?i.Aa.ot(e):i.Aa.nt(e),!r.isEqual(At.min()))try{const s=await M_(i.localStore);r.compareTo(s)>=0&&await function(c,d){const g=c.Aa.It(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Pa.get(y);E&&c.Pa.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.Pa.get(p);if(!E)return;c.Pa.set(p,E.withResumeToken(ze.EMPTY_BYTE_STRING,E.snapshotVersion)),P_(c,p);const S=new yi(E.target,p,y,E.sequenceNumber);em(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(i,r)}catch(s){ot(pa,"Failed to raise snapshot:",s),await _c(i,s)}}async function _c(i,e,r){if(!Vs(e))throw e;i.Ta.add(1),await vo(i),i.da.set("Offline"),r||(r=()=>M_(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ot(pa,"Retrying IndexedDB access"),await r(),i.Ta.delete(1),await Mc(i)})}function B_(i,e){return e().catch(r=>_c(i,r,e))}async function kc(i){const e=St(i),r=Ri(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:zd;for(;R2(e);)try{const o=await o2(e.localStore,s);if(o===null){e.ha.length===0&&r.N_();break}s=o.batchId,C2(e,o)}catch(o){await _c(e,o)}z_(e)&&q_(e)}function R2(i){return Ta(i)&&i.ha.length<10}function C2(i,e){i.ha.push(e);const r=Ri(i);r.M_()&&r.Y_&&r.Z_(e.mutations)}function z_(i){return Ta(i)&&!Ri(i).F_()&&i.ha.length>0}function q_(i){Ri(i).start()}async function D2(i){Ri(i).ta()}async function N2(i){const e=Ri(i);for(const r of i.ha)e.Z_(r.mutations)}async function I2(i,e,r){const s=i.ha.shift(),o=Yd.from(s,e,r);await B_(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await kc(i)}async function V2(i,e){e&&Ri(i).Y_&&await async function(s,o){if(function(d){return mw(d)&&d!==nt.ABORTED}(o.code)){const c=s.ha.shift();Ri(s).O_(),await B_(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await kc(s)}}(i,e),z_(i)&&q_(i)}async function H0(i,e){const r=St(i);r.asyncQueue.verifyOperationInProgress(),ot(pa,"RemoteStore received new credentials");const s=Ta(r);r.Ta.add(3),await vo(r),s&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await Mc(r)}async function O2(i,e){const r=St(i);e?(r.Ta.delete(2),await Mc(r)):e||(r.Ta.add(2),await vo(r),r.da.set("Unknown"))}function Ms(i){return i.Ra||(i.Ra=function(r,s,o){const c=St(r);return c.ra(),new y2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{e_:A2.bind(null,i),n_:S2.bind(null,i),i_:w2.bind(null,i),j_:x2.bind(null,i)}),i.Ia.push(async e=>{e?(i.Ra.O_(),rm(i)?nm(i):i.da.set("Unknown")):(await i.Ra.stop(),j_(i))})),i.Ra}function Ri(i){return i.Va||(i.Va=function(r,s,o){const c=St(r);return c.ra(),new v2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:D2.bind(null,i),i_:V2.bind(null,i),X_:N2.bind(null,i),ea:I2.bind(null,i)}),i.Ia.push(async e=>{e?(i.Va.O_(),await kc(i)):(await i.Va.stop(),i.ha.length>0&&(ot(pa,`Stopping write stream with ${i.ha.length} pending writes`),i.ha=[]))})),i.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,r,s,o,c){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,c){const d=Date.now()+s,g=new im(e,r,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(i,e){if(jr("AsyncQueue",`${e}: ${i}`),Vs(i))return new ut(nt.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{static emptySet(e){return new _s(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||pt.comparator(r.key,s.key):(r,s)=>pt.comparator(r.key,s.key),this.keyedMap=Kl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new _s;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.ma=new se(pt.comparator)}track(e){const r=e.doc.key,s=this.ma.get(r);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(r,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(r):e.type===1&&s.type===2?this.ma=this.ma.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(r,{type:2,doc:e.doc}):Et(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(r,e)}ga(){const e=[];return this.ma.inorderTraversal((r,s)=>{e.push(s)}),e}}class xs{constructor(e,r,s,o,c,d,g,p,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,c){const d=[];return r.forEach(g=>{d.push({type:0,doc:g})}),new xs(e,r,_s.emptySet(r),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class k2{constructor(){this.queries=F0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,s){const o=St(r),c=o.queries;o.queries=F0(),c.forEach((d,g)=>{for(const p of g.ya)p.onError(s)})})(this,new ut(nt.ABORTED,"Firestore shutting down"))}}function F0(){return new _a(i=>o_(i),Cc)}async function L2(i,e){const r=St(i);let s=3;const o=e.query;let c=r.queries.get(o);c?!c.wa()&&e.Sa()&&(s=2):(c=new M2,s=e.Sa()?0:1);try{switch(s){case 0:c.pa=await r.onListen(o,!0);break;case 1:c.pa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(d){const g=am(d,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(g)}r.queries.set(o,c),c.ya.push(e),e.Da(r.onlineState),c.pa&&e.va(c.pa)&&sm(r)}async function U2(i,e){const r=St(i),s=e.query;let o=3;const c=r.queries.get(s);if(c){const d=c.ya.indexOf(e);d>=0&&(c.ya.splice(d,1),c.ya.length===0?o=e.Sa()?0:1:!c.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function P2(i,e){const r=St(i);let s=!1;for(const o of e){const c=o.query,d=r.queries.get(c);if(d){for(const g of d.ya)g.va(o)&&(s=!0);d.pa=o}}s&&sm(r)}function j2(i,e,r){const s=St(i),o=s.queries.get(e);if(o)for(const c of o.ya)c.onError(r);s.queries.delete(e)}function sm(i){i.ba.forEach(e=>{e.next()})}var xd,Q0;(Q0=xd||(xd={})).Ca="default",Q0.Cache="cache";class B2{constructor(e,r,s){this.query=e,this.Fa=r,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),r=!0):this.Na(e,this.onlineState)&&(this.Ba(e),r=!0),this.xa=e,r}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let r=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),r=!0),r}Na(e,r){if(!e.fromCache||!this.Sa())return!0;const s=r!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const r=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ba(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.key=e}}class G_{constructor(e){this.key=e}}class z2{constructor(e,r){this.query=e,this.Ga=r,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=kt(),this.mutatedKeys=kt(),this.Ha=u_(e),this.Ja=new _s(this.Ha)}get Ya(){return this.Ga}Za(e,r){const s=r?r.Xa:new G0,o=r?r.Ja:this.Ja;let c=r?r.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const A=o.get(E),P=Dc(this.query,S)?S:null,k=!!A&&this.mutatedKeys.has(A.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;A&&P?A.data.isEqual(P.data)?k!==K&&(s.track({type:3,doc:P}),F=!0):this.eu(A,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.Ha(P,p)>0||y&&this.Ha(P,y)<0)&&(g=!0)):!A&&P?(s.track({type:0,doc:P}),F=!0):A&&!P&&(s.track({type:1,doc:A}),F=!0,(p||y)&&(g=!0)),F&&(P?(d=d.add(P),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ja:d,Xa:s,Cs:g,mutatedKeys:c}}eu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const c=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((E,S)=>function(P,k){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:F})}};return K(P)-K(k)}(E.type,S.type)||this.Ha(E.doc,S.doc)),this.tu(s),o=o!=null&&o;const g=r&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,y=p!==this.za;return this.za=p,d.length!==0||y?{snapshot:new xs(this.query,e.Ja,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:g}:{ru:g}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new G0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(r=>this.Ga=this.Ga.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ga=this.Ga.delete(r)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=kt(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const r=[];return e.forEach(s=>{this.ja.has(s)||r.push(new G_(s))}),this.ja.forEach(s=>{e.has(s)||r.push(new H_(s))}),r}su(e){this.Ga=e.$s,this.ja=kt();const r=this.Za(e.documents);return this.applyChanges(r,!0)}ou(){return xs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const lm="SyncEngine";class q2{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class H2{constructor(e){this.key=e,this._u=!1}}class G2{constructor(e,r,s,o,c,d){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new _a(g=>o_(g),Cc),this.cu=new Map,this.lu=new Set,this.hu=new se(pt.comparator),this.Pu=new Map,this.Tu=new $d,this.Iu={},this.Eu=new Map,this.du=ws.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function F2(i,e,r=!0){const s=$_(i);let o;const c=s.uu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.ou()):o=await F_(s,e,r,!0),o}async function Q2(i,e){const r=$_(i);await F_(r,e,!0,!1)}async function F_(i,e,r,s){const o=await u2(i.localStore,ir(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,r);let g;return s&&(g=await Y2(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&r&&U_(i.remoteStore,o),g}async function Y2(i,e,r,s,o){i.Ru=(S,A,P)=>async function(K,F,$,J){let rt=F.view.Za($);rt.Cs&&(rt=await P0(K.localStore,F.query,!1).then(({documents:O})=>F.view.Za(O,rt)));const mt=J&&J.targetChanges.get(F.targetId),ht=J&&J.targetMismatches.get(F.targetId)!=null,Rt=F.view.applyChanges(rt,K.isPrimaryClient,mt,ht);return K0(K,F.targetId,Rt.ru),Rt.snapshot}(i,S,A,P);const c=await P0(i.localStore,e,!0),d=new z2(e,c.$s),g=d.Za(c.documents),p=yo.createSynthesizedTargetChangeForCurrentChange(r,s&&i.onlineState!=="Offline",o),y=d.applyChanges(g,i.isPrimaryClient,p);K0(i,r,y.ru);const E=new q2(e,r,d);return i.uu.set(e,E),i.cu.has(r)?i.cu.get(r).push(e):i.cu.set(r,[e]),y.snapshot}async function K2(i,e,r){const s=St(i),o=s.uu.get(e),c=s.cu.get(o.targetId);if(c.length>1)return s.cu.set(o.targetId,c.filter(d=>!Cc(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),r&&tm(s.remoteStore,o.targetId),Rd(s,o.targetId)}).catch(Is)):(Rd(s,o.targetId),await Sd(s.localStore,o.targetId,!0))}async function X2(i,e){const r=St(i),s=r.uu.get(e),o=r.cu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),tm(r.remoteStore,s.targetId))}async function $2(i,e,r){const s=rx(i);try{const o=await function(d,g){const p=St(d),y=xe.now(),E=g.reduce((P,k)=>P.add(k.key),kt());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let k=Br(),K=kt();return p.Bs.getEntries(P,E).next(F=>{k=F,k.forEach(($,J)=>{J.isValidDocument()||(K=K.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,k)).next(F=>{S=F;const $=[];for(const J of g){const rt=uw(J,S.get(J.key).overlayedDocument);rt!=null&&$.push(new Ea(J.key,rt,Wv(rt.value.mapValue),Lr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,$,g)}).next(F=>{A=F;const $=F.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(P,F.batchId,$)})}).then(()=>({batchId:A.batchId,changes:h_(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Iu[d.currentUser.toKey()];y||(y=new se(It)),y=y.insert(g,p),d.Iu[d.currentUser.toKey()]=y}(s,o.batchId,r),await _o(s,o.changes),await kc(s.remoteStore)}catch(o){const c=am(o,"Failed to persist write");r.reject(c)}}async function Q_(i,e){const r=St(i);try{const s=await s2(r.localStore,e);e.targetChanges.forEach((o,c)=>{const d=r.Pu.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?Gt(d._u,14607):o.removedDocuments.size>0&&(Gt(d._u,42227),d._u=!1))}),await _o(r,s,e)}catch(s){await Is(s)}}function Y0(i,e,r){const s=St(i);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.uu.forEach((c,d)=>{const g=d.view.Da(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=St(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const A of S.ya)A.Da(g)&&(y=!0)}),y&&sm(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Z2(i,e,r){const s=St(i);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Pu.get(e),c=o&&o.key;if(c){let d=new se(pt.comparator);d=d.insert(c,Ye.newNoDocument(c,At.min()));const g=kt().add(c),p=new Vc(At.min(),new Map,new se(It),d,g);await Q_(s,p),s.hu=s.hu.remove(c),s.Pu.delete(e),om(s)}else await Sd(s.localStore,e,!1).then(()=>Rd(s,e,r)).catch(Is)}async function J2(i,e){const r=St(i),s=e.batch.batchId;try{const o=await a2(r.localStore,e);K_(r,s,null),Y_(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await _o(r,o)}catch(o){await Is(o)}}async function W2(i,e,r){const s=St(i);try{const o=await function(d,g){const p=St(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(Gt(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);K_(s,e,r),Y_(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await _o(s,o)}catch(o){await Is(o)}}function Y_(i,e){(i.Eu.get(e)||[]).forEach(r=>{r.resolve()}),i.Eu.delete(e)}function K_(i,e,r){const s=St(i);let o=s.Iu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(r?c.reject(r):c.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function Rd(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.cu.get(e))i.uu.delete(s),r&&i.au.Vu(s,r);i.cu.delete(e),i.isPrimaryClient&&i.Tu.Hr(e).forEach(s=>{i.Tu.containsKey(s)||X_(i,s)})}function X_(i,e){i.lu.delete(e.path.canonicalString());const r=i.hu.get(e);r!==null&&(tm(i.remoteStore,r),i.hu=i.hu.remove(e),i.Pu.delete(r),om(i))}function K0(i,e,r){for(const s of r)s instanceof H_?(i.Tu.addReference(s.key,e),tx(i,s)):s instanceof G_?(ot(lm,"Document no longer in limbo: "+s.key),i.Tu.removeReference(s.key,e),i.Tu.containsKey(s.key)||X_(i,s.key)):Et(19791,{mu:s})}function tx(i,e){const r=e.key,s=r.path.canonicalString();i.hu.get(r)||i.lu.has(s)||(ot(lm,"New document in limbo: "+r),i.lu.add(s),om(i))}function om(i){for(;i.lu.size>0&&i.hu.size<i.maxConcurrentLimboResolutions;){const e=i.lu.values().next().value;i.lu.delete(e);const r=new pt(ee.fromString(e)),s=i.du.next();i.Pu.set(s,new H2(r)),i.hu=i.hu.insert(r,s),U_(i.remoteStore,new yi(ir(s_(r.path)),s,"TargetPurposeLimboResolution",wc.le))}}async function _o(i,e,r){const s=St(i),o=[],c=[],d=[];s.uu.isEmpty()||(s.uu.forEach((g,p)=>{d.push(s.Ru(p,e,r).then(y=>{var E;if((y||r)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Jd.Rs(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.au.j_(o),await async function(p,y){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>tt.forEach(y,A=>tt.forEach(A.ds,P=>E.persistence.referenceDelegate.addReference(S,A.targetId,P)).next(()=>tt.forEach(A.As,P=>E.persistence.referenceDelegate.removeReference(S,A.targetId,P)))))}catch(S){if(!Vs(S))throw S;ot(Wd,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const P=E.xs.get(A),k=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(k);E.xs=E.xs.insert(A,K)}}}(s.localStore,c))}async function ex(i,e){const r=St(i);if(!r.currentUser.isEqual(e)){ot(lm,"User change. New user:",e.toKey());const s=await O_(r.localStore,e);r.currentUser=e,function(c,d){c.Eu.forEach(g=>{g.forEach(p=>{p.reject(new ut(nt.CANCELLED,d))})}),c.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _o(r,s.ks)}}function nx(i,e){const r=St(i),s=r.Pu.get(e);if(s&&s._u)return kt().add(s.key);{let o=kt();const c=r.cu.get(e);if(!c)return o;for(const d of c){const g=r.uu.get(d);o=o.unionWith(g.view.Ya)}return o}}function $_(i){const e=St(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z2.bind(null,e),e.au.j_=P2.bind(null,e.eventManager),e.au.Vu=j2.bind(null,e.eventManager),e}function rx(i){const e=St(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return i2(this.persistence,new e2,e.initialUser,this.serializer)}yu(e){return new V_(Zd.fi,this.serializer)}pu(e){return new h2}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class ix extends Ec{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){Gt(this.persistence.referenceDelegate instanceof vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Bw(s,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new V_(s=>vc.fi(s,r),this.serializer)}}class Cd{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Y0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ex.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new k2}()}createDatastore(e){const r=Oc(e.databaseInfo.databaseId),s=function(c){return new p2(c)}(e.databaseInfo);return function(c,d,g,p){return new E2(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return function(s,o,c,d,g){return new b2(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,r=>Y0(this.syncEngine,r,0),function(){return z0.C()?new z0:new f2}())}createSyncEngine(e,r){return function(o,c,d,g,p,y,E){const S=new G2(o,c,d,g,p,y);return E&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(o){const c=St(o);ot(pa,"RemoteStore shutting down."),c.Ta.add(5),await vo(c),c.Ea.shutdown(),c.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Cd.provider={build:()=>new Cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class sx{constructor(e,r,s,o,c){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Hv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(Ci,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Ci,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=am(r,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function rd(i,e){i.asyncQueue.verifyOperationInProgress(),ot(Ci,"Initializing OfflineComponentProvider");const r=i.configuration;await e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await O_(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function X0(i,e){i.asyncQueue.verifyOperationInProgress();const r=await lx(i);ot(Ci,"Initializing OnlineComponentProvider"),await e.initialize(r,i.configuration),i.setCredentialChangeListener(s=>H0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>H0(e.remoteStore,o)),i._onlineComponents=e}async function lx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ot(Ci,"Using user provided OfflineComponentProvider");try{await rd(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(r))throw r;Ts("Error using user provided cache. Falling back to memory cache: "+r),await rd(i,new Ec)}}else ot(Ci,"Using default OfflineComponentProvider"),await rd(i,new ix(void 0));return i._offlineComponents}async function Z_(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ot(Ci,"Using user provided OnlineComponentProvider"),await X0(i,i._uninitializedComponentsProvider._online)):(ot(Ci,"Using default OnlineComponentProvider"),await X0(i,new Cd))),i._onlineComponents}function ox(i){return Z_(i).then(e=>e.syncEngine)}async function ux(i){const e=await Z_(i),r=e.eventManager;return r.onListen=F2.bind(null,e.syncEngine),r.onUnlisten=K2.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Q2.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=X2.bind(null,e.syncEngine),r}function cx(i,e,r={}){const s=new Ti;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new ax({next:A=>{E.Cu(),d.enqueueAndForget(()=>U2(c,S)),A.fromCache&&p.source==="server"?y.reject(new ut(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new B2(g,E,{includeMetadataChanges:!0,La:!0});return L2(c,S)}(await ux(i),i.asyncQueue,e,r,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(i,e,r){if(!r)throw new ut(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hx(i,e,r,s){if(e===!0&&s===!0)throw new ut(nt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Z0(i){if(!pt.isDocumentKey(i))throw new ut(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function J0(i){if(pt.isDocumentKey(i))throw new ut(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lc(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Et(12329,{type:typeof i})}function Tc(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ut(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Lc(i);throw new ut(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="firestore.googleapis.com",W0=!0;class tv{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tE,this.ssl=W0}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:W0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pw)throw new ut(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mS;switch(s.type){case"firstParty":return new vS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=$0.get(r);s&&(ot("ComponentProvider","Removing Datastore"),$0.delete(r),s.terminate())}(this),Promise.resolve()}}function fx(i,e,r,s={}){var o;i=Tc(i,Uc);const c=Pd(e),d=i._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${r}`;c&&(Hb(`https://${p}`),Yb("Firestore",!0)),d.host!==tE&&d.host!==p&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:s});if(!oc(y,g)&&(i._setSettings(y),s.mockUserToken)){let E,S;if(typeof s.mockUserToken=="string")E=s.mockUserToken,S=Qe.MOCK_USER;else{E=Gb(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ut(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Qe(A)}i._authCredentials=new gS(new zv(E,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class Cn{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class bi extends Di{constructor(e,r,s){super(e,r,s_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new pt(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function eE(i,e,...r){if(i=Es(i),W_("collection","path",e),i instanceof Uc){const s=ee.fromString(e,...r);return J0(s),new bi(i,null,s)}{if(!(i instanceof Cn||i instanceof bi))throw new ut(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ee.fromString(e,...r));return J0(s),new bi(i.firestore,null,s)}}function dx(i,e,...r){if(i=Es(i),arguments.length===1&&(e=Hv.newId()),W_("doc","path",e),i instanceof Uc){const s=ee.fromString(e,...r);return Z0(s),new Cn(i,null,new pt(s))}{if(!(i instanceof Cn||i instanceof bi))throw new ut(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ee.fromString(e,...r));return Z0(s),new Cn(i.firestore,i instanceof bi?i.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="AsyncQueue";class nv{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new k_(this,"async_queue_retry"),this.ec=()=>{const s=nd();s&&ot(ev,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const r=nd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=nd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new Ti;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Vs(e))throw e;ot(ev,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,jr("INTERNAL UNHANDLED ERROR: ",rv(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=r,r}enqueueAfterDelay(e,r,s){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const o=im.createAndSchedule(this,e,r,s,c=>this.oc(c));return this.Hu.push(o),o}nc(){this.Ju&&Et(47125,{_c:rv(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function rv(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class um extends Uc{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new nv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nv(e),this._firestoreClient=void 0,await e}}}function mx(i,e){const r=typeof i=="object"?i:rS(),s=typeof i=="string"?i:fc,o=JA(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=zb("firestore");c&&fx(o,...c)}return o}function nE(i){if(i._terminated)throw new ut(nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||gx(i),i._firestoreClient}function gx(i){var e,r,s;const o=i._freezeSettings(),c=function(g,p,y,E){return new OS(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,J_(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((r=o.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new sx(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(ze.fromBase64String(e))}catch(r){throw new ut(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Rs(ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ut(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ut(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ut(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^__.*__$/;class yx{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,r,this.fieldTransforms):new po(e,this.data,r,this.fieldTransforms)}}function rE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{hc:i})}}class mm{constructor(e,r,s,o,c,d){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return bc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(rE(this.hc)&&px.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class vx{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||Oc(e)}gc(e,r,s,o=!1){return new mm({hc:e,methodName:r,fc:s,path:Be.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iE(i){const e=i._freezeSettings(),r=Oc(i._databaseId);return new vx(i._databaseId,!!e.ignoreUndefinedProperties,r)}function _x(i,e,r,s,o,c={}){const d=i.gc(c.merge||c.mergeFields?2:0,e,r,o);lE("Data must be an object, but it was:",d,s);const g=aE(s,d);let p,y;if(c.merge)p=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const A=Tx(e,S,r);if(!d.contains(A))throw new ut(nt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Ax(E,A)||E.push(A)}p=new Ln(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new yx(new Rn(g),p,y)}class gm extends hm{_toFieldTransform(e){return new aw(e.path,new uo)}isEqual(e){return e instanceof gm}}function Ex(i,e,r,s=!1){return pm(r,i.gc(s?4:3,e))}function pm(i,e){if(sE(i=Es(i)))return lE("Unsupported field value:",e,i),aE(i,e);if(i instanceof hm)return function(s,o){if(!rE(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=pm(g,o.Rc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,o){if((s=Es(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=xe.fromDate(s);return{timestampValue:yc(o.serializer,c)}}if(s instanceof xe){const c=new xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yc(o.serializer,c)}}if(s instanceof fm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rs)return{bytesValue:S_(o.serializer,s._byteString)};if(s instanceof Cn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dm)return function(d,g){return{mapValue:{fields:{[Zv]:{stringValue:Jv},[dc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Vc("VectorValues must only contain numeric values.");return Qd(g.serializer,y)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${Lc(s)}`)}(i,e)}function aE(i,e){const r={};return Fv(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(i,(s,o)=>{const c=pm(o,e.Ic(s));c!=null&&(r[s]=c)}),{mapValue:{fields:r}}}function sE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xe||i instanceof fm||i instanceof Rs||i instanceof Cn||i instanceof hm||i instanceof dm)}function lE(i,e,r){if(!sE(r)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(r)){const s=Lc(r);throw s==="an object"?e.Vc(i+" a custom object"):e.Vc(i+" "+s)}}function Tx(i,e,r){if((e=Es(e))instanceof cm)return e._internalPath;if(typeof e=="string")return oE(i,e);throw bc("Field path arguments must be of type string or ",i,!1,void 0,r)}const bx=new RegExp("[~\\*/\\[\\]]");function oE(i,e,r){if(e.search(bx)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new cm(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function bc(i,e,r,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ut(nt.INVALID_ARGUMENT,g+i+p)}function Ax(i,e){return i.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,r,s,o,c){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Pc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Sx extends uE{data(){return super.data()}}function Pc(i,e){return typeof e=="string"?oE(i,e):e instanceof cm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ut(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ym{}class vm extends ym{}function id(i,e,...r){let s=[];e instanceof ym&&s.push(e),s=s.concat(r),function(c){const d=c.filter(p=>p instanceof _m).length,g=c.filter(p=>p instanceof jc).length;if(d>1||d>0&&g>0)throw new ut(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class jc extends vm{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new jc(e,r,s)}_apply(e){const r=this._parse(e);return cE(e._query,r),new Di(e.firestore,e.converter,_d(e._query,r))}_parse(e){const r=iE(e.firestore);return function(c,d,g,p,y,E,S){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){sv(S,E);const k=[];for(const K of S)k.push(av(p,c,K));A={arrayValue:{values:k}}}else A=av(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||sv(S,E),A=Ex(g,d,S,E==="in"||E==="not-in");return Ee.create(y,E,A)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function $u(i,e,r){const s=e,o=Pc("where",i);return jc._create(o,s,r)}class _m extends ym{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new _m(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return r.length===1?r[0]:Un.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)cE(d,p),d=_d(d,p)}(e._query,r),new Di(e.firestore,e.converter,_d(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Em extends vm{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Em(e,r)}_apply(e){const r=function(o,c,d){if(o.startAt!==null)throw new ut(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ut(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oo(c,d)}(e._query,this._field,this._direction);return new Di(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new Os(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}function iv(i,e="asc"){const r=e,s=Pc("orderBy",i);return Em._create(s,r)}class Tm extends vm{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new Tm(e,r,s)}_apply(e){return new Di(e.firestore,e.converter,gc(e._query,this._limit,this._limitType))}}function xx(i){return Tm._create("limit",i,"F")}function av(i,e,r){if(typeof(r=Es(r))=="string"){if(r==="")throw new ut(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l_(e)&&r.indexOf("/")!==-1)throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(ee.fromString(r));if(!pt.isDocumentKey(s))throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _0(i,new pt(s))}if(r instanceof Cn)return _0(i,r._key);throw new ut(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(r)}.`)}function sv(i,e){if(!Array.isArray(i)||i.length===0)throw new ut(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cE(i,e){const r=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ut(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Rx{convertValue(e,r="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return va(e,(o,c)=>{s[o]=this.convertValue(c,r)}),s}convertVectorValue(e){var r,s,o;const c=(o=(s=(r=e.fields)===null||r===void 0?void 0:r[dc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>me(d.doubleValue));return new dm(c)}convertGeoPoint(e){return new fm(me(e.latitude),me(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const r=Si(e);return new xe(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=ee.fromString(e);Gt(N_(s),9688,{name:e});const o=new so(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(r)||jr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(i,e,r){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dx extends uE{constructor(e,r,s,o,c,d){super(e,r,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Pc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class ac extends Dx{data(e={}){return super.data(e)}}class Nx{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new ac(this._firestore,this._userDataWriter,s.key,s,new Zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ut(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new ac(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new ac(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:Ix(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ix(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:i})}}class Vx extends Rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,r)}}function Ox(i){i=Tc(i,Di);const e=Tc(i.firestore,um),r=nE(e),s=new Vx(e);return wx(i._query),cx(r,i._query).then(o=>new Nx(e,s,i,o))}function Mx(i,e){const r=Tc(i.firestore,um),s=dx(i),o=Cx(i.converter,e);return kx(r,[_x(iE(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Lr.exists(!1))]).then(()=>s)}function kx(i,e){return function(s,o){const c=new Ti;return s.asyncQueue.enqueueAndForget(async()=>$2(await ox(s),o,c)),c.promise}(nE(i),e)}function Lx(){return new gm("serverTimestamp")}(function(e,r=!0){(function(o){Ns=o})(nS),cc(new no("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new um(new pS(s.getProvider("auth-internal")),new _S(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),vs(l0,o0,e),vs(l0,o0,"esm2017")})();var Ux="firebase",Px="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(Ux,Px,"app");const jx={apiKey:"AIzaSyAHVggGUuYsh0JFCKH6ageQ0UkwxcI0XAU",authDomain:"bluff-buster.firebaseapp.com",projectId:"bluff-buster",storageBucket:"bluff-buster.firebasestorage.app",messagingSenderId:"248989155364",appId:"1:248989155364:web:f3a6fd3c77c18ccfbdd8b1"},Bx=Iv(jx),hE=mx(Bx),fE=()=>new Date().toISOString().split("T")[0],zx=()=>{const i=new Date;return i.setDate(i.getDate()-7),i.toISOString().split("T")[0]},dE=async(i=null,e=null)=>{try{const r=fE(),s=zx();let o=id(eE(hE,"leaderboard"),$u("date",">=",s),$u("date","<=",r),iv("date","desc"),iv("streak","desc"),xx(5));return i&&(o=id(o,$u("category","==",i))),e&&(o=id(o,$u("difficulty","==",e))),(await Ox(o)).docs.map(d=>({id:d.id,...d.data()}))}catch(r){throw console.error("Error fetching leaderboard:",r),r}},qx=async i=>{try{const{name:e,streak:r,category:s,difficulty:o}=i,c=fE(),d={name:e,streak:r,category:s,difficulty:o,date:c,timestamp:Lx()};return{id:(await Mx(eE(hE,"leaderboard"),d)).id,...d}}catch(e){throw console.error("Error adding score:",e),e}},Hx=async(i,e=null,r=null)=>{try{if(i<1)return console.log("Score too low: Must have at least 1 streak"),!1;const s=await dE(e,r);if(console.log("Current leaderboard:",s),console.log("User streak:",i),s.length<5)return console.log("Less than 5 entries, score qualifies"),!0;const o=s[s.length-1].streak;console.log("Lowest score in leaderboard:",o);const c=i>o;return console.log("Qualifies:",c),c}catch(s){throw console.error("Error checking score qualification:",s),s}},Dd={0:"Bluff Believer",1:"Truth Tourist",3:"Lie Detector in Training",5:"Bluff Buster Beginner",7:"Truth Seeker",10:"Lie Locator",12:"Bluff Blaster",15:"Truth Titan",18:"Lie Legend",20:"Bluff Buster Boss",25:"Truth Tyrant",30:"Lie Lord",35:"Bluff Buster Supreme",36:"The Ultimate Truth Teller"},mE={Hollywood:{0:"Movie Buff",1:"Film Fanatic",3:"Hollywood Insider",5:"Cinema Expert",7:"Movie Critic",10:"Film Guru",12:"Hollywood Legend",15:"Cinema Master",18:"Film Visionary",20:"Hollywood Icon",25:"Cinema Legend",30:"Film Dynasty",35:"Hollywood Royalty",36:"The Ultimate Movie Mogul"},Bollywood:{0:"Filmy Fan",1:"Movie Maniac",3:"Bollywood Buff",5:"Film Critic Saab",7:"Cinema Expert Babu",10:"Bollywood Insider Bhai",12:"Film Guru Ji",15:"Cinema Legend Saab",18:"Bollywood Superstar",20:"Film Maestro Saab",25:"Cinema Visionary Babu",30:"Bollywood Icon Saab",35:"Film Dynasty Raja",36:"The Ultimate Bollywood Maharaja"},"Science & Technology":{0:"Lab Assistant",1:"Science Student",3:"Research Intern",5:"Lab Technician",7:"Research Scientist",10:"Science Professor",12:"Nobel Prize Nominee",15:"Science Genius",18:"Scientific Legend",20:"Science Master",25:"Scientific Pioneer",30:"Science Visionary",35:"Scientific Revolutionary",36:"The Ultimate Scientist"},"History & Geography":{0:"History Explorer",1:"Geography Student",3:"History Buff",5:"Map Master",7:"Historical Expert",10:"Geography Guru",12:"History Master",15:"Geography Legend",18:"Historical Visionary",20:"Geography Icon",25:"History Sage",30:"Geography Oracle",35:"Historical Dynasty",36:"The Ultimate Historian & Geographer"},"Food & Nature":{0:"Foodie",1:"Nature Lover",3:"Culinary Explorer",5:"Wildlife Enthusiast",7:"Food Expert",10:"Nature Guru",12:"Culinary Master",15:"Wildlife Legend",18:"Food Visionary",20:"Nature Icon",25:"Culinary Sage",30:"Wildlife Oracle",35:"Food & Nature Dynasty",36:"The Ultimate Food & Nature Expert"}},Bc=(i,e)=>{const r=e.split(" - ")[0],s=mE[r]||Dd,o=Object.keys(s).map(Number).sort((c,d)=>c-d);for(let c=o.length-1;c>=0;c--)if(i>=o[c])return s[o[c]];return Dd[0]},Gx=Object.freeze(Object.defineProperty({__proto__:null,categoryTitles:mE,defaultTitles:Dd,getUserTitle:Bc},Symbol.toStringTag,{value:"Module"}));function Fx(){return console.log("production"),"/bluff-buster/#"}function Qx(i){const e=Fx();return`${window.location.origin}${e}${i.startsWith("/")?i:"/"+i}`}function Yx(){const i=Pn(),e=dn(),[r,s]=G.useState(!1),[o,c]=G.useState(!1),[d,g]=G.useState(""),[p,y]=G.useState([]),[E,S]=G.useState(!1),[A,P]=G.useState(!1),[k,K]=G.useState(!1),[F,$]=G.useState(null),{streak:J=0,category:rt="Unknown Category",timer:mt=15,correctAnswer:ht,explanation:Rt}=e.state||{},O=Bc(J,rt),R=(C=>{switch(C){case 20:return"Easy";case 15:return"Medium";case 10:return"Hard";default:return"Medium"}})(mt),I=C=>{const bt=`/challenge?category=${encodeURIComponent(rt)}&difficulty=${encodeURIComponent(R)}&streak=${J}&name=${encodeURIComponent(d||"A friend")}`,wt=Qx(bt),Y=`🔥 I just scored a streak of ${J} in the "${rt}" category on ${R} difficulty and earned the title "${O}"! 🏆 Think you can beat me? 😏 Play Bluff Buster now and prove it! 👉 ${wt}`,at=encodeURIComponent(Y),ft=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Dt=/iPhone|iPad|iPod/i.test(navigator.userAgent),N=/Android/i.test(navigator.userAgent);switch(C){case"whatsapp":const et=`https://wa.me/?text=${at}`,lt=`whatsapp://send?text=${at}`;window.open(ft?lt:et,"_blank");break;case"messages":Dt?window.open(`sms:&body=${at}`,"_blank"):N&&window.open(`sms:?body=${at}`,"_blank");break;default:console.error("Unsupported platform:",C)}},M=async()=>{S(!0),$(null);try{console.log("Fetching leaderboard for:",{category:rt,difficulty:R});const C=await dE(rt,R);console.log("Received leaderboard data:",C),y(C);const bt=await Hx(J,rt,R);console.log("Score qualifies:",bt),P(bt)}catch(C){console.error("Error checking leaderboard:",C),$("Failed to load leaderboard. Please try again.")}finally{S(!1)}};G.useEffect(()=>{M()},[rt,R,J]);const L=async()=>{if(d.trim()){S(!0),$(null);try{await qx({name:d.trim(),streak:J,category:rt,difficulty:R}),c(!1),K(!0),await M()}catch(C){console.error("Error submitting score:",C),$("Failed to submit score. Please try again.")}finally{S(!1)}}};return w.jsxs("div",{className:"h-screen bg-white dark:bg-gray-900 flex flex-col items-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-20 sm:w-24 mb-2"}),w.jsxs("div",{className:"w-full max-w-4xl",children:[w.jsx("div",{className:"mb-4",children:w.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-700 rounded-lg p-3 shadow-sm",children:[w.jsxs("div",{className:"text-center mb-3",children:[w.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-1",children:"Leaderboard"}),w.jsxs("div",{className:"inline-flex items-center gap-2",children:[w.jsx("span",{className:"text-xl",children:"🏆"}),w.jsx("span",{className:"text-lg font-bold text-purple-800 dark:text-purple-400",children:"Top Scores"}),w.jsx("span",{className:"text-xl",children:"🏆"})]}),w.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-300 font-semibold text-center mt-1",children:["Category: ",w.jsx("span",{className:"text-purple-700 dark:text-purple-300",children:rt})," | Difficulty: ",w.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:R})]})]}),w.jsx("div",{className:"grid grid-cols-1 gap-2",children:p.length===0?w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 shadow-sm text-center text-sm text-gray-500 dark:text-gray-400 mb-3",children:"No scores yet. Be the first! 🚀"}):p.map((C,bt)=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 shadow-sm flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("span",{className:"font-bold text-gray-600 dark:text-gray-300",children:["#",bt+1]}),w.jsx("span",{className:"font-semibold text-sm text-gray-800 dark:text-gray-200",children:C.name})]}),w.jsx("div",{className:"text-right",children:w.jsx("div",{className:"font-bold text-red-600 dark:text-red-400",children:C.streak})})]},C.id))}),!E&&(A||p.length<5)&&!k&&J>0&&w.jsx("button",{className:"mt-3 w-full px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-bold text-sm hover:from-purple-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",onClick:()=>c(!0),disabled:k,children:"Add to Leaderboard"}),k&&w.jsx("p",{className:"mt-3 text-sm text-green-600 dark:text-green-400",children:"Your score has been submitted! 🎉"})]})}),w.jsx("div",{className:"mb-4",children:w.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-700 rounded-lg p-3 shadow-sm",children:[w.jsxs("div",{className:"text-center mb-3",children:[w.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 mb-1",children:"Game Streak"}),w.jsxs("div",{className:"inline-flex items-center gap-2",children:[w.jsx("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:J}),w.jsx("span",{className:"text-xl",children:"🔥"})]})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 shadow-sm",children:[w.jsx("div",{className:"flex items-center justify-center mb-1",children:w.jsx("span",{className:"text-lg",children:"🎯"})}),w.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 text-center",children:"Category"}),w.jsx("p",{className:"text-xs font-semibold text-center text-gray-800 dark:text-gray-200 truncate",children:rt})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 shadow-sm",children:[w.jsx("div",{className:"flex items-center justify-center mb-1",children:w.jsx("span",{className:"text-lg",children:"⚡"})}),w.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 text-center",children:"Difficulty"}),w.jsx("p",{className:"text-xs font-semibold text-center text-gray-800 dark:text-gray-200",children:R})]}),w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-2 shadow-sm",children:[w.jsx("div",{className:"flex items-center justify-center mb-1",children:w.jsx("span",{className:"text-lg",children:"👑"})}),w.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 text-center",children:"Title"}),w.jsx("p",{className:"text-xs font-semibold text-center text-purple-600 dark:text-purple-400 truncate",children:O})]})]})]})}),F&&w.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 text-red-700 dark:text-red-200 px-3 py-2 rounded-lg mb-3 text-sm",role:"alert",children:w.jsx("span",{className:"block sm:inline",children:F})}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx("button",{className:"px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-green-600 text-white font-bold text-base hover:from-green-600 hover:to-green-700 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>i("/"),children:"New Game"}),w.jsx("button",{className:"px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-bold text-base hover:from-purple-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>i("/beat-streak",{state:{streak:J,category:rt,timer:mt}}),children:"Beat the Streak"})]}),w.jsx("button",{className:"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-pink-500 to-pink-600 text-white font-bold text-base hover:from-pink-600 hover:to-pink-700 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>s(!0),children:"Challenge Friends"})]})]}),o&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:w.jsxs("div",{className:"bg-white rounded-xl p-4 w-80 text-center",children:[w.jsx("h2",{className:"text-xl font-bold mb-2 text-purple-800",children:"🎉 Congratulations!"}),w.jsx("p",{className:"text-sm mb-3",children:"Your score qualifies for the leaderboard!"}),w.jsxs("div",{className:"mb-3",children:[w.jsx("input",{type:"text",placeholder:"Enter your name",className:"w-full p-2 border-2 border-purple-200 rounded-lg mb-1 focus:border-purple-500 focus:outline-none text-sm",value:d,onChange:C=>g(C.target.value),maxLength:20}),w.jsx("p",{className:"text-xs text-gray-500",children:"Your name will be visible on the leaderboard"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{className:"flex-1 px-3 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-bold text-sm hover:from-purple-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow",onClick:L,disabled:!d.trim()||E,children:E?"Submitting...":"Submit"}),w.jsx("button",{className:"flex-1 px-3 py-2 rounded-lg bg-gradient-to-r from-gray-400 to-gray-500 text-white font-bold text-sm hover:from-gray-500 hover:to-gray-600 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>c(!1),disabled:E,children:"Cancel"})]})]})}),r&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:w.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-4 w-80 text-center transition-colors duration-200",children:[w.jsx("h2",{className:"text-xl font-bold mb-3 text-purple-800 dark:text-purple-300",children:"Share with Friends"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx("button",{className:"px-3 py-2 rounded-lg bg-gradient-to-r from-green-500 to-green-600 text-white font-bold text-sm hover:from-green-600 hover:to-green-700 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>I("whatsapp"),children:"WhatsApp"}),w.jsx("button",{className:"px-3 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-bold text-sm hover:from-purple-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>I("messages"),children:"Messages"})]}),w.jsx("button",{className:"mt-3 w-full px-3 py-2 rounded-lg bg-gradient-to-r from-gray-400 to-gray-500 text-white font-bold text-sm hover:from-gray-500 hover:to-gray-600 transform hover:scale-105 transition-all duration-200 shadow",onClick:()=>s(!1),children:"Close"})]})})]})}function Kx(){const i=Pn();return w.jsxs("div",{className:"h-auto sm:min-h-screen bg-white flex flex-col justify-center items-center p-4 text-center",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-24 sm:w-32 mb-4"}),w.jsx("h1",{className:"text-3xl font-bold mb-6",children:"About Bluff Buster"}),w.jsxs("div",{className:"max-w-2xl mx-auto",children:[w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"How to Play"}),w.jsx("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md text-left",children:w.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[w.jsx("li",{children:"Choose a category that interests you"}),w.jsx("li",{children:"You'll be presented with three statements"}),w.jsx("li",{children:"One of these statements is a lie"}),w.jsx("li",{children:"Find the lie before the timer runs out"}),w.jsx("li",{children:"Answer correctly to keep your streak alive"}),w.jsx("li",{children:"The longer your streak, the higher your title!"})]})})]}),w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Titles"}),w.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md text-left",children:[w.jsx("p",{className:"mb-4",children:"Earn titles based on your streak:"}),w.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[w.jsx("li",{children:"1 streak: Bluff Trainee"}),w.jsx("li",{children:"3 streak: Bluff Seeker"}),w.jsx("li",{children:"5 streak: Bluff Sniffer"}),w.jsx("li",{children:"7 streak: Bluff Warrior"}),w.jsx("li",{children:"10 streak: Bluff Master"}),w.jsx("li",{children:"12 streak: Bluff Ninja"}),w.jsx("li",{children:"15 streak: Bluff Guru"}),w.jsx("li",{children:"18 streak: Bluff Legend"}),w.jsx("li",{children:"20 streak: Bluff Champion"}),w.jsx("li",{children:"25 streak: Bluff Conqueror"}),w.jsx("li",{children:"30 streak: Bluff Overlord"}),w.jsx("li",{children:"35 streak: Bluff God"}),w.jsx("li",{children:"35+ streak: Bluff Buster Supreme"})]})]})]}),w.jsxs("section",{className:"mb-8",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Categories"}),w.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg shadow-md text-left",children:[w.jsx("p",{className:"mb-4",children:"Test your knowledge in various categories:"}),w.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[w.jsx("li",{children:"Hollywood Movies"}),w.jsx("li",{children:"Hollywood TV Shows"}),w.jsx("li",{children:"Hollywood Celebrities"}),w.jsx("li",{children:"Bollywood Movies"}),w.jsx("li",{children:"Bollywood TV Shows"}),w.jsx("li",{children:"Bollywood Celebrities"}),w.jsx("li",{children:"Pop Culture"}),w.jsx("li",{children:"Pop Culture India"}),w.jsx("li",{children:"Celebrities"}),w.jsx("li",{children:"Science"}),w.jsx("li",{children:"Astronomy"}),w.jsx("li",{children:"History"}),w.jsx("li",{children:"Geography"}),w.jsx("li",{children:"Tech"}),w.jsx("li",{children:"Food & Culture"}),w.jsx("li",{children:"Animals"})]})]})]}),w.jsx("button",{onClick:()=>i("/"),className:"px-6 py-3 rounded-lg bg-green-600 text-white hover:bg-green-700 font-bold",children:"Start Playing"})]})]})}function Xx(){const i=Pn(),[e]=yb(),r=e.get("category"),s=e.get("difficulty"),o=e.get("streak"),c=e.get("name")||"A friend",d=Bc(parseInt(o),r),g=y=>{switch(y==null?void 0:y.toLowerCase()){case"easy":return 20;case"medium":return 15;case"hard":return 10;default:return 15}},p=()=>{i(`/category/${r.toLowerCase().replace(/\s+/g,"-")}`,{state:{timer:g(s)}})};return!r||!s||!o?(i("/"),null):w.jsxs("div",{className:"h-auto sm:min-h-screen bg-white dark:bg-gray-900 flex flex-col justify-center items-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-24 sm:w-32 mb-4"}),w.jsx("h1",{className:"text-2xl font-bold mb-6 text-red-600",children:"Challenge Accepted!"}),w.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-700 p-6 rounded-lg shadow-md w-full max-w-sm mb-6 transition-colors duration-200",children:[w.jsxs("p",{className:"text-lg text-gray-800 dark:text-gray-100 mb-4",children:[w.jsx("span",{className:"font-bold text-purple-600",children:c}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" ("}),w.jsx("span",{className:"font-semibold text-purple-600",children:d}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:") has challenged you to beat their streak of "}),w.jsx("span",{className:"font-bold text-red-600",children:o}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" in "}),w.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:r}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" at "}),w.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:s}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:" difficulty!"})]}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:"Do you have what it takes to beat this challenge? 🏆"})]}),w.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-md w-full max-w-sm mb-6 transition-colors duration-200",children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Category"}),w.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:r})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Difficulty"}),w.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:s})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Streak to Beat"}),w.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:o})]})]})}),w.jsx("button",{onClick:p,className:"px-8 py-4 text-xl font-bold rounded-lg bg-green-600 text-white hover:bg-green-700 transition-all transform hover:scale-105",children:"Accept Challenge"})]})}function $x(){const i=Pn(),e=dn(),{correctAnswer:r,explanation:s,streak:o,category:c,timer:d}=e.state||{},[g,p]=G.useState(10),[y,E]=G.useState(!0);G.useEffect(()=>{if(y&&g>0){const A=setTimeout(()=>p(g-1),1e3);return()=>clearTimeout(A)}else y&&g===0&&i("/game-over",{state:{streak:o,category:c,timer:d,correctAnswer:r,explanation:s}})},[g,y,i,o,c,d,r,s]);const S=()=>{E(!1),i("/game-over",{state:{streak:o,category:c,timer:d,correctAnswer:r,explanation:s}})};return w.jsxs("div",{className:"h-screen bg-white dark:bg-gray-900 flex flex-col items-center justify-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-20 sm:w-24 mb-2"}),w.jsxs("div",{className:"w-full max-w-2xl",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-purple-800 dark:text-purple-300",children:"The Answer"}),w.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-gray-800 dark:to-gray-700 p-6 rounded-lg mb-6 transition-colors duration-200",children:[w.jsxs("p",{className:"text-xl sm:text-2xl font-semibold text-red-700 dark:text-red-400 mb-3",children:['"',r,'"']}),w.jsx("p",{className:"text-base text-gray-700 dark:text-gray-100",children:s})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:y?`Redirecting to leaderboard in ${g}...`:"Ready to continue?"}),w.jsx("button",{onClick:S,className:"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white font-bold text-base hover:from-purple-600 hover:to-purple-700 transform hover:scale-105 transition-all duration-200 shadow",children:"Continue to Leaderboard"})]})]})]})}function Zx(){const i=Pn(),e=dn(),{streak:r,category:s,timer:o}=e.state||{},d=(y=>{switch(y){case 20:return"Easy";case 15:return"Medium";case 10:return"Hard";default:return"Medium"}})(o),g=Bc(r,s),p=()=>{const[y,E]=s.split(" - "),S=P=>P.toLowerCase().replace(/\s+/g,"-"),A=`${S(y)}/${S(E)}`;i(`/category/${A}`,{state:{timer:o}})};return w.jsxs("div",{className:"h-screen bg-white dark:bg-gray-900 flex flex-col items-center justify-center p-4 text-center transition-colors duration-200",children:[w.jsx("img",{src:zr,alt:"Bluff Buster Banner",className:"w-20 sm:w-24 mb-2"}),w.jsxs("div",{className:"w-full max-w-2xl",children:[w.jsx("h2",{className:"text-2xl font-bold mb-6 text-purple-800 dark:text-purple-300",children:"Beat Your Streak"}),w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 mb-6 transition-colors duration-200",children:w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Current Streak"}),w.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:r})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Your Title"}),w.jsx("p",{className:"text-xl font-semibold text-purple-600 dark:text-purple-300",children:g})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Category"}),w.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:s})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Difficulty"}),w.jsx("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100",children:d})]})]})}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:["Ready to beat your streak of ",r," in ",s,"?"]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("button",{onClick:p,className:"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-green-600 text-white font-bold text-base hover:from-green-600 hover:to-green-700 transform hover:scale-105 transition-all duration-200 shadow",children:"Start Game"}),w.jsx("button",{onClick:()=>i("/game-over",{state:e.state}),className:"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-gray-400 to-gray-500 text-white font-bold text-base hover:from-gray-500 hover:to-gray-600 transform hover:scale-105 transition-all duration-200 shadow",children:"Back to Leaderboard"})]})]})]})]})}const gE=G.createContext();function Jx({children:i}){const[e,r]=G.useState(()=>{const o=localStorage.getItem("theme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches;return o?o==="dark":c});G.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light"),document.documentElement.classList.toggle("dark",e)},[e]);const s=()=>{r(o=>!o)};return w.jsx(gE.Provider,{value:{isDarkMode:e,toggleTheme:s},children:i})}function Wx(){const i=G.useContext(gE);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i}function tR(){const{isDarkMode:i,toggleTheme:e}=Wx();return w.jsx("button",{onClick:e,className:"fixed top-4 right-4 p-2 rounded-full bg-gray-200 dark:bg-gray-700 transition-colors duration-200 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Toggle theme",children:i?w.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):w.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})}function eR(){return w.jsx(Jx,{children:w.jsx(fb,{children:w.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[w.jsx(tR,{}),w.jsxs(z1,{children:[w.jsx(nr,{path:"/",element:w.jsx(Ab,{})}),w.jsx(nr,{path:"/difficulty",element:w.jsx(Sb,{})}),w.jsx(nr,{path:"/categories",element:w.jsx(xb,{})}),w.jsx(nr,{path:"/category/:mainCategorySlug/:subcategorySlug",element:w.jsx(Nb,{})}),w.jsx(nr,{path:"/game-over",element:w.jsx(Yx,{})}),w.jsx(nr,{path:"/answer",element:w.jsx($x,{})}),w.jsx(nr,{path:"/about",element:w.jsx(Kx,{})}),w.jsx(nr,{path:"/challenge",element:w.jsx(Xx,{})}),w.jsx(nr,{path:"/beat-streak",element:w.jsx(Zx,{})})]})]})})})}XT.createRoot(document.getElementById("root")).render(w.jsx(G.StrictMode,{children:w.jsx(eR,{})}));
